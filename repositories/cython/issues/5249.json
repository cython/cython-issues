{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "body": "### Is your feature request related to a problem? Please describe.\n\nMany Cython users would benefit from a compile mode (read, C macro) that increases the compatibility with future CPython releases, even at the cost of some performance.\r\n\r\nThe code that Cython generates for CPython takes advantage of several implementation details, e.g. PyLong digits or PyList/PyTuple arrays. These can change in new CPython releases, which requires Cython to adapt and users to regenerate their code.\r\n\r\nIn many cases, users care more about a future proof extension module than a highly performant one. The Limited C-API in CPython was introduced in order to cater for this use case, but is not currently complete enough to implement all of Cython (really, all of Python) on top of it.\r\n\r\nRelated discussions:\r\n- the \"LIMITED_API\" option that replaces all usages of CPython internals with generic, public C-API calls (https://github.com/cython/cython/issues/2542)\r\n- the ticket that @markshannon opened, asking us to avoid implementation details (https://github.com/cython/cython/issues/4382)\r\n- the list of CPython internals that we use (https://github.com/cython/cython/issues/4635)\r\n- several incompatibilities between the code that Cython generated and changes that appeared in CPython 3.12a5 (https://github.com/cython/cython/issues/5238)\n\n### Describe the solution you'd like.\n\nThere should be a separate compile option, similar to `CYTHON_LIMITED_API` (which enables the `CYTHON_COMPILING_IN_LIMITED_API` set of feature flags), but without the limitations of the Limited C-API.\n\n### Describe alternatives you've considered.\n\nWe could disable all usages of internals for future CPython releases, and only enable their usage in newer Cython releases that were tested on the respective CPython versions. This would make sure that Cython generated code keeps working in future CPython releases (as long as there are no changes to existing public C-API functions), but would introduce an enforced slow-down in new CPython releases that would require users to regenerate their code with a more recent Cython release to solve.\n\n### Additional context\n\nOne disadvantage is that adding a new C compile option increases the number of CI jobs that are necessary to guarantee the correct functioning of the generated code.",
    "closed_at": null,
    "comment_data": [],
    "comments": 0,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/5249/comments",
    "created_at": "2023-02-15T14:15:58Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2023-02-15T14:15:58Z",
            "event": "labeled",
            "id": 8526546563,
            "label": {
                "color": "444444",
                "name": "enhancement"
            },
            "node_id": "LE_lADOABDGAc5eh31YzwAAAAH8OMaD",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/8526546563"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2023-02-15T14:15:58Z",
            "event": "labeled",
            "id": 8526546572,
            "label": {
                "color": "444444",
                "name": "Code Generation"
            },
            "node_id": "LE_lADOABDGAc5eh31YzwAAAAH8OMaM",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/8526546572"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/9448417?v=4",
                "events_url": "https://api.github.com/users/markshannon/events{/privacy}",
                "followers_url": "https://api.github.com/users/markshannon/followers",
                "following_url": "https://api.github.com/users/markshannon/following{/other_user}",
                "gists_url": "https://api.github.com/users/markshannon/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/markshannon",
                "id": 9448417,
                "login": "markshannon",
                "node_id": "MDQ6VXNlcjk0NDg0MTc=",
                "organizations_url": "https://api.github.com/users/markshannon/orgs",
                "received_events_url": "https://api.github.com/users/markshannon/received_events",
                "repos_url": "https://api.github.com/users/markshannon/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/markshannon/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/markshannon/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/markshannon"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2023-02-15T14:15:59Z",
            "event": "mentioned",
            "id": 8526546674,
            "node_id": "MEE_lADOABDGAc5eh31YzwAAAAH8OMby",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/8526546674"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/9448417?v=4",
                "events_url": "https://api.github.com/users/markshannon/events{/privacy}",
                "followers_url": "https://api.github.com/users/markshannon/followers",
                "following_url": "https://api.github.com/users/markshannon/following{/other_user}",
                "gists_url": "https://api.github.com/users/markshannon/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/markshannon",
                "id": 9448417,
                "login": "markshannon",
                "node_id": "MDQ6VXNlcjk0NDg0MTc=",
                "organizations_url": "https://api.github.com/users/markshannon/orgs",
                "received_events_url": "https://api.github.com/users/markshannon/received_events",
                "repos_url": "https://api.github.com/users/markshannon/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/markshannon/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/markshannon/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/markshannon"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2023-02-15T14:15:59Z",
            "event": "subscribed",
            "id": 8526546697,
            "node_id": "SE_lADOABDGAc5eh31YzwAAAAH8OMcJ",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/8526546697"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2023-02-15T14:18:31Z",
            "event": "renamed",
            "id": 8526572993,
            "node_id": "RTE_lADOABDGAc5eh31YzwAAAAH8OS3B",
            "performed_via_github_app": null,
            "rename": {
                "from": "[ENH] Provide a \"compatibility over performance\" C compile mode",
                "to": "[ENH] Provide a \"compatibility over performance\" C compile mode for CPython"
            },
            "url": "https://api.github.com/repos/cython/cython/issues/events/8526572993"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/5249/events",
    "html_url": "https://github.com/cython/cython/issues/5249",
    "id": 1585937752,
    "labels": [
        {
            "color": "444444",
            "default": true,
            "description": null,
            "id": 425556243,
            "name": "enhancement",
            "node_id": "MDU6TGFiZWw0MjU1NTYyNDM=",
            "url": "https://api.github.com/repos/cython/cython/labels/enhancement"
        },
        {
            "color": "444444",
            "default": false,
            "description": null,
            "id": 425556330,
            "name": "Code Generation",
            "node_id": "MDU6TGFiZWw0MjU1NTYzMzA=",
            "url": "https://api.github.com/repos/cython/cython/labels/Code%20Generation"
        }
    ],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/5249/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOABDGAc5eh31Y",
    "number": 5249,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/cython/cython/issues/5249/reactions"
    },
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/cython/cython/issues/5249/timeline",
    "title": "[ENH] Provide a \"compatibility over performance\" C compile mode for CPython",
    "updated_at": "2023-02-15T14:18:31Z",
    "url": "https://api.github.com/repos/cython/cython/issues/5249",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
        "events_url": "https://api.github.com/users/scoder/events{/privacy}",
        "followers_url": "https://api.github.com/users/scoder/followers",
        "following_url": "https://api.github.com/users/scoder/following{/other_user}",
        "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/scoder",
        "id": 491659,
        "login": "scoder",
        "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
        "organizations_url": "https://api.github.com/users/scoder/orgs",
        "received_events_url": "https://api.github.com/users/scoder/received_events",
        "repos_url": "https://api.github.com/users/scoder/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/scoder"
    }
}