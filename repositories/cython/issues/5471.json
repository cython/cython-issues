{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Describe your issue\r\n\r\nConsider this simple loop that sums the elements in the second row of a 2d array.\r\n\r\n```\r\n#cython: language_level=3\r\n\r\nfrom cython cimport boundscheck\r\nfrom cython cimport wraparound\r\n\r\n\r\n@boundscheck(False)\r\n@wraparound(False)\r\ndef fast_sum(double[:, ::1] arr):\r\n    cdef int i=0\r\n    cdef double s=0.0\r\n    for i in range(arr.shape[1]):\r\n        s += arr[1, i]\r\n    return s\r\n```\r\n\r\ncython translates the inner part of the loop to:\r\n\r\n```\r\n s += arr[1, i]\r\n\r\n    __pyx_t_4 = 1;\r\n    __pyx_t_5 = __pyx_v_i;\r\n    __pyx_v_s = (__pyx_v_s + (*((double *) ( /* dim=1 */ ((char *) (((double *) ( /* dim=0 */ (__pyx_v_arr.data + __pyx_t_4 * __pyx_v_arr.strides[0]) )) + __pyx_t_5)) ))));\r\n  }\r\n```\r\n Instead of strides[0] it would be better if cython recognised that the second row is contiguous, as specified in the type signature and set it to 1.   This would potentially allow the C compiler to auto-vectorize the loop. This is all discussed at https://stackoverflow.com/questions/76407241/why-is-cython-so-much-slower-than-numba-for-this-simple-loop .\r\n",
    "closed_at": null,
    "comment_data": [],
    "comments": 0,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/5471/comments",
    "created_at": "2023-06-06T13:24:18Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2023-06-06T16:37:40Z",
            "event": "labeled",
            "id": 9448514021,
            "label": {
                "color": "444444",
                "name": "Optimization"
            },
            "node_id": "LE_lADOABDGAc5n8Va1zwAAAAIzLOHl",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/9448514021"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/5471/events",
    "html_url": "https://github.com/cython/cython/issues/5471",
    "id": 1743869621,
    "labels": [
        {
            "color": "444444",
            "default": false,
            "description": null,
            "id": 425556272,
            "name": "Optimization",
            "node_id": "MDU6TGFiZWw0MjU1NTYyNzI=",
            "url": "https://api.github.com/repos/cython/cython/labels/Optimization"
        }
    ],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/5471/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOABDGAc5n8Va1",
    "number": 5471,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/cython/cython/issues/5471/reactions"
    },
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/cython/cython/issues/5471/timeline",
    "title": "Missing optimization due to lack of inference of contiguous array",
    "updated_at": "2023-06-06T16:37:40Z",
    "url": "https://api.github.com/repos/cython/cython/issues/5471",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/4278485?v=4",
        "events_url": "https://api.github.com/users/lesshaste/events{/privacy}",
        "followers_url": "https://api.github.com/users/lesshaste/followers",
        "following_url": "https://api.github.com/users/lesshaste/following{/other_user}",
        "gists_url": "https://api.github.com/users/lesshaste/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/lesshaste",
        "id": 4278485,
        "login": "lesshaste",
        "node_id": "MDQ6VXNlcjQyNzg0ODU=",
        "organizations_url": "https://api.github.com/users/lesshaste/orgs",
        "received_events_url": "https://api.github.com/users/lesshaste/received_events",
        "repos_url": "https://api.github.com/users/lesshaste/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/lesshaste/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/lesshaste/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/lesshaste"
    }
}