{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "**Describe the bug**\r\nCython's parser chokes on walrus operators within a parenthesis, which is legal python. The parser expects a closing parenthesis but finds a colon instead.\r\n```\r\nCython.Compiler.Errors.CompileError: \r\nError compiling Cython file:\r\n------------------------------------------------------------\r\nmyvar = int(env_val) if (env_val := os.getenv(\"MYVAR\")) else 0\r\n                                 ^\r\n------------------------------------------------------------\r\n(tree fragment):1:33: Expected ')', found ':'\r\n```\r\n**To Reproduce**\r\n```py\r\ncython.inline('myvar = int(env_val) if (env_val := os.getenv(\"MYVAR\")) else 0')\r\n```\r\n\r\n**Expected behavior**\r\nCompilation as normal. According to #2636 and #3691 this should be implemented already, so I don't understand why it dies.\r\n\r\n\r\n**Environment (please complete the following information):**\r\n - Linux Mint Una 20.3 (Based on Ubuntu, Kernel 5.4.0)\r\n - Python version 3.10.2\r\n - Cython version 0.29.28\r\n\r\n**Additional context**\r\nNoob to Cython. Attempted to use Cython on pure python without any modified type-hinting yet. Eventually I will make pxd headers and/or a way to generate them if there isn't already.\r\n",
    "closed_at": "2022-02-25T07:02:07Z",
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "Found another\r\n```py\r\nif (val := myclass.anotherclass.value) or not self.function():\r\n```\r\nSeems to be the parentheses screwing things up",
            "created_at": "2022-02-25T00:33:50Z",
            "html_url": "https://github.com/cython/cython/issues/4659#issuecomment-1050396303",
            "id": 1050396303,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4659",
            "node_id": "IC_kwDOABDGAc4-m8aP",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1050396303/reactions"
            },
            "updated_at": "2022-02-25T00:33:50Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1050396303",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/80119007?v=4",
                "events_url": "https://api.github.com/users/AstroFloof/events{/privacy}",
                "followers_url": "https://api.github.com/users/AstroFloof/followers",
                "following_url": "https://api.github.com/users/AstroFloof/following{/other_user}",
                "gists_url": "https://api.github.com/users/AstroFloof/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/AstroFloof",
                "id": 80119007,
                "login": "AstroFloof",
                "node_id": "MDQ6VXNlcjgwMTE5MDA3",
                "organizations_url": "https://api.github.com/users/AstroFloof/orgs",
                "received_events_url": "https://api.github.com/users/AstroFloof/received_events",
                "repos_url": "https://api.github.com/users/AstroFloof/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/AstroFloof/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/AstroFloof/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/AstroFloof"
            }
        },
        {
            "author_association": "NONE",
            "body": "Also occurs in 3.0.0a10",
            "created_at": "2022-02-25T01:00:36Z",
            "html_url": "https://github.com/cython/cython/issues/4659#issuecomment-1050413478",
            "id": 1050413478,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4659",
            "node_id": "IC_kwDOABDGAc4-nAmm",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1050413478/reactions"
            },
            "updated_at": "2022-02-25T01:00:36Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1050413478",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/80119007?v=4",
                "events_url": "https://api.github.com/users/AstroFloof/events{/privacy}",
                "followers_url": "https://api.github.com/users/AstroFloof/followers",
                "following_url": "https://api.github.com/users/AstroFloof/following{/other_user}",
                "gists_url": "https://api.github.com/users/AstroFloof/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/AstroFloof",
                "id": 80119007,
                "login": "AstroFloof",
                "node_id": "MDQ6VXNlcjgwMTE5MDA3",
                "organizations_url": "https://api.github.com/users/AstroFloof/orgs",
                "received_events_url": "https://api.github.com/users/AstroFloof/received_events",
                "repos_url": "https://api.github.com/users/AstroFloof/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/AstroFloof/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/AstroFloof/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/AstroFloof"
            }
        },
        {
            "author_association": "NONE",
            "body": "Ok what the heck\r\n```py\r\n            elif match := await regex_with_timeout(patterns[0], line):\r\n```\r\nalso dies on both versions\r\nso it's not the parens",
            "created_at": "2022-02-25T01:10:39Z",
            "html_url": "https://github.com/cython/cython/issues/4659#issuecomment-1050418286",
            "id": 1050418286,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4659",
            "node_id": "IC_kwDOABDGAc4-nBxu",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1050418286/reactions"
            },
            "updated_at": "2022-02-25T01:11:13Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1050418286",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/80119007?v=4",
                "events_url": "https://api.github.com/users/AstroFloof/events{/privacy}",
                "followers_url": "https://api.github.com/users/AstroFloof/followers",
                "following_url": "https://api.github.com/users/AstroFloof/following{/other_user}",
                "gists_url": "https://api.github.com/users/AstroFloof/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/AstroFloof",
                "id": 80119007,
                "login": "AstroFloof",
                "node_id": "MDQ6VXNlcjgwMTE5MDA3",
                "organizations_url": "https://api.github.com/users/AstroFloof/orgs",
                "received_events_url": "https://api.github.com/users/AstroFloof/received_events",
                "repos_url": "https://api.github.com/users/AstroFloof/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/AstroFloof/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/AstroFloof/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/AstroFloof"
            }
        },
        {
            "author_association": "NONE",
            "body": "Alright, I just installed from the master branch.\r\nIt seems like that fixed it, so I suppose this issue should be closed. However, why was #2636 closed before a solution was released? I'll keep this open for now unless one of yall closes it.\r\nNow I have to wait on #4029 \r\n",
            "created_at": "2022-02-25T01:27:07Z",
            "html_url": "https://github.com/cython/cython/issues/4659#issuecomment-1050426026",
            "id": 1050426026,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4659",
            "node_id": "IC_kwDOABDGAc4-nDqq",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1050426026/reactions"
            },
            "updated_at": "2022-02-25T01:27:07Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1050426026",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/80119007?v=4",
                "events_url": "https://api.github.com/users/AstroFloof/events{/privacy}",
                "followers_url": "https://api.github.com/users/AstroFloof/followers",
                "following_url": "https://api.github.com/users/AstroFloof/following{/other_user}",
                "gists_url": "https://api.github.com/users/AstroFloof/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/AstroFloof",
                "id": 80119007,
                "login": "AstroFloof",
                "node_id": "MDQ6VXNlcjgwMTE5MDA3",
                "organizations_url": "https://api.github.com/users/AstroFloof/orgs",
                "received_events_url": "https://api.github.com/users/AstroFloof/received_events",
                "repos_url": "https://api.github.com/users/AstroFloof/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/AstroFloof/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/AstroFloof/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/AstroFloof"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Now I have to wait on #4029\r\n\r\nSure, waiting is something you can do. However, something that usually feels much more productive to people than waiting is helping out. You may give that a try.\r\n\r\n\r\n",
            "created_at": "2022-02-25T07:02:07Z",
            "html_url": "https://github.com/cython/cython/issues/4659#issuecomment-1050580670",
            "id": 1050580670,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4659",
            "node_id": "IC_kwDOABDGAc4-npa-",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1050580670/reactions"
            },
            "updated_at": "2022-02-25T07:02:07Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1050580670",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "author_association": "NONE",
            "body": "> > Now I have to wait on #4029\r\n> \r\n> Sure, waiting is something you can do. However, something that usually feels much more productive to people than waiting is helping out. You may give that a try.\r\n\r\nSorry, I already have a bunch on my plate, and I don't know the first thing about Cython internals or parsing/transpilation. I wish I did, so I could help.\r\nGood luck with future development!",
            "created_at": "2022-02-25T16:47:48Z",
            "html_url": "https://github.com/cython/cython/issues/4659#issuecomment-1051018103",
            "id": 1051018103,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4659",
            "node_id": "IC_kwDOABDGAc4-pUN3",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1051018103/reactions"
            },
            "updated_at": "2022-02-25T16:47:48Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1051018103",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/80119007?v=4",
                "events_url": "https://api.github.com/users/AstroFloof/events{/privacy}",
                "followers_url": "https://api.github.com/users/AstroFloof/followers",
                "following_url": "https://api.github.com/users/AstroFloof/following{/other_user}",
                "gists_url": "https://api.github.com/users/AstroFloof/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/AstroFloof",
                "id": 80119007,
                "login": "AstroFloof",
                "node_id": "MDQ6VXNlcjgwMTE5MDA3",
                "organizations_url": "https://api.github.com/users/AstroFloof/orgs",
                "received_events_url": "https://api.github.com/users/AstroFloof/received_events",
                "repos_url": "https://api.github.com/users/AstroFloof/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/AstroFloof/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/AstroFloof/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/AstroFloof"
            }
        }
    ],
    "comments": 6,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/4659/comments",
    "created_at": "2022-02-25T00:18:26Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/80119007?v=4",
                "events_url": "https://api.github.com/users/AstroFloof/events{/privacy}",
                "followers_url": "https://api.github.com/users/AstroFloof/followers",
                "following_url": "https://api.github.com/users/AstroFloof/following{/other_user}",
                "gists_url": "https://api.github.com/users/AstroFloof/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/AstroFloof",
                "id": 80119007,
                "login": "AstroFloof",
                "node_id": "MDQ6VXNlcjgwMTE5MDA3",
                "organizations_url": "https://api.github.com/users/AstroFloof/orgs",
                "received_events_url": "https://api.github.com/users/AstroFloof/received_events",
                "repos_url": "https://api.github.com/users/AstroFloof/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/AstroFloof/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/AstroFloof/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/AstroFloof"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2022-02-25T01:12:59Z",
            "event": "renamed",
            "id": 6136159469,
            "node_id": "RTE_lADOABDGAc5EihwgzwAAAAFtvlzt",
            "performed_via_github_app": null,
            "rename": {
                "from": "[BUG] PEP 572 Parenthesized Walrus Named Expression borked :(",
                "to": "[BUG] PEP 572 (:=) doesn't seem to be implemented"
            },
            "url": "https://api.github.com/repos/cython/cython/issues/events/6136159469"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/80119007?v=4",
                "events_url": "https://api.github.com/users/AstroFloof/events{/privacy}",
                "followers_url": "https://api.github.com/users/AstroFloof/followers",
                "following_url": "https://api.github.com/users/AstroFloof/following{/other_user}",
                "gists_url": "https://api.github.com/users/AstroFloof/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/AstroFloof",
                "id": 80119007,
                "login": "AstroFloof",
                "node_id": "MDQ6VXNlcjgwMTE5MDA3",
                "organizations_url": "https://api.github.com/users/AstroFloof/orgs",
                "received_events_url": "https://api.github.com/users/AstroFloof/received_events",
                "repos_url": "https://api.github.com/users/AstroFloof/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/AstroFloof/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/AstroFloof/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/AstroFloof"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2022-02-25T01:29:10Z",
            "event": "renamed",
            "id": 6136209147,
            "node_id": "RTE_lADOABDGAc5EihwgzwAAAAFtvx77",
            "performed_via_github_app": null,
            "rename": {
                "from": "[BUG] PEP 572 (:=) doesn't seem to be implemented",
                "to": "Attempts to use PEP 572 with PyPI releases fail - issues closed without fixing release"
            },
            "url": "https://api.github.com/repos/cython/cython/issues/events/6136209147"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2022-02-25T06:59:41Z",
            "event": "labeled",
            "id": 6137154791,
            "label": {
                "color": "444444",
                "name": "R: duplicate"
            },
            "node_id": "LE_lADOABDGAc5EihwgzwAAAAFtzYzn",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/6137154791"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2022-02-25T07:02:07Z",
            "event": "closed",
            "id": 6137163066,
            "node_id": "CE_lADOABDGAc5EihwgzwAAAAFtza06",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/6137163066"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/4659/events",
    "html_url": "https://github.com/cython/cython/issues/4659",
    "id": 1149901856,
    "labels": [
        {
            "color": "444444",
            "default": false,
            "description": null,
            "id": 425556894,
            "name": "R: duplicate",
            "node_id": "MDU6TGFiZWw0MjU1NTY4OTQ=",
            "url": "https://api.github.com/repos/cython/cython/labels/R:%20duplicate"
        }
    ],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/4659/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOABDGAc5Eihwg",
    "number": 4659,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/cython/cython/issues/4659/reactions"
    },
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "closed",
    "timeline_url": "https://api.github.com/repos/cython/cython/issues/4659/timeline",
    "title": "Attempts to use PEP 572 with PyPI releases fail - issues closed without fixing release",
    "updated_at": "2022-02-25T16:47:48Z",
    "url": "https://api.github.com/repos/cython/cython/issues/4659",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/80119007?v=4",
        "events_url": "https://api.github.com/users/AstroFloof/events{/privacy}",
        "followers_url": "https://api.github.com/users/AstroFloof/followers",
        "following_url": "https://api.github.com/users/AstroFloof/following{/other_user}",
        "gists_url": "https://api.github.com/users/AstroFloof/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/AstroFloof",
        "id": 80119007,
        "login": "AstroFloof",
        "node_id": "MDQ6VXNlcjgwMTE5MDA3",
        "organizations_url": "https://api.github.com/users/AstroFloof/orgs",
        "received_events_url": "https://api.github.com/users/AstroFloof/received_events",
        "repos_url": "https://api.github.com/users/AstroFloof/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/AstroFloof/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/AstroFloof/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/AstroFloof"
    }
}