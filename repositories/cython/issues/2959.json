{
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "**Steps to reproduce:**\r\n\r\n0. Set env: vcvars64.bat\r\n1. Create file: out.pyx:\r\n```\r\n#cython: language_level=3\r\ndef foo():\r\n    class A:\r\n        pass\r\n    class B(A):\r\n        def __init__(self):\r\n            super().__init__()\r\n    return 42\r\nfoo()\r\n```\r\n2. Cythonize: `cython --embed out.pyx`\r\n3. Compile:` cl.exe /nologo /Ox /MD /W3 /GS- /Zi -I\"c:\\Program Files\\Python37\\include\" /Tcout.c /link /OUT:\"out.exe\" /SUBSYSTEM:CONSOLE /MACHINE:X64 /LIBPATH:\"c:\\Program Files\\Python37\\libs\"`\r\n4. Debug: `devenv /debugexe out.exe`\r\n5. Run the exe\r\n\r\n**Expected result**: No crash.\r\n**Actual result**: Crashes with\r\n`Exception thrown at 0x00007FF7CDB236B5 in out.exe: 0xC0000005: Access violation writing location 0x0000000000000000.`\r\nin this line(marked //HERE):\r\n ```\r\n/* \"out.pyx\":8\r\n *         def __init__(self):\r\n *             super().__init__()\r\n *     return 42             # <<<<<<<<<<<<<<\r\n * foo()\r\n */\r\n  __Pyx_XDECREF(__pyx_r);\r\n  __Pyx_INCREF(__pyx_int_42);\r\n  __pyx_r = __pyx_int_42;\r\n  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0; //HERE\r\n  goto __pyx_L0;\r\n```\r\n\r\nCall stack: \r\n```\r\n>\tout.exe!__pyx_pf_3out_foo(_object * __pyx_self) Line 1413\tC\r\n \tout.exe!__Pyx_PyObject_CallMethO(_object * func, _object * arg) Line 2071\tC\r\n \tout.exe!__pyx_pymod_exec_out(_object * __pyx_pyinit_module) Line 1836\tC\r\n \t[External Code]\t\r\n \tout.exe!wmain(int argc, wchar_t * * argv) Line 3260\tC\r\n \t[External Code]\t\r\nLocals:\r\n```\r\n\r\n  | Name | Value | Type\r\n-- | -- | -- | --\r\n▶ | __pyx_r | python37.dll!0x00007ffd9a48e870 (load symbols for additional information) {ob_refcnt=3 ob_type=python37.dll!0x00007ffd9a4171e0 {...} } | _object *\r\n▶ | __pyx_self | 0x0000000000000000 <NULL> | _object *\r\n▶ | __pyx_t_1 | 0x0000021912c889e8 {ob_refcnt=1 ob_type=python37.dll!0x00007ffd9a419a10 {ob_base={ob_base={ob_refcnt=...} ...} ...} } | _object *\r\n  | __pyx_t_2 | Variable is optimized away and not available. |  \r\n▶ | __pyx_t_3 | 0x0000021912988240 {ob_refcnt=0 ob_type=python37.dll!0x00007ffd9a40e860 {ob_base={ob_base={ob_refcnt=...} ...} ...} } | _object *\r\n▶ | __pyx_t_4 | 0x0000021912916288 {ob_refcnt=0 ob_type=python37.dll!0x00007ffd9a416d30 {ob_base={ob_base={ob_refcnt=...} ...} ...} } | _object *\r\n  | __pyx_t_5 | Variable is optimized away and not available. |  \r\n▶ | __pyx_v_A | 0x0000021910d2d298 {ob_refcnt=7 ob_type=python37.dll!0x00007ffd9a419ba0 {ob_base={ob_base={ob_refcnt=...} ...} ...} } | _object *\r\n▶ | __pyx_v_B | 0x0000021910d2aa08 {ob_refcnt=3 ob_type=python37.dll!0x00007ffd9a419ba0 {ob_base={ob_base={ob_refcnt=...} ...} ...} } | _object *\r\n  | _py_decref_tmp | Variable is optimized away and not available. |  \r\n\r\n\r\n```\r\n\r\n```\r\n\r\nAdditional info:\r\n```\r\nC:\\Users\\Dom\\code\\league_iq_flutter\\windows>pip show cython\r\nName: Cython\r\nVersion: 0.29.7\r\nSummary: The Cython compiler for writing C extensions for the Python language.\r\nHome-page: http://cython.org/\r\nAuthor: Robert Bradshaw, Stefan Behnel, Dag Seljebotn, Greg Ewing, et al.\r\nAuthor-email: cython-devel@python.org\r\nLicense: Apache\r\nLocation: c:\\program files\\python37\\lib\\site-packages\r\nRequires:\r\nRequired-by:\r\n\r\nC:\\Users\\Dom\\code\\league_iq_flutter\\windows>python --version\r\nPython 3.7.2\r\n\r\nC:\\Users\\Dom\\code\\league_iq_flutter\\windows>\r\n```\r\nPlatform: Windows 10 64bit\r\nIf I run this file in python it runs fine.\r\nIf i remove the line super().__init__() in class B the program runs fine.\r\n\r\n",
    "closed_at": null,
    "comment_data": [],
    "comments": 0,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/2959/comments",
    "created_at": "2019-05-17T20:17:08Z",
    "event_data": [],
    "events_url": "https://api.github.com/repos/cython/cython/issues/2959/events",
    "html_url": "https://github.com/cython/cython/issues/2959",
    "id": 445601917,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/2959/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU0NDU2MDE5MTc=",
    "number": 2959,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "title": "Embedded cython .exe crashes on super().__init__()",
    "updated_at": "2019-05-17T20:17:08Z",
    "url": "https://api.github.com/repos/cython/cython/issues/2959",
    "user": {
        "avatar_url": "https://avatars3.githubusercontent.com/u/38117478?v=4",
        "events_url": "https://api.github.com/users/deekay42/events{/privacy}",
        "followers_url": "https://api.github.com/users/deekay42/followers",
        "following_url": "https://api.github.com/users/deekay42/following{/other_user}",
        "gists_url": "https://api.github.com/users/deekay42/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/deekay42",
        "id": 38117478,
        "login": "deekay42",
        "node_id": "MDQ6VXNlcjM4MTE3NDc4",
        "organizations_url": "https://api.github.com/users/deekay42/orgs",
        "received_events_url": "https://api.github.com/users/deekay42/received_events",
        "repos_url": "https://api.github.com/users/deekay42/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/deekay42/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/deekay42/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/deekay42"
    }
}