{
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "\r\nHomebrew places a distutils.cfg file which overrides the include_dirs parameter. This means that setting include_dirs in the call to pyximport.install has no effect. Hence the (common) use case of building a Cython/numpy extension module with pyximport silently fails with no clear way to debug.\r\n\r\nI am not quite sure who's fault it is. Perhaps Homebrew are at fault for placing a custom distutils.cfg. But as it is, this problem is very difficult to debug. Even a warning regarding the override would be a major improvement.\r\n\r\n# Reproducing\r\n\r\nI'm using the latest homebrewed version of Python (2.7.13) with Cython (0.25.2).\r\n\r\n*testing.py:*\r\nimport pyximport\r\nimport numpy\r\npyximport.install(setup_args={'include_dirs': numpy.get_include()})\r\n\r\nimport testing_pyx\r\n\r\n\r\n\r\n*testing_pyx.pyx:*\r\nimport cython\r\ncimport numpy\r\n\r\n",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "I am suffering from the same problem.",
            "created_at": "2019-01-14T17:09:34Z",
            "html_url": "https://github.com/cython/cython/issues/1725#issuecomment-454083144",
            "id": 454083144,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/1725",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDA4MzE0NA==",
            "updated_at": "2019-01-14T17:09:34Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/454083144",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/2631586?v=4",
                "events_url": "https://api.github.com/users/HDembinski/events{/privacy}",
                "followers_url": "https://api.github.com/users/HDembinski/followers",
                "following_url": "https://api.github.com/users/HDembinski/following{/other_user}",
                "gists_url": "https://api.github.com/users/HDembinski/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/HDembinski",
                "id": 2631586,
                "login": "HDembinski",
                "node_id": "MDQ6VXNlcjI2MzE1ODY=",
                "organizations_url": "https://api.github.com/users/HDembinski/orgs",
                "received_events_url": "https://api.github.com/users/HDembinski/received_events",
                "repos_url": "https://api.github.com/users/HDembinski/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/HDembinski/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/HDembinski/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/HDembinski"
            }
        },
        {
            "author_association": "NONE",
            "body": "Same here.\r\n\r\nAn ugly fix is setting `CFLAGS` manually:\r\n\r\n```\r\nimport pyximport\r\nnumpy_path = numpy.get_include()\r\nos.environ['CFLAGS'] = \"-I\" + numpy_path\r\npyximport.install(setup_args={\"include_dirs\":numpy_path})\r\n```\r\n",
            "created_at": "2019-01-20T16:11:11Z",
            "html_url": "https://github.com/cython/cython/issues/1725#issuecomment-455879200",
            "id": 455879200,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/1725",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NTg3OTIwMA==",
            "updated_at": "2019-01-20T16:11:11Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/455879200",
            "user": {
                "avatar_url": "https://avatars3.githubusercontent.com/u/11859538?v=4",
                "events_url": "https://api.github.com/users/poke1024/events{/privacy}",
                "followers_url": "https://api.github.com/users/poke1024/followers",
                "following_url": "https://api.github.com/users/poke1024/following{/other_user}",
                "gists_url": "https://api.github.com/users/poke1024/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/poke1024",
                "id": 11859538,
                "login": "poke1024",
                "node_id": "MDQ6VXNlcjExODU5NTM4",
                "organizations_url": "https://api.github.com/users/poke1024/orgs",
                "received_events_url": "https://api.github.com/users/poke1024/received_events",
                "repos_url": "https://api.github.com/users/poke1024/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/poke1024/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/poke1024/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/poke1024"
            }
        },
        {
            "author_association": "NONE",
            "body": "Cool, thank you for the work-around, it works for me, still, this should be solved properly.",
            "created_at": "2019-01-21T11:22:30Z",
            "html_url": "https://github.com/cython/cython/issues/1725#issuecomment-456040337",
            "id": 456040337,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/1725",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NjA0MDMzNw==",
            "updated_at": "2019-01-21T11:22:30Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/456040337",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/2631586?v=4",
                "events_url": "https://api.github.com/users/HDembinski/events{/privacy}",
                "followers_url": "https://api.github.com/users/HDembinski/followers",
                "following_url": "https://api.github.com/users/HDembinski/following{/other_user}",
                "gists_url": "https://api.github.com/users/HDembinski/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/HDembinski",
                "id": 2631586,
                "login": "HDembinski",
                "node_id": "MDQ6VXNlcjI2MzE1ODY=",
                "organizations_url": "https://api.github.com/users/HDembinski/orgs",
                "received_events_url": "https://api.github.com/users/HDembinski/received_events",
                "repos_url": "https://api.github.com/users/HDembinski/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/HDembinski/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/HDembinski/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/HDembinski"
            }
        },
        {
            "author_association": "NONE",
            "body": "Why is it so difficult to fix pyximport to work as intended? The worst part is that there is no way of knowing problem is related to brew configuration unless you check all other possible problems.\r\n\r\nPeople using Mac searching on google about: `'numpy/arrayobject.h' file not found` will get nothing relevant.",
            "created_at": "2019-08-30T15:50:47Z",
            "html_url": "https://github.com/cython/cython/issues/1725#issuecomment-526652740",
            "id": 526652740,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/1725",
            "node_id": "MDEyOklzc3VlQ29tbWVudDUyNjY1Mjc0MA==",
            "updated_at": "2019-08-30T15:50:47Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/526652740",
            "user": {
                "avatar_url": "https://avatars3.githubusercontent.com/u/1024423?v=4",
                "events_url": "https://api.github.com/users/jbvsmo/events{/privacy}",
                "followers_url": "https://api.github.com/users/jbvsmo/followers",
                "following_url": "https://api.github.com/users/jbvsmo/following{/other_user}",
                "gists_url": "https://api.github.com/users/jbvsmo/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jbvsmo",
                "id": 1024423,
                "login": "jbvsmo",
                "node_id": "MDQ6VXNlcjEwMjQ0MjM=",
                "organizations_url": "https://api.github.com/users/jbvsmo/orgs",
                "received_events_url": "https://api.github.com/users/jbvsmo/received_events",
                "repos_url": "https://api.github.com/users/jbvsmo/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jbvsmo/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jbvsmo/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jbvsmo"
            }
        }
    ],
    "comments": 4,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/1725/comments",
    "created_at": "2017-06-02T17:21:19Z",
    "event_data": [],
    "events_url": "https://api.github.com/repos/cython/cython/issues/1725/events",
    "html_url": "https://github.com/cython/cython/issues/1725",
    "id": 233247554,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/1725/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWUyMzMyNDc1NTQ=",
    "number": 1725,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "title": "Bad behavior of pyximport on OS X with home-brewed Python",
    "updated_at": "2019-08-30T15:50:47Z",
    "url": "https://api.github.com/repos/cython/cython/issues/1725",
    "user": {
        "avatar_url": "https://avatars3.githubusercontent.com/u/150537?v=4",
        "events_url": "https://api.github.com/users/mosco/events{/privacy}",
        "followers_url": "https://api.github.com/users/mosco/followers",
        "following_url": "https://api.github.com/users/mosco/following{/other_user}",
        "gists_url": "https://api.github.com/users/mosco/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/mosco",
        "id": 150537,
        "login": "mosco",
        "node_id": "MDQ6VXNlcjE1MDUzNw==",
        "organizations_url": "https://api.github.com/users/mosco/orgs",
        "received_events_url": "https://api.github.com/users/mosco/received_events",
        "repos_url": "https://api.github.com/users/mosco/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/mosco/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/mosco/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/mosco"
    }
}