{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "I have an error when use a default attribute name. I have this code:\r\n\r\npyx\r\n```python\r\ncdef class Field:\r\n\r\n    _internal_type = None\r\n\r\n    def __init__(self, default=None):\r\n        self.default = default\r\n\r\n    cpdef public parse(self, value):\r\n        if value is None or type(value) is self._internal_type:\r\n            return value\r\n        return self._internal_type(value)\r\n\r\n\r\ncdef class StrField(Field):\r\n\r\n    _internal_type = str\r\n```\r\n\r\npxd\r\n\r\n```python\r\ncdef class Field:\r\n    cdef public default\r\n    cpdef public parse(self, value)\r\n\r\n\r\ncdef class StrField(Field):\r\n    pass\r\n```\r\nWhen I compile this code I get this error (I can paste all traceback if it is needed):\r\n\r\n`nyoibo/fields.c:847:13: error: expected identifier or ‘(’ before ‘default’\r\n  847 |   PyObject *default;`\r\n`warning: no semicolon at end of struct or union` \r\n\r\nBut if I use other attribute name, like `default_value`, it's works perfectly.\r\nThanks.",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Not sure yet, but you might have hit a bug, or at least an unfortunate language quirk.\r\n\r\n`default` is a reserved name in C, and we normally escape those before writing them out into the C code. However, declaring the attribute as `public` prevents the internal escaping.\r\nhttps://github.com/cython/cython/blob/2c7c22f51405299a4e247f78edf52957d30cf71d/Cython/Compiler/Symtab.py#L2229-L2230\r\nWhat you probably intended was to get Python property accessors for the attribute, not make it publicly accessible for other C code. However, both unfortunately use the same language feature, the `public` modifier.\r\n\r\nYou can work around this problem by giving the attribute a different internal C name, e.g.:\r\n`cdef public default \"_default\"`",
            "created_at": "2020-07-09T06:05:58Z",
            "html_url": "https://github.com/cython/cython/issues/3735#issuecomment-655921402",
            "id": 655921402,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/3735",
            "node_id": "MDEyOklzc3VlQ29tbWVudDY1NTkyMTQwMg==",
            "updated_at": "2020-07-09T06:05:58Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/655921402",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "author_association": "NONE",
            "body": "Yeah, my work around was to use `default_value`. It's not a big deal. Thank you.",
            "created_at": "2020-07-13T00:01:55Z",
            "html_url": "https://github.com/cython/cython/issues/3735#issuecomment-657295949",
            "id": 657295949,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/3735",
            "node_id": "MDEyOklzc3VlQ29tbWVudDY1NzI5NTk0OQ==",
            "updated_at": "2020-07-13T00:02:03Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/657295949",
            "user": {
                "avatar_url": "https://avatars3.githubusercontent.com/u/4231101?v=4",
                "events_url": "https://api.github.com/users/pity7736/events{/privacy}",
                "followers_url": "https://api.github.com/users/pity7736/followers",
                "following_url": "https://api.github.com/users/pity7736/following{/other_user}",
                "gists_url": "https://api.github.com/users/pity7736/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/pity7736",
                "id": 4231101,
                "login": "pity7736",
                "node_id": "MDQ6VXNlcjQyMzExMDE=",
                "organizations_url": "https://api.github.com/users/pity7736/orgs",
                "received_events_url": "https://api.github.com/users/pity7736/received_events",
                "repos_url": "https://api.github.com/users/pity7736/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/pity7736/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/pity7736/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/pity7736"
            }
        }
    ],
    "comments": 2,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/3735/comments",
    "created_at": "2020-07-09T05:03:51Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2020-07-09T06:06:14Z",
            "event": "labeled",
            "id": 3528108234,
            "label": {
                "color": "444444",
                "name": "Code Generation"
            },
            "node_id": "MDEyOkxhYmVsZWRFdmVudDM1MjgxMDgyMzQ=",
            "url": "https://api.github.com/repos/cython/cython/issues/events/3528108234"
        },
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2020-07-09T06:06:14Z",
            "event": "labeled",
            "id": 3528108236,
            "label": {
                "color": "444444",
                "name": "Cython Language Feature"
            },
            "node_id": "MDEyOkxhYmVsZWRFdmVudDM1MjgxMDgyMzY=",
            "url": "https://api.github.com/repos/cython/cython/issues/events/3528108236"
        },
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2020-07-09T06:06:14Z",
            "event": "labeled",
            "id": 3528108239,
            "label": {
                "color": "444444",
                "name": "defect"
            },
            "node_id": "MDEyOkxhYmVsZWRFdmVudDM1MjgxMDgyMzk=",
            "url": "https://api.github.com/repos/cython/cython/issues/events/3528108239"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/3735/events",
    "html_url": "https://github.com/cython/cython/issues/3735",
    "id": 653765843,
    "labels": [
        {
            "color": "444444",
            "default": false,
            "description": null,
            "id": 425556330,
            "name": "Code Generation",
            "node_id": "MDU6TGFiZWw0MjU1NTYzMzA=",
            "url": "https://api.github.com/repos/cython/cython/labels/Code%20Generation"
        },
        {
            "color": "444444",
            "default": false,
            "description": null,
            "id": 425559948,
            "name": "Cython Language Feature",
            "node_id": "MDU6TGFiZWw0MjU1NTk5NDg=",
            "url": "https://api.github.com/repos/cython/cython/labels/Cython%20Language%20Feature"
        },
        {
            "color": "444444",
            "default": false,
            "description": null,
            "id": 425553654,
            "name": "defect",
            "node_id": "MDU6TGFiZWw0MjU1NTM2NTQ=",
            "url": "https://api.github.com/repos/cython/cython/labels/defect"
        }
    ],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/3735/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU2NTM3NjU4NDM=",
    "number": 3735,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "title": "Compile error with default attribute name",
    "updated_at": "2020-07-13T00:02:03Z",
    "url": "https://api.github.com/repos/cython/cython/issues/3735",
    "user": {
        "avatar_url": "https://avatars3.githubusercontent.com/u/4231101?v=4",
        "events_url": "https://api.github.com/users/pity7736/events{/privacy}",
        "followers_url": "https://api.github.com/users/pity7736/followers",
        "following_url": "https://api.github.com/users/pity7736/following{/other_user}",
        "gists_url": "https://api.github.com/users/pity7736/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/pity7736",
        "id": 4231101,
        "login": "pity7736",
        "node_id": "MDQ6VXNlcjQyMzExMDE=",
        "organizations_url": "https://api.github.com/users/pity7736/orgs",
        "received_events_url": "https://api.github.com/users/pity7736/received_events",
        "repos_url": "https://api.github.com/users/pity7736/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/pity7736/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/pity7736/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/pity7736"
    }
}