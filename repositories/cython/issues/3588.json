{
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "Running the tests with CC=-ftrapv shows that #1911 isn't the only overflow-related error and we're thus hitting undefined behaviour in other cases; notably in Overflow.c we often do operations on signed integers regardless of whether or not we're in the overflow case. PR forthcoming.\r\n\r\n```\r\ncython$ CFLAGS=-ftrapv python runtests.py overflow\r\nPython 3.8.2 (default, Apr  8 2020, 14:31:25) \r\n[GCC 9.3.0]\r\n\r\nRunning tests against Cython 3.0a4 3bba77a2bf9ed7da4c118fd7887658c597e14cd2\r\nUsing Cython language level 2.\r\nBackends: c,cpp\r\n\r\nFatal Python error: Aborted\r\n\r\nThread 0x00007fb5bcdce700 (most recent call first):\r\n  File \"runtests.py\", line 2267 in time_stamper\r\n  File \"/usr/lib/python3.8/threading.py\", line 870 in run\r\n  File \"/usr/lib/python3.8/threading.py\", line 932 in _bootstrap_inner\r\n  File \"/usr/lib/python3.8/threading.py\", line 890 in _bootstrap\r\n\r\nCurrent thread 0x00007fb5bdda3740 (most recent call first):\r\n  File \"<doctest overflow_check_int.test_add_const[1]>\", line 1 in <module>\r\n  File \"/usr/lib/python3.8/doctest.py\", line 1329 in __run\r\n  File \"/usr/lib/python3.8/doctest.py\", line 1476 in run\r\n  File \"/usr/lib/python3.8/doctest.py\", line 2191 in runTest\r\n  File \"/usr/lib/python3.8/unittest/case.py\", line 633 in _callTestMethod\r\n  File \"/usr/lib/python3.8/unittest/case.py\", line 676 in run\r\n  File \"/usr/lib/python3.8/unittest/case.py\", line 736 in __call__\r\n  File \"/usr/lib/python3.8/unittest/suite.py\", line 122 in run\r\n  File \"runtests.py\", line 1315 in run_test\r\n  File \"runtests.py\", line 1321 in run_forked_test\r\n  File \"runtests.py\", line 1316 in run_doctests\r\n  File \"runtests.py\", line 1304 in run_tests\r\n  File \"runtests.py\", line 1286 in run\r\n  File \"/usr/lib/python3.8/unittest/case.py\", line 736 in __call__\r\n  File \"/usr/lib/python3.8/unittest/suite.py\", line 122 in run\r\n  File \"/usr/lib/python3.8/unittest/suite.py\", line 84 in __call__\r\n  File \"/usr/lib/python3.8/unittest/suite.py\", line 122 in run\r\n  File \"/usr/lib/python3.8/unittest/suite.py\", line 84 in __call__\r\n  File \"/usr/lib/python3.8/unittest/suite.py\", line 122 in run\r\n  File \"/usr/lib/python3.8/unittest/suite.py\", line 84 in __call__\r\n  File \"/usr/lib/python3.8/unittest/runner.py\", line 176 in run\r\n  File \"runtests.py\", line 2573 in runtests\r\n  File \"runtests.py\", line 2209 in main\r\n  File \"runtests.py\", line 2595 in <module>\r\nAborted (core dumped)\r\n```",
    "closed_at": null,
    "comment_data": [],
    "comments": 0,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/3588/comments",
    "created_at": "2020-05-08T11:40:34Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4",
                "events_url": "https://api.github.com/users/gsnedders/events{/privacy}",
                "followers_url": "https://api.github.com/users/gsnedders/followers",
                "following_url": "https://api.github.com/users/gsnedders/following{/other_user}",
                "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/gsnedders",
                "id": 176218,
                "login": "gsnedders",
                "node_id": "MDQ6VXNlcjE3NjIxOA==",
                "organizations_url": "https://api.github.com/users/gsnedders/orgs",
                "received_events_url": "https://api.github.com/users/gsnedders/received_events",
                "repos_url": "https://api.github.com/users/gsnedders/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/gsnedders"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2020-05-08T13:19:06Z",
            "event": "renamed",
            "id": 3316922346,
            "node_id": "MDE3OlJlbmFtZWRUaXRsZUV2ZW50MzMxNjkyMjM0Ng==",
            "rename": {
                "from": "Overflow failures in tests",
                "to": "overflow_check_* failures in tests"
            },
            "url": "https://api.github.com/repos/cython/cython/issues/events/3316922346"
        },
        {
            "actor": {
                "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4",
                "events_url": "https://api.github.com/users/gsnedders/events{/privacy}",
                "followers_url": "https://api.github.com/users/gsnedders/followers",
                "following_url": "https://api.github.com/users/gsnedders/following{/other_user}",
                "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/gsnedders",
                "id": 176218,
                "login": "gsnedders",
                "node_id": "MDQ6VXNlcjE3NjIxOA==",
                "organizations_url": "https://api.github.com/users/gsnedders/orgs",
                "received_events_url": "https://api.github.com/users/gsnedders/received_events",
                "repos_url": "https://api.github.com/users/gsnedders/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/gsnedders"
            },
            "commit_id": "7d9a545d6f5af705c465e9b28ed893b582b62e8c",
            "commit_url": "https://api.github.com/repos/gsnedders/cython/commits/7d9a545d6f5af705c465e9b28ed893b582b62e8c",
            "created_at": "2020-05-08T13:20:29Z",
            "event": "referenced",
            "id": 3316927423,
            "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDMzMTY5Mjc0MjM=",
            "url": "https://api.github.com/repos/cython/cython/issues/events/3316927423"
        },
        {
            "actor": {
                "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4",
                "events_url": "https://api.github.com/users/gsnedders/events{/privacy}",
                "followers_url": "https://api.github.com/users/gsnedders/followers",
                "following_url": "https://api.github.com/users/gsnedders/following{/other_user}",
                "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/gsnedders",
                "id": 176218,
                "login": "gsnedders",
                "node_id": "MDQ6VXNlcjE3NjIxOA==",
                "organizations_url": "https://api.github.com/users/gsnedders/orgs",
                "received_events_url": "https://api.github.com/users/gsnedders/received_events",
                "repos_url": "https://api.github.com/users/gsnedders/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/gsnedders"
            },
            "commit_id": "4db59012ab0e0270e7943212a554d3e55e1e23ca",
            "commit_url": "https://api.github.com/repos/gsnedders/cython/commits/4db59012ab0e0270e7943212a554d3e55e1e23ca",
            "created_at": "2020-05-08T13:49:22Z",
            "event": "referenced",
            "id": 3317022949,
            "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDMzMTcwMjI5NDk=",
            "url": "https://api.github.com/repos/cython/cython/issues/events/3317022949"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/3588/events",
    "html_url": "https://github.com/cython/cython/issues/3588",
    "id": 614689747,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/3588/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU2MTQ2ODk3NDc=",
    "number": 3588,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "title": "overflow_check_* failures in tests",
    "updated_at": "2020-05-08T13:20:15Z",
    "url": "https://api.github.com/repos/cython/cython/issues/3588",
    "user": {
        "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4",
        "events_url": "https://api.github.com/users/gsnedders/events{/privacy}",
        "followers_url": "https://api.github.com/users/gsnedders/followers",
        "following_url": "https://api.github.com/users/gsnedders/following{/other_user}",
        "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/gsnedders",
        "id": 176218,
        "login": "gsnedders",
        "node_id": "MDQ6VXNlcjE3NjIxOA==",
        "organizations_url": "https://api.github.com/users/gsnedders/orgs",
        "received_events_url": "https://api.github.com/users/gsnedders/received_events",
        "repos_url": "https://api.github.com/users/gsnedders/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/gsnedders"
    }
}