{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "**Describe the bug**\r\nIn shards 1 and 6 of the C tests some of the test don't pass on Python 3.11 (`3.11.0-beta.1`). See the full log below.\r\n\r\n**To Reproduce**\r\nRun Tools/ci-run.sh as [defined](https://github.com/cython/cython/blob/master/.github/workflows/ci.yml#L226) in the CI configuration with Python 3.11. See [this test run](https://github.com/cython/cython/runs/6368576607?check_suite_focus=true).\r\n\r\n**Expected behavior**\r\nAll CI tests pass, as on other Python versions.\r\n\r\n**Environment (please complete the following information):**\r\n - OS: Linux (Ubuntu 18.04)\r\n - Python version: `3.11.0-beta.1`\r\n - Cython version: 812585935131125f8988c38417bb73bfd5a81c05\r\n\r\n<details><summary>Full error log</summary>\r\n\r\n```\r\nSharded tests run in 590 seconds (9.8 minutes)\r\nErrors found in shards 1, 6\r\n\r\nErrors from shard 1:\r\n======================================================================\r\nFAIL: fail_on_line_trace (line_trace)\r\nDoctest: line_trace.fail_on_line_trace\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/opt/hostedtoolcache/Python/3.11.0-beta.1/x64/lib/python3.11/doctest.py\", line 2217, in runTest\r\n    raise self.failureException(self.format_failure(new.getvalue()))\r\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nAssertionError: Failed doctest test for line_trace.fail_on_line_trace\r\n  File \"/home/runner/work/cython/cython/TEST_TMP/1/run/c/line_trace/line_trace.cpython-311-x86_64-linux-gnu.so\", line unknown line number, in fail_on_line_trace\r\n\r\n----------------------------------------------------------------------\r\nFile \"/home/runner/work/cython/cython/TEST_TMP/1/run/c/line_trace/line_trace.cpython-311-x86_64-linux-gnu.so\", line ?, in line_trace.fail_on_line_trace\r\nFailed example:\r\n    result = fail_on_line_trace(None, py_add, py_add_with_nogil)\r\nExpected nothing\r\nGot:\r\n    unsupported operand type(s) for -: 'NoneType' and 'int'\r\n----------------------------------------------------------------------\r\nFile \"/home/runner/work/cython/cython/TEST_TMP/1/run/c/line_trace/line_trace.cpython-311-x86_64-linux-gnu.so\", line ?, in line_trace.fail_on_line_trace\r\nFailed example:\r\n    len(result)\r\nExpected:\r\n    17\r\nGot:\r\n    3\r\n----------------------------------------------------------------------\r\nFile \"/home/runner/work/cython/cython/TEST_TMP/1/run/c/line_trace/line_trace.cpython-311-x86_64-linux-gnu.so\", line ?, in line_trace.fail_on_line_trace\r\nFailed example:\r\n    result[:5]  # py\r\nExpected:\r\n    ['NO ERROR', ('call', 0), ('line', 1), ('line', 2), ('return', 2)]\r\nGot:\r\n    ['NO ERROR', ('call', 2), ('line', 2)]\r\n----------------------------------------------------------------------\r\nFile \"/home/runner/work/cython/cython/TEST_TMP/1/run/c/line_trace/line_trace.cpython-311-x86_64-linux-gnu.so\", line ?, in line_trace.fail_on_line_trace\r\nFailed example:\r\n    result[5:10]  # py\r\nExpected:\r\n    [('call', 0), ('line', 1), ('line', 2), ('line', 3), ('line', 4)]\r\nGot:\r\n    []\r\n----------------------------------------------------------------------\r\nFile \"/home/runner/work/cython/cython/TEST_TMP/1/run/c/line_trace/line_trace.cpython-311-x86_64-linux-gnu.so\", line ?, in line_trace.fail_on_line_trace\r\nFailed example:\r\n    result[10:14]  # py\r\nExpected:\r\n    [('call', 0), ('line', 1), ('line', 2), ('return', 2)]\r\nGot:\r\n    []\r\n----------------------------------------------------------------------\r\nFile \"/home/runner/work/cython/cython/TEST_TMP/1/run/c/line_trace/line_trace.cpython-311-x86_64-linux-gnu.so\", line ?, in line_trace.fail_on_line_trace\r\nFailed example:\r\n    result[14:]  # py\r\nExpected:\r\n    [('line', 2), ('line', 5), ('return', 5)]\r\nGot:\r\n    []\r\n----------------------------------------------------------------------\r\nFile \"/home/runner/work/cython/cython/TEST_TMP/1/run/c/line_trace/line_trace.cpython-311-x86_64-linux-gnu.so\", line ?, in line_trace.fail_on_line_trace\r\nFailed example:\r\n    result = fail_on_line_trace('py_add_with_nogil', py_add, py_add_with_nogil)  # py\r\nExpected:\r\n    failing line trace!\r\nGot:\r\n    unsupported operand type(s) for -: 'NoneType' and 'int'\r\n----------------------------------------------------------------------\r\nFile \"/home/runner/work/cython/cython/TEST_TMP/1/run/c/line_trace/line_trace.cpython-311-x86_64-linux-gnu.so\", line ?, in line_trace.fail_on_line_trace\r\nFailed example:\r\n    result  # py\r\nExpected:\r\n    ['py_add_with_nogil', ('call', 0), ('line', 1), ('line', 2), ('return', 2), ('call', 0)]\r\nGot:\r\n    ['NO ERROR', ('call', 2), ('line', 2)]\r\n----------------------------------------------------------------------\r\nFile \"/home/runner/work/cython/cython/TEST_TMP/1/run/c/line_trace/line_trace.cpython-311-x86_64-linux-gnu.so\", line ?, in line_trace.fail_on_line_trace\r\nFailed example:\r\n    result = fail_on_line_trace('py_add', py_add, py_add_with_nogil)  # py\r\nExpected:\r\n    failing line trace!\r\nGot:\r\n    unsupported operand type(s) for -: 'NoneType' and 'int'\r\n----------------------------------------------------------------------\r\nFile \"/home/runner/work/cython/cython/TEST_TMP/1/run/c/line_trace/line_trace.cpython-311-x86_64-linux-gnu.so\", line ?, in line_trace.fail_on_line_trace\r\nFailed example:\r\n    result[:5]  # py\r\nExpected:\r\n    ['py_add', ('call', 0), ('line', 1), ('line', 2), ('return', 2)]\r\nGot:\r\n    ['NO ERROR', ('call', 2), ('line', 2)]\r\n----------------------------------------------------------------------\r\nFile \"/home/runner/work/cython/cython/TEST_TMP/1/run/c/line_trace/line_trace.cpython-311-x86_64-linux-gnu.so\", line ?, in line_trace.fail_on_line_trace\r\nFailed example:\r\n    result[5:]  # py\r\nExpected:\r\n    [('call', 0), ('line', 1), ('line', 2), ('line', 3), ('line', 4), ('call', 0)]\r\nGot:\r\n    []\r\n\r\n\r\n======================================================================\r\nFAIL: run_trace (line_trace)\r\nDoctest: line_trace.run_trace\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/opt/hostedtoolcache/Python/3.11.0-beta.1/x64/lib/python3.11/doctest.py\", line 2217, in runTest\r\n    raise self.failureException(self.format_failure(new.getvalue()))\r\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nAssertionError: Failed doctest test for line_trace.run_trace\r\n  File \"/home/runner/work/cython/cython/TEST_TMP/1/run/c/line_trace/line_trace.cpython-311-x86_64-linux-gnu.so\", line unknown line number, in run_trace\r\n\r\n----------------------------------------------------------------------\r\nFile \"/home/runner/work/cython/cython/TEST_TMP/1/run/c/line_trace/line_trace.cpython-311-x86_64-linux-gnu.so\", line ?, in line_trace.run_trace\r\nFailed example:\r\n    run_trace(py_add, 1, 2)\r\nException raised:\r\n    Traceback (most recent call last):\r\n      File \"/opt/hostedtoolcache/Python/3.11.0-beta.1/x64/lib/python3.11/doctest.py\", line 1346, in __run\r\n        exec(compile(example.source, filename, \"single\",\r\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n      File \"<doctest line_trace.run_trace[2]>\", line 1, in <module>\r\n        run_trace(py_add, 1, 2)\r\n        ^^^^^^^^^^^^^^^^^^^^^^^\r\n      File \"tests/run/line_trace.pyx\", line 231, in line_trace.run_trace (line_trace.c:7047)\r\n        func(*args)\r\n      File \"tests/run/line_trace.pyx\", line 60, in line_trace.trace_trampoline (line_trace.c:3507)\r\n        raise\r\n      File \"tests/run/line_trace.pyx\", line 54, in line_trace.trace_trampoline (line_trace.c:3406)\r\n        result = callback(frame, what, arg)\r\n      File \"tests/run/line_trace.pyx\", line 81, in line_trace._create_trace_func._trace_func (line_trace.c:3974)\r\n        trace.append((map_trace_types(event, event), frame.f_lineno - frame.f_code.co_firstlineno))\r\n    TypeError: unsupported operand type(s) for -: 'NoneType' and 'int'\r\n----------------------------------------------------------------------\r\nFile \"/home/runner/work/cython/cython/TEST_TMP/1/run/c/line_trace/line_trace.cpython-311-x86_64-linux-gnu.so\", line ?, in line_trace.run_trace\r\nFailed example:\r\n    run_trace(py_add, 1, 2, with_sys=True)\r\nException raised:\r\n    Traceback (most recent call last):\r\n      File \"/opt/hostedtoolcache/Python/3.11.0-beta.1/x64/lib/python3.11/doctest.py\", line 1346, in __run\r\n        exec(compile(example.source, filename, \"single\",\r\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n      File \"<doctest line_trace.run_trace[4]>\", line 1, in <module>\r\n        run_trace(py_add, 1, 2, with_sys=True)\r\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n      File \"tests/run/line_trace.pyx\", line 231, in line_trace.run_trace (line_trace.c:7047)\r\n        func(*args)\r\n      File \"<doctest line_trace.run_trace[0]>\", line 3, in py_add\r\n        return x\r\n        ^^^^^^^^\r\n      File \"tests/run/line_trace.pyx\", line 81, in line_trace._create_trace_func._trace_func (line_trace.c:3974)\r\n        trace.append((map_trace_types(event, event), frame.f_lineno - frame.f_code.co_firstlineno))\r\n    TypeError: unsupported operand type(s) for -: 'NoneType' and 'int'\r\n\r\n\r\n\r\nErrors from shard 6:\r\n======================================================================\r\nFAIL: test_deduplicated_args (tuple_constants)\r\nDoctest: tuple_constants.test_deduplicated_args\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/opt/hostedtoolcache/Python/3.11.0-beta.1/x64/lib/python3.11/doctest.py\", line 2217, in runTest\r\n    raise self.failureException(self.format_failure(new.getvalue()))\r\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nAssertionError: Failed doctest test for tuple_constants.test_deduplicated_args\r\n  File \"/home/runner/work/cython/cython/TEST_TMP/6/run/c/tuple_constants/tuple_constants.cpython-311-x86_64-linux-gnu.so\", line unknown line number, in test_deduplicated_args\r\n\r\n----------------------------------------------------------------------\r\nFile \"/home/runner/work/cython/cython/TEST_TMP/6/run/c/tuple_constants/tuple_constants.cpython-311-x86_64-linux-gnu.so\", line ?, in tuple_constants.test_deduplicated_args\r\nFailed example:\r\n    test_deduplicated_args()\r\nException raised:\r\n    Traceback (most recent call last):\r\n      File \"/opt/hostedtoolcache/Python/3.11.0-beta.1/x64/lib/python3.11/doctest.py\", line 1346, in __run\r\n        exec(compile(example.source, filename, \"single\",\r\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n      File \"<doctest tuple_constants.test_deduplicated_args[0]>\", line 1, in <module>\r\n        test_deduplicated_args()\r\n        ^^^^^^^^^^^^^^^^^^^^^^^^\r\n      File \"tests/run/tuple_constants.pyx\", line 40, in tuple_constants.test_deduplicated_args (tuple_constants.c:3004)\r\n        assert func1.__code__.co_varnames is func2.__code__.co_varnames\r\n    AssertionError\r\n```\r\n</details>\r\n",
    "closed_at": "2022-07-13T10:20:58Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "The issues with line trace are probably a legitimate unresolved bug.\r\n\r\nIt's possible that the `test_deduplicated_args` is just a change in how code objects handle `co_varnames` in Python 3.11. It needs investigating to confirm that, but it may well just need disabling. It doesn't look like a major bug to me.",
            "created_at": "2022-05-10T16:42:51Z",
            "html_url": "https://github.com/cython/cython/issues/4781#issuecomment-1122632902",
            "id": 1122632902,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4781",
            "node_id": "IC_kwDOABDGAc5C6gTG",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1122632902/reactions"
            },
            "updated_at": "2022-05-10T16:42:51Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1122632902",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "@da-woods Could you help me describe the bug in `line_trace.run_trace` a bit better? That might help if someone wants to resolve this bug. Feel free to suggest or even change the bug report and/or title of this issue.",
            "created_at": "2022-05-20T11:12:13Z",
            "html_url": "https://github.com/cython/cython/issues/4781#issuecomment-1132777612",
            "id": 1132777612,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4781",
            "node_id": "IC_kwDOABDGAc5DhNCM",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1132777612/reactions"
            },
            "updated_at": "2022-05-20T11:12:13Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1132777612",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/15776622?v=4",
                "events_url": "https://api.github.com/users/EwoutH/events{/privacy}",
                "followers_url": "https://api.github.com/users/EwoutH/followers",
                "following_url": "https://api.github.com/users/EwoutH/following{/other_user}",
                "gists_url": "https://api.github.com/users/EwoutH/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/EwoutH",
                "id": 15776622,
                "login": "EwoutH",
                "node_id": "MDQ6VXNlcjE1Nzc2NjIy",
                "organizations_url": "https://api.github.com/users/EwoutH/orgs",
                "received_events_url": "https://api.github.com/users/EwoutH/received_events",
                "repos_url": "https://api.github.com/users/EwoutH/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/EwoutH/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/EwoutH/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/EwoutH"
            }
        },
        {
            "author_association": "MEMBER",
            "body": ">  Could you help me describe the bug in `line_trace.run_trace` a bit better?\r\n\r\nI don't think anyone has investigated it yet. In short, line tracing is broken in Py3.11, probably due to changes in the frame stack handling. I'd say, someone needs to debug this (at the C level) to see where it goes wrong.",
            "created_at": "2022-05-20T13:59:37Z",
            "html_url": "https://github.com/cython/cython/issues/4781#issuecomment-1132933934",
            "id": 1132933934,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4781",
            "node_id": "IC_kwDOABDGAc5DhzMu",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1132933934/reactions"
            },
            "updated_at": "2022-05-20T13:59:37Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1132933934",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I've turned off the `test_deduplicated_args` test in Python 3.11 (https://github.com/cython/cython/pull/4850). it looks like the underlying implementation has changed and it no longer works (https://github.com/python/cpython/blob/3cd1a5d3ec487e23e3d976e7dd235329f04cfc73/Objects/codeobject.c#L1343)",
            "created_at": "2022-06-19T11:08:21Z",
            "html_url": "https://github.com/cython/cython/issues/4781#issuecomment-1159691460",
            "id": 1159691460,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4781",
            "node_id": "IC_kwDOABDGAc5FH3zE",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1159691460/reactions"
            },
            "updated_at": "2022-06-19T11:08:21Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1159691460",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I think the line tracing errors all come from when we call the equivalent Python functions as comparisons (rather than from the Cython functions themselves).\r\n\r\nThe only one that's ambiguous is\r\n\r\n> ```\r\n> Failed example:\r\n>    len(result)\r\n> Expected:\r\n>    17\r\n> Got:\r\n>    16\r\n> ```\r\n\r\nwhich could be from two places (but I think is probably the Python function).\r\n\r\nThus the Python behaviour has changed. I'm not sure whether it's a bug or an expected change. I'm leaning towards \"bug\".\r\n\r\nSo I'm not absolutely certain, but I don't think there's an underlying Cython issue, and we're probably best just waiting to see if it gets fixed before the release rather than modifying tests.",
            "created_at": "2022-06-19T11:26:32Z",
            "html_url": "https://github.com/cython/cython/issues/4781#issuecomment-1159695781",
            "id": 1159695781,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4781",
            "node_id": "IC_kwDOABDGAc5FH42l",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1159695781/reactions"
            },
            "updated_at": "2022-06-19T11:26:32Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1159695781",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Thanks for looking into this! Should a issue be filed over at [python/cpython](https://github.com/python/cpython)?",
            "created_at": "2022-06-19T11:28:48Z",
            "html_url": "https://github.com/cython/cython/issues/4781#issuecomment-1159696221",
            "id": 1159696221,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4781",
            "node_id": "IC_kwDOABDGAc5FH49d",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1159696221/reactions"
            },
            "updated_at": "2022-06-19T11:28:48Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1159696221",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/15776622?v=4",
                "events_url": "https://api.github.com/users/EwoutH/events{/privacy}",
                "followers_url": "https://api.github.com/users/EwoutH/followers",
                "following_url": "https://api.github.com/users/EwoutH/following{/other_user}",
                "gists_url": "https://api.github.com/users/EwoutH/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/EwoutH",
                "id": 15776622,
                "login": "EwoutH",
                "node_id": "MDQ6VXNlcjE1Nzc2NjIy",
                "organizations_url": "https://api.github.com/users/EwoutH/orgs",
                "received_events_url": "https://api.github.com/users/EwoutH/received_events",
                "repos_url": "https://api.github.com/users/EwoutH/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/EwoutH/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/EwoutH/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/EwoutH"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Thanks for looking into this! Should a issue be filed over at [python/cpython](https://github.com/python/cpython)?\r\n\r\nMaybe. Although it probably involves:\r\n1. reducing the test to something that doesn't involve Cython\r\n2. checking that it isn't already filed (when I search their issue tracker for tracing there's quite a few issues)\r\n3. Understanding the expected output well enough to know if this could be a legitimate change.\r\n\r\nI've diagnosed it to the point of saying \"I don't *think* it's a Cython problem\". But I'm not sure I've made enough effort to start throwing the problem elsewhere.",
            "created_at": "2022-06-19T11:43:55Z",
            "html_url": "https://github.com/cython/cython/issues/4781#issuecomment-1159700671",
            "id": 1159700671,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4781",
            "node_id": "IC_kwDOABDGAc5FH6C_",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1159700671/reactions"
            },
            "updated_at": "2022-06-19T11:43:55Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1159700671",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I think it may be specifically to do with functions defined in doctest docstrings. It works if I define them in an `exec` call (although this breaks the test on Python 2 for reasons I also don't understand...)",
            "created_at": "2022-06-19T12:34:35Z",
            "html_url": "https://github.com/cython/cython/issues/4781#issuecomment-1159713867",
            "id": 1159713867,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4781",
            "node_id": "IC_kwDOABDGAc5FH9RL",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1159713867/reactions"
            },
            "updated_at": "2022-06-19T12:34:35Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1159713867",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Line tracing tests should be fixed in https://github.com/cython/cython/pull/4851",
            "created_at": "2022-06-19T12:53:57Z",
            "html_url": "https://github.com/cython/cython/issues/4781#issuecomment-1159718738",
            "id": 1159718738,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4781",
            "node_id": "IC_kwDOABDGAc5FH-dS",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 1,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1159718738/reactions"
            },
            "updated_at": "2022-06-19T12:54:10Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1159718738",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I didn't really come to the conclusion whether it was a Python bug or not and if it should be reported. I failed to make something that could reproduce it independently of Cython. If someone wants to investigate more thoroughly then they're welcome to.",
            "created_at": "2022-06-19T13:22:02Z",
            "html_url": "https://github.com/cython/cython/issues/4781#issuecomment-1159725424",
            "id": 1159725424,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4781",
            "node_id": "IC_kwDOABDGAc5FIAFw",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1159725424/reactions"
            },
            "updated_at": "2022-06-19T13:22:02Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1159725424",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Closed by https://github.com/cython/cython/commit/858b1a5ad2237cb439965450c221a15dfedd1295, and a combination of https://github.com/cython/cython/commit/a79e447ea9faea118f39a94b54d0498baad8ad17 and a bugfix in CPython.",
            "created_at": "2022-07-13T10:20:58Z",
            "html_url": "https://github.com/cython/cython/issues/4781#issuecomment-1183042032",
            "id": 1183042032,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4781",
            "node_id": "IC_kwDOABDGAc5Gg8nw",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1183042032/reactions"
            },
            "updated_at": "2022-07-13T10:20:58Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1183042032",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        }
    ],
    "comments": 11,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/4781/comments",
    "created_at": "2022-05-10T11:40:12Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2022-05-20T11:12:13Z",
            "event": "mentioned",
            "id": 6649826126,
            "node_id": "MEE_lADOABDGAc5JX_gXzwAAAAGMXEtO",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/6649826126"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2022-05-20T11:12:13Z",
            "event": "subscribed",
            "id": 6649826131,
            "node_id": "SE_lADOABDGAc5JX_gXzwAAAAGMXEtT",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/6649826131"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2022-07-13T10:20:58Z",
            "event": "closed",
            "id": 6984726351,
            "node_id": "CE_lADOABDGAc5JX_gXzwAAAAGgUndP",
            "performed_via_github_app": null,
            "state_reason": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/6984726351"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/4781/events",
    "html_url": "https://github.com/cython/cython/issues/4781",
    "id": 1231026199,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/4781/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOABDGAc5JX_gX",
    "number": 4781,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/cython/cython/issues/4781/reactions"
    },
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/cython/cython/issues/4781/timeline",
    "title": "[BUG] C tests fail with Python 3.11",
    "updated_at": "2022-07-13T10:20:58Z",
    "url": "https://api.github.com/repos/cython/cython/issues/4781",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/15776622?v=4",
        "events_url": "https://api.github.com/users/EwoutH/events{/privacy}",
        "followers_url": "https://api.github.com/users/EwoutH/followers",
        "following_url": "https://api.github.com/users/EwoutH/following{/other_user}",
        "gists_url": "https://api.github.com/users/EwoutH/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/EwoutH",
        "id": 15776622,
        "login": "EwoutH",
        "node_id": "MDQ6VXNlcjE1Nzc2NjIy",
        "organizations_url": "https://api.github.com/users/EwoutH/orgs",
        "received_events_url": "https://api.github.com/users/EwoutH/received_events",
        "repos_url": "https://api.github.com/users/EwoutH/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/EwoutH/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/EwoutH/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/EwoutH"
    }
}