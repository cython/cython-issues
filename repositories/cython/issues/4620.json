{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "COLLABORATOR",
    "body": "<!--\r\n**Note:**\r\n- Do not use the bug and feature tracker for support requests. Use the `cython-users` mailing list instead.\r\n- Did you search for similar issues already? Please do, it helps to save us precious time that we otherwise could not invest into development.\r\n- Did you try the latest master branch or pre-release? It might already have what you want to report. Also see the [Changelog](https://github.com/cython/cython/blob/master/CHANGES.rst) regarding recent changes.\r\n-->\r\n\r\n**Is your feature request related to a problem? Please describe.**\r\n\r\nWe currently ban assignments of the form\r\n\r\n```cython\r\n# add use case related code here\r\ncdef class A:\r\n   cdef int attr = 5\r\n```\r\nwhile in Python this is a fairly common pattern (although with 5 stored as a class attribute, which is then optionally overridden by an instance attribute).\r\n\r\nThis presents a small problem for supporting `cdef ClassVar[int] cv = 5` (because the assignment is found and complained about at an  early stage)\r\n\r\n**Describe the solution you'd like**\r\nWe could allow this syntax - we already generate a constructor, so why not initialize the attributes there? It isn't quite the same as for regular classes but it's a reasonable thing to do.\r\n\r\nThere's a slight complication for object attributes - depending on how it's implemented the class probably ends up with values shared between multiple instances (although this would happen anyway for the \"class attribute overridden by instance attribute\" pattern. The dataclasses module (both Python and Cython) errors on obviously mutable types. Cython might reasonably choose to:\r\n* ignore the problem and let the users do what they want\r\n* warn about obviously mutable types\r\n* Error on obviously mutable types\r\n* Error on anything that isn't known to be a compile-time immutable constant\r\n\r\nI'd choose the latter initially.\r\n\r\n**Additional context**\r\nC++ also supports a similar default initialization feature\r\n",
    "closed_at": null,
    "comment_data": [],
    "comments": 0,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/4620/comments",
    "created_at": "2022-02-05T18:58:20Z",
    "event_data": [],
    "events_url": "https://api.github.com/repos/cython/cython/issues/4620/events",
    "html_url": "https://github.com/cython/cython/issues/4620",
    "id": 1125006042,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/4620/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOABDGAc5DDjra",
    "number": 4620,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/cython/cython/issues/4620/reactions"
    },
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "timeline_url": "https://api.github.com/repos/cython/cython/issues/4620/timeline",
    "title": "[ENH] Default initialization for cdef attributes",
    "updated_at": "2022-02-05T18:58:20Z",
    "url": "https://api.github.com/repos/cython/cython/issues/4620",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
        "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
        "followers_url": "https://api.github.com/users/da-woods/followers",
        "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
        "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/da-woods",
        "id": 10536947,
        "login": "da-woods",
        "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
        "organizations_url": "https://api.github.com/users/da-woods/orgs",
        "received_events_url": "https://api.github.com/users/da-woods/received_events",
        "repos_url": "https://api.github.com/users/da-woods/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/da-woods"
    }
}