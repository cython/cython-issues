{
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "In a `Python 3.8.2` `venv` with a `python3 setup.py install` from a branch that's even with `cython:master`, `$ cythonize -i somefile.pyx` seems to be invariably failing with silent segfaults for me.\r\n\r\nIt prints out the \"`Cythonizing {filename}`\" message, and then segfaults after a second or so. It doesn't segfault if it just skips the compilation, so the file has to be updated or `cythonize` has to be run with `-f`.\r\n\r\nI tried deleting Cython from `site-packages`, but I haven't tried using a fresh `venv`, a full VM, or anything like that.\r\n\r\nIt happens for me in a `Python 2.7.17` `venv` too.\r\n\r\n~~Building through `distutils` with `$ python3 setup.py build_ext --inplace` seems to work fine.~~\r\n\r\n`python3 setup.py build_ext --inplace` has since also broken, so I suspect its maybe something with my system or `venv`, even though the system `cythonize` works fine.\r\n\r\nI'll try a fresh `venv` and repository at some point, but this issue can probably just be closed in the meantime if it's not immediately reproducible.",
    "closed_at": "2020-04-03T07:18:28Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Yes, when you switch from a release to a branch build, you'll have to clean your environments from time to time. Otherwise, you can easily end up with a mix of Cython compiled modules from different git revs, all thinking that they are the same version and can share the same ABI module. With major changes coming into the code base, that can easily lead to incompatibilities, all sorts of weird behaviour and crashes.",
            "created_at": "2020-04-03T07:18:28Z",
            "html_url": "https://github.com/cython/cython/issues/3485#issuecomment-608272579",
            "id": 608272579,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/3485",
            "node_id": "MDEyOklzc3VlQ29tbWVudDYwODI3MjU3OQ==",
            "updated_at": "2020-04-03T07:18:28Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/608272579",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        }
    ],
    "comments": 1,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/3485/comments",
    "created_at": "2020-04-03T04:03:38Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2020-04-03T07:18:28Z",
            "event": "closed",
            "id": 3195151531,
            "node_id": "MDExOkNsb3NlZEV2ZW50MzE5NTE1MTUzMQ==",
            "url": "https://api.github.com/repos/cython/cython/issues/events/3195151531"
        },
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2020-04-03T07:18:44Z",
            "event": "labeled",
            "id": 3195152304,
            "label": {
                "color": "444444",
                "name": "R: worksforme"
            },
            "node_id": "MDEyOkxhYmVsZWRFdmVudDMxOTUxNTIzMDQ=",
            "url": "https://api.github.com/repos/cython/cython/issues/events/3195152304"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/3485/events",
    "html_url": "https://github.com/cython/cython/issues/3485",
    "id": 593060684,
    "labels": [
        {
            "color": "444444",
            "default": false,
            "description": null,
            "id": 425556354,
            "name": "R: worksforme",
            "node_id": "MDU6TGFiZWw0MjU1NTYzNTQ=",
            "url": "https://api.github.com/repos/cython/cython/labels/R:%20worksforme"
        }
    ],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/3485/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU1OTMwNjA2ODQ=",
    "number": 3485,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "closed",
    "title": "`$ cythonize -i file.pyx` broken?",
    "updated_at": "2020-04-03T07:18:44Z",
    "url": "https://api.github.com/repos/cython/cython/issues/3485",
    "user": {
        "avatar_url": "https://avatars2.githubusercontent.com/u/37680486?v=4",
        "events_url": "https://api.github.com/users/will-ca/events{/privacy}",
        "followers_url": "https://api.github.com/users/will-ca/followers",
        "following_url": "https://api.github.com/users/will-ca/following{/other_user}",
        "gists_url": "https://api.github.com/users/will-ca/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/will-ca",
        "id": 37680486,
        "login": "will-ca",
        "node_id": "MDQ6VXNlcjM3NjgwNDg2",
        "organizations_url": "https://api.github.com/users/will-ca/orgs",
        "received_events_url": "https://api.github.com/users/will-ca/received_events",
        "repos_url": "https://api.github.com/users/will-ca/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/will-ca/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/will-ca/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/will-ca"
    }
}