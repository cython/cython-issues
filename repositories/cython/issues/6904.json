{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Describe the bug\n\nLet me introduce the issue by sharing that I am not entirely sure this should be a bug on Cython, on numpydoc or whether the docstrings should be adapted for the new reality, but I just wanted to raise a regression issue that was caused due to: \n- https://github.com/cython/cython/pull/6241\n\nThis was found on the Apache Arrow repository on the Pyarrow implementation:\n- https://github.com/apache/arrow/issues/46516\n\nWhen updating to Cython>=3.1 we found that our numpydocs integration is failing. Given a function like:\n\n```cython\n    def equals(self, ReadOptions other):\n        \"\"\"\n        Parameters\n        ----------\n        other : pyarrow.csv.ReadOptions\n\n        Returns\n        -------\n        bool\n        \"\"\"\n```\n\nWe got the following docstring with Cython<3.1:\n`PyDoc_STRVAR(__pyx_doc_7pyarrow_4_csv_11ReadOptions_6equals, \"ReadOptions.equals(self, ReadOptions other)\\n\\n        Parameters\\n        ----------\\n        other : pyarrow.csv.ReadOptions\\n\\n        Returns\\n        -------\\n        bool\\n        \");`\n\nWith newer Cython versions:\n`PyDoc_STRVAR(__pyx_doc_7pyarrow_4_csv_11ReadOptions_6equals, \"ReadOptions.equals(self, ReadOptions other)\\nParameters\\n----------\\nother : pyarrow.csv.ReadOptions\\n\\nReturns\\n-------\\nbool\");`\n\nThis is currently causing numpydoc to not interpret parameters correctly and interpret those as part of the summary because it's expecting a double `\\n`:\n```python\n(Pdb) self.doc['Parameters']\n[]\n(Pdb) self.doc['Summary']\n['ReadOptions.equals(self, ReadOptions other)', 'Parameters', '----------', 'other : pyarrow.csv.ReadOptions']\n```\n\nHence breaking our pydoc checks.\n\nShouldn't the initial double `\\n\\n` between signature and parameters be respected?\n\n\n\n### Code to reproduce the behaviour:\n\n```cython\n# example code\n```\n\n\n### Expected behaviour\n\n_No response_\n\n### OS\n\nLinux\n\n### Python version\n\n3.9-3.13\n\n### Cython version\n\n>3.1\n\n### Additional context\n\n_No response_",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [],
    "comments": 0,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/6904/comments",
    "created_at": "2025-05-21T08:16:59Z",
    "event_data": [],
    "events_url": "https://api.github.com/repos/cython/cython/issues/6904/events",
    "html_url": "https://github.com/cython/cython/issues/6904",
    "id": 3079356934,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/6904/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOABDGAc63i0IG",
    "number": 6904,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/cython/cython/issues/6904/reactions"
    },
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/cython/cython/issues/6904/timeline",
    "title": "[BUG] Docstring pre-clean breaks numpydoc integration due to removal of `\\n\\n`",
    "type": null,
    "updated_at": "2025-05-21T08:16:59Z",
    "url": "https://api.github.com/repos/cython/cython/issues/6904",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/639755?v=4",
        "events_url": "https://api.github.com/users/raulcd/events{/privacy}",
        "followers_url": "https://api.github.com/users/raulcd/followers",
        "following_url": "https://api.github.com/users/raulcd/following{/other_user}",
        "gists_url": "https://api.github.com/users/raulcd/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/raulcd",
        "id": 639755,
        "login": "raulcd",
        "node_id": "MDQ6VXNlcjYzOTc1NQ==",
        "organizations_url": "https://api.github.com/users/raulcd/orgs",
        "received_events_url": "https://api.github.com/users/raulcd/received_events",
        "repos_url": "https://api.github.com/users/raulcd/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/raulcd/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/raulcd/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/raulcd",
        "user_view_type": "public"
    }
}