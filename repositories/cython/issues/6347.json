{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Describe the bug\n\nWhen there's a class method with the same name as another type, it works for the first time but when you try to use that type for another method, it breaks, probably because it detects it as a member name instead of a type.\n\n### Code to reproduce the behaviour:\n\n```cython\r\ncdef cppclass SomeType:\r\n    pass\r\n\r\ncdef cppclass SomeClass:\r\n    void f(SomeType)\r\n    SomeType SomeType()\r\n    # works if the line below is commented\r\n    SomeType f()\r\n```\r\n\n\n### Expected behaviour\n\nMember method name should not shadow type name.\n\n### OS\n\nRHEL 8\n\n### Python version\n\n3.11.2\n\n### Cython version\n\n3.0.11\n\n### Additional context\n\n_No response_",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Unfortunately, this feels like something where any fix is going to accidentally break a lot of other things.",
            "created_at": "2024-08-20T19:13:45Z",
            "html_url": "https://github.com/cython/cython/issues/6347#issuecomment-2299580383",
            "id": 2299580383,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/6347",
            "node_id": "IC_kwDOABDGAc6JEM_f",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/2299580383/reactions"
            },
            "updated_at": "2024-08-20T19:13:45Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/2299580383",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        },
        {
            "author_association": "NONE",
            "body": "Why? What are the cases where `SomeType` should really refer to a method instead of a type?",
            "created_at": "2024-08-20T19:45:10Z",
            "html_url": "https://github.com/cython/cython/issues/6347#issuecomment-2299638167",
            "id": 2299638167,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/6347",
            "node_id": "IC_kwDOABDGAc6JEbGX",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/2299638167/reactions"
            },
            "updated_at": "2024-08-20T19:45:10Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/2299638167",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/37271580?v=4",
                "events_url": "https://api.github.com/users/OleksandrKvl/events{/privacy}",
                "followers_url": "https://api.github.com/users/OleksandrKvl/followers",
                "following_url": "https://api.github.com/users/OleksandrKvl/following{/other_user}",
                "gists_url": "https://api.github.com/users/OleksandrKvl/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/OleksandrKvl",
                "id": 37271580,
                "login": "OleksandrKvl",
                "node_id": "MDQ6VXNlcjM3MjcxNTgw",
                "organizations_url": "https://api.github.com/users/OleksandrKvl/orgs",
                "received_events_url": "https://api.github.com/users/OleksandrKvl/received_events",
                "repos_url": "https://api.github.com/users/OleksandrKvl/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/OleksandrKvl/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/OleksandrKvl/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/OleksandrKvl"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> What are the cases where `SomeType` should really refer to a method instead of a type?\r\n\r\nIt isn't specifically that. It's more that the code that decides when to look up a type and when to look up a name from a local scope is used *everywhere* and that changing it only for this one case will be hard.  For example:\r\n\r\n```\r\ndef f():\r\n    x = SomeType()  # should probably look up a type\r\n    SomeType = some_other_func\r\n    y = SomeType()  # should call some other func\r\n```\r\n\r\nI don't immediately know what rules are being applied in this case, but I've broken enough things accidentally to be suspicious of this change.",
            "created_at": "2024-08-20T20:45:04Z",
            "html_url": "https://github.com/cython/cython/issues/6347#issuecomment-2299733144",
            "id": 2299733144,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/6347",
            "node_id": "IC_kwDOABDGAc6JEySY",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/2299733144/reactions"
            },
            "updated_at": "2024-08-20T20:45:04Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/2299733144",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        }
    ],
    "comments": 3,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/6347/comments",
    "created_at": "2024-08-20T16:21:27Z",
    "event_data": [],
    "events_url": "https://api.github.com/repos/cython/cython/issues/6347/events",
    "html_url": "https://github.com/cython/cython/issues/6347",
    "id": 2476055326,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/6347/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOABDGAc6TlZse",
    "number": 6347,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/cython/cython/issues/6347/reactions"
    },
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/cython/cython/issues/6347/timeline",
    "title": "[BUG] class method name shadows type name for following methods",
    "updated_at": "2024-08-20T20:45:06Z",
    "url": "https://api.github.com/repos/cython/cython/issues/6347",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/37271580?v=4",
        "events_url": "https://api.github.com/users/OleksandrKvl/events{/privacy}",
        "followers_url": "https://api.github.com/users/OleksandrKvl/followers",
        "following_url": "https://api.github.com/users/OleksandrKvl/following{/other_user}",
        "gists_url": "https://api.github.com/users/OleksandrKvl/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/OleksandrKvl",
        "id": 37271580,
        "login": "OleksandrKvl",
        "node_id": "MDQ6VXNlcjM3MjcxNTgw",
        "organizations_url": "https://api.github.com/users/OleksandrKvl/orgs",
        "received_events_url": "https://api.github.com/users/OleksandrKvl/received_events",
        "repos_url": "https://api.github.com/users/OleksandrKvl/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/OleksandrKvl/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/OleksandrKvl/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/OleksandrKvl"
    }
}