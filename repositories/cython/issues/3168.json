{
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "This might be just me doing things wrong, but I have trouble figuring out how to use the command line option `-s include_path=...` when calling `python3 -m Cython.Build.cythonize` for a standalone compilation in a separate process (to work around bug https://github.com/cython/cython/issues/2730 ).\r\n\r\nI tried these two calls:\r\n\r\n1. As a list: `/usr/bin/python3 -m Cython.Build.Cythonize /tmp/pip-req-build-liyrbm_y/src/wobblui/dragselection.pyx -s include_path=['/tmp/pip-req-build-liyrbm_y/src'] -s gdb_debug=False -X always_allow_keywords=True -X boundscheck=True -X language_level=3 -X profile=False -X linetrace=False`\r\n\r\n2. As a string: `/usr/bin/python3 -m Cython.Build.Cythonize /tmp/pip-req-build-zl7im29r/src/wobblui/dragselection.pyx -s include_path=/tmp/pip-req-build-zl7im29r/src -s gdb_debug=False -X always_allow_keywords=True -X boundscheck=True -X language_level=3 -X profile=False -X linetrace=False`\r\n\r\nBoth give me this error, where Cython seems to become confused accessing the include directories internally:\r\n\r\n```\r\n  ERROR: Traceback (most recent call last):\r\n  ERROR:   File \"/usr/lib64/python3.7/runpy.py\", line 193, in _run_module_as_main\r\n  ERROR:     \"__main__\", mod_spec)\r\n  ERROR:   File \"/usr/lib64/python3.7/runpy.py\", line 85, in _run_code\r\n  ERROR:     exec(code, run_globals)\r\n  ERROR:   File \"/tmp/pip-build-env-c95g9yn8/overlay/lib64/python3.7/site-packages/Cython/Build/Cythonize.py\", line 227, in <module>\r\n  ERROR:     main()\r\n  ERROR:   File \"/tmp/pip-build-env-c95g9yn8/overlay/lib64/python3.7/site-packages/Cython/Build/Cythonize.py\", line 223, in main\r\n  ERROR:     cython_compile(path, options)\r\n  ERROR:   File \"/tmp/pip-build-env-c95g9yn8/overlay/lib64/python3.7/site-packages/Cython/Build/Cythonize.py\", line 106, in cython_compile\r\n  ERROR:     **options.options)\r\n  ERROR:   File \"/tmp/pip-build-env-c95g9yn8/overlay/lib64/python3.7/site-packages/Cython/Build/Dependencies.py\", line 966, in cythonize\r\n  ERROR:     aliases=aliases)\r\n  ERROR:   File \"/tmp/pip-build-env-c95g9yn8/overlay/lib64/python3.7/site-packages/Cython/Build/Dependencies.py\", line 824, in create_extension_list\r\n  ERROR:     kwds = deps.distutils_info(file, aliases, base).values\r\n  ERROR:   File \"/tmp/pip-build-env-c95g9yn8/overlay/lib64/python3.7/site-packages/Cython/Build/Dependencies.py\", line 679, in distutils_info\r\n  ERROR:     return (self.transitive_merge(filename, self.distutils_info0, DistutilsInfo.merge)\r\n  ERROR:   File \"/tmp/pip-build-env-c95g9yn8/overlay/lib64/python3.7/site-packages/Cython/Build/Dependencies.py\", line 689, in transitive_merge\r\n  ERROR:     node, extract, merge, seen, {}, self.cimported_files)[0]\r\n  ERROR:   File \"/tmp/pip-build-env-c95g9yn8/overlay/lib64/python3.7/site-packages/Cython/Build/Dependencies.py\", line 700, in transitive_merge_helper\r\n  ERROR:     for next in outgoing(node):\r\n  ERROR:   File \"/tmp/pip-build-env-c95g9yn8/overlay/lib64/python3.7/site-packages/Cython/Utils.py\", line 54, in wrapper\r\n  ERROR:     res = cache[args] = f(self, *args)\r\n  ERROR:   File \"/tmp/pip-build-env-c95g9yn8/overlay/lib64/python3.7/site-packages/Cython/Build/Dependencies.py\", line 601, in cimported_files\r\n  ERROR:     pxd_file = self.find_pxd(module, filename)\r\n  ERROR:   File \"/tmp/pip-build-env-c95g9yn8/overlay/lib64/python3.7/site-packages/Cython/Utils.py\", line 54, in wrapper\r\n  ERROR:     res = cache[args] = f(self, *args)\r\n  ERROR:   File \"/tmp/pip-build-env-c95g9yn8/overlay/lib64/python3.7/site-packages/Cython/Build/Dependencies.py\", line 583, in find_pxd\r\n  ERROR:     pxd = self.context.find_pxd_file(relative, None)\r\n  ERROR:   File \"/tmp/pip-build-env-c95g9yn8/overlay/lib64/python3.7/site-packages/Cython/Compiler/Main.py\", line 250, in find_pxd_file\r\n  ERROR:     pxd = self.search_include_directories(qualified_name, \".pxd\", pos, sys_path=sys_path)\r\n  ERROR:   File \"/tmp/pip-build-env-c95g9yn8/overlay/lib64/python3.7/site-packages/Cython/Compiler/Main.py\", line 292, in search_include_directories\r\n  ERROR:     include_dirs = include_dirs + sys.path\r\n  ERROR: TypeError: unsupported operand type(s) for +: 'bool' and 'list'\r\n```\r\n",
    "closed_at": null,
    "comment_data": [],
    "comments": 0,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/3168/comments",
    "created_at": "2019-10-07T12:07:19Z",
    "event_data": [],
    "events_url": "https://api.github.com/repos/cython/cython/issues/3168/events",
    "html_url": "https://github.com/cython/cython/issues/3168",
    "id": 503409905,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/3168/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU1MDM0MDk5MDU=",
    "number": 3168,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "title": "Trouble figuring out how to use -s include_path=... when calling python3 -m Cython.Build.cythonize stanalone",
    "updated_at": "2019-10-07T12:07:19Z",
    "url": "https://api.github.com/repos/cython/cython/issues/3168",
    "user": {
        "avatar_url": "https://avatars3.githubusercontent.com/u/1573352?v=4",
        "events_url": "https://api.github.com/users/jtc0de/events{/privacy}",
        "followers_url": "https://api.github.com/users/jtc0de/followers",
        "following_url": "https://api.github.com/users/jtc0de/following{/other_user}",
        "gists_url": "https://api.github.com/users/jtc0de/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/jtc0de",
        "id": 1573352,
        "login": "jtc0de",
        "node_id": "MDQ6VXNlcjE1NzMzNTI=",
        "organizations_url": "https://api.github.com/users/jtc0de/orgs",
        "received_events_url": "https://api.github.com/users/jtc0de/received_events",
        "repos_url": "https://api.github.com/users/jtc0de/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/jtc0de/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jtc0de/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/jtc0de"
    }
}