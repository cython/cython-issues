{
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "I've been trying to rerun our coverage analysis to test the recent updates to `Cython.Coverage`. However, I seem to only be able to get reports for a subset of my pyx files. I can not see any pattern in those that are included/excluded.\r\n\r\nPreviously (July 2018) this worked fine with my project (I still had an only html report with all files present). I am struggling to know how to debug this. Is there any advice in how I can investigate here?\r\n\r\nI have tried with cython `0.28.6`, `0.29.6` and `master`. All miss the same files. coverage is version `4.5.3`.\r\n\r\nThe project is here: https://github.com/pywr/pywr\r\n\r\nI enable tracing support with this code in your setup.py (this is unchanged). And also tried with `binding=true`, but no change.\r\n\r\n```\r\nif '--enable-trace' in sys.argv:\r\n    print('Tracing is enabled.')\r\n    compiler_directives['linetrace'] = True\r\n    define_macros.append(('CYTHON_TRACE', '1'))\r\n    define_macros.append(('CYTHON_TRACE_NOGIL', '1'))\r\n    sys.argv.remove('--enable-trace')\r\n```\r\nThis is my pytest setup.\r\n\r\n```\r\nplatform linux -- Python 3.7.2, pytest-4.3.1, py-1.8.0, pluggy-0.9.0\r\nplugins: faulthandler-1.5.0, cov-2.6.1\r\n\r\n```\r\nHere is my latest report. \r\n\r\n```\r\nName                                Stmts   Miss  Cover\r\n-------------------------------------------------------\r\npywr/__init__.py                       16      4    75%\r\npywr/_component.pxd                     4      4     0%\r\npywr/_component.pyx                    58     16    72%\r\npywr/_model.pyx                       548     32    94%\r\npywr/core.py                            9      0   100%\r\npywr/domains/__init__.py                5      0   100%\r\npywr/domains/groundwater.py            49     10    80%\r\npywr/domains/licences.py                0      0   100%\r\npywr/domains/river.py                 105      4    96%\r\npywr/h5tools.py                        36      6    83%\r\npywr/hashes.py                         14      0   100%\r\npywr/model.py                           1      0   100%\r\npywr/nodes.py                         391     27    93%\r\npywr/notebook/__init__.py             150     15    90%\r\npywr/notebook/figures.py               79     67    15%\r\npywr/notebook/sankey.py                44      7    84%\r\npywr/optimisation/__init__.py          72      2    97%\r\npywr/optimisation/inspyred.py          53     53     0%\r\npywr/optimisation/platypus.py          60     10    83%\r\npywr/optimisation/pygmo.py             39      3    92%\r\npywr/parameter_property.py             13      2    85%\r\npywr/parameters/__init__.py             1      0   100%\r\npywr/parameters/_hydropower.pyx        85     28    67%\r\npywr/parameters/control_curves.py       1      0   100%\r\npywr/parameters/groundwater.py         21      1    95%\r\npywr/parameters/licenses.py            91      5    95%\r\npywr/parameters/parameters.py          85      5    94%\r\npywr/recorders/__init__.py              1      0   100%\r\npywr/recorders/_hydropower.pxd         10     10     0%\r\npywr/recorders/_hydropower.pyx         87     26    70%\r\npywr/recorders/calibration.py          42      0   100%\r\npywr/recorders/events.py              141     10    93%\r\npywr/recorders/progress.py             60     18    70%\r\npywr/recorders/recorders.py           320     28    91%\r\npywr/solvers/__init__.py              112     31    72%\r\npywr/timestepper.py                    72      1    99%\r\n-------------------------------------------------------\r\nTOTAL                                2875    425    85%\r\n\r\n```",
    "closed_at": "2019-03-25T10:07:12Z",
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "So apparently this was me being incompetent with (re)compiling my code with tracing enabled. Not sure how that happened. Sorry for the noise.",
            "created_at": "2019-03-25T10:07:12Z",
            "html_url": "https://github.com/cython/cython/issues/2901#issuecomment-476129290",
            "id": 476129290,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2901",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NjEyOTI5MA==",
            "updated_at": "2019-03-25T10:07:12Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/476129290",
            "user": {
                "avatar_url": "https://avatars1.githubusercontent.com/u/4604654?v=4",
                "events_url": "https://api.github.com/users/jetuk/events{/privacy}",
                "followers_url": "https://api.github.com/users/jetuk/followers",
                "following_url": "https://api.github.com/users/jetuk/following{/other_user}",
                "gists_url": "https://api.github.com/users/jetuk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jetuk",
                "id": 4604654,
                "login": "jetuk",
                "node_id": "MDQ6VXNlcjQ2MDQ2NTQ=",
                "organizations_url": "https://api.github.com/users/jetuk/orgs",
                "received_events_url": "https://api.github.com/users/jetuk/received_events",
                "repos_url": "https://api.github.com/users/jetuk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jetuk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jetuk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jetuk"
            }
        }
    ],
    "comments": 1,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/2901/comments",
    "created_at": "2019-03-23T22:20:48Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars1.githubusercontent.com/u/4604654?v=4",
                "events_url": "https://api.github.com/users/jetuk/events{/privacy}",
                "followers_url": "https://api.github.com/users/jetuk/followers",
                "following_url": "https://api.github.com/users/jetuk/following{/other_user}",
                "gists_url": "https://api.github.com/users/jetuk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jetuk",
                "id": 4604654,
                "login": "jetuk",
                "node_id": "MDQ6VXNlcjQ2MDQ2NTQ=",
                "organizations_url": "https://api.github.com/users/jetuk/orgs",
                "received_events_url": "https://api.github.com/users/jetuk/received_events",
                "repos_url": "https://api.github.com/users/jetuk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jetuk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jetuk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jetuk"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2019-03-25T10:07:12Z",
            "event": "closed",
            "id": 2225995963,
            "node_id": "MDExOkNsb3NlZEV2ZW50MjIyNTk5NTk2Mw==",
            "url": "https://api.github.com/repos/cython/cython/issues/events/2225995963"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/2901/events",
    "html_url": "https://github.com/cython/cython/issues/2901",
    "id": 424551262,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/2901/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU0MjQ1NTEyNjI=",
    "number": 2901,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "closed",
    "title": "Coverage only reports a subset of pyx files",
    "updated_at": "2019-03-25T10:07:12Z",
    "url": "https://api.github.com/repos/cython/cython/issues/2901",
    "user": {
        "avatar_url": "https://avatars1.githubusercontent.com/u/4604654?v=4",
        "events_url": "https://api.github.com/users/jetuk/events{/privacy}",
        "followers_url": "https://api.github.com/users/jetuk/followers",
        "following_url": "https://api.github.com/users/jetuk/following{/other_user}",
        "gists_url": "https://api.github.com/users/jetuk/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/jetuk",
        "id": 4604654,
        "login": "jetuk",
        "node_id": "MDQ6VXNlcjQ2MDQ2NTQ=",
        "organizations_url": "https://api.github.com/users/jetuk/orgs",
        "received_events_url": "https://api.github.com/users/jetuk/received_events",
        "repos_url": "https://api.github.com/users/jetuk/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/jetuk/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jetuk/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/jetuk"
    }
}