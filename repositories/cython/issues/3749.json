{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "In my .pyx file I have following structure declarations where to be stored C++ **uuid8_t[16]** data.\r\n\r\n\r\n```\r\ncdef extern from \"uuid/uuid.h\":\r\n    ctypedef unsigned char uuid_t[16]\r\n\r\ncdef extern from \"fr_common.h\":\r\n    cdef:\r\n        int UUID_SIZE = 16\r\n        const int FR_DETECTION_LANDMARKS_COUNT = 5\r\n        const int FR_PLANE_COUNT_MAX = 8\r\n\r\n    ctypedef uuid_t fr_id_t\r\n\r\n    ctypedef struct fr_object_t:\r\n        fr_id_t id\r\n        fr_descriptor_t descriptor\r\n        fr_detection_t detection\r\n        fr_image_t snapshot\r\n```\r\n\r\nThese stucture, e. i., `fr_object_t is going to be filled with valid data with C++ functions of course. For **fr_object_t** I have following.\r\n\r\n```cdef class FrObject:\r\n    cdef:\r\n        fr_id_t _id\r\n        Descriptor _descriptor\r\n        Detection _detection\r\n        Image _snapshot\r\n\r\n    def __cinit__(self, fr_id_t id, Descriptor descriptor, Detection detection, Image snapshot):\r\n        self._id = id\r\n        self._descriptor = descriptor\r\n        self._detection = detection\r\n        self._snapshot = snapshot\r\n\r\n    @staticmethod\r\n    cdef FrObject from_c(fr_object_t fr_object):\r\n        return FrObject(\r\n            fr_object.id,\r\n            Descriptor.from_c(fr_object.descriptor),\r\n            Detection.from_c(fr_object.detection),\r\n            Image.from_c(fr_object.snapshot),\r\n        )\r\n```\r\nSo while compiling the .pyx file into .so file I caught the following traceback of error.\r\n```\r\nWARNING: The wheel package is not available.\r\nrunning install\r\nrunning bdist_egg\r\nrunning egg_info\r\nwriting teye_fr.egg-info/PKG-INFO\r\nwriting dependency_links to teye_fr.egg-info/dependency_links.txt\r\nwriting top-level names to teye_fr.egg-info/top_level.txt\r\nreading manifest template 'MANIFEST.in'\r\nwriting manifest file 'teye_fr.egg-info/SOURCES.txt'\r\ninstalling library code to build/bdist.linux-x86_64/egg\r\nrunning install_lib\r\nrunning build_py\r\ncopying teyefr/_teyefr.pyx -> build/lib.linux-x86_64-3.8/teyefr\r\nrunning build_ext\r\ncythoning teyefr/_teyefr.pyx to teyefr/_teyefr.cpp\r\n/home/dmitriyravdel/teyefr/teye-fr/frtester/.venv/lib64/python3.8/site-packages/Cython/Compiler/Main.py:369: FutureWarning: Cython directive 'language_level' not set, using 2 for now (Py2). This will change in a later release! File: /home/dmitriyravdel/teyefr/teye-fr/python/teyefr/_teyefr.pyx\r\n  tree = Parsing.p_module(s, pxd, full_module_name)\r\nTraceback (most recent call last):\r\n  File \"setup.py\", line 32, in <module>\r\n    setuptools.setup(\r\n  File \"/home/dmitriyravdel/teyefr/teye-fr/frtester/.venv/lib64/python3.8/site-packages/setuptools/__init__.py\", line 165, in setup\r\n    return distutils.core.setup(**attrs)\r\n  File \"/usr/lib64/python3.8/distutils/core.py\", line 148, in setup\r\n    dist.run_commands()\r\n  File \"/usr/lib64/python3.8/distutils/dist.py\", line 966, in run_commands\r\n    self.run_command(cmd)\r\n  File \"/usr/lib64/python3.8/distutils/dist.py\", line 985, in run_command\r\n    cmd_obj.run()\r\n  File \"/home/dmitriyravdel/teyefr/teye-fr/frtester/.venv/lib64/python3.8/site-packages/setuptools/command/install.py\", line 67, in run\r\n    self.do_egg_install()\r\n  File \"/home/dmitriyravdel/teyefr/teye-fr/frtester/.venv/lib64/python3.8/site-packages/setuptools/command/install.py\", line 109, in do_egg_install\r\n    self.run_command('bdist_egg')\r\n  File \"/usr/lib64/python3.8/distutils/cmd.py\", line 313, in run_command\r\n    self.distribution.run_command(command)\r\n  File \"/usr/lib64/python3.8/distutils/dist.py\", line 985, in run_command\r\n    cmd_obj.run()\r\n  File \"/home/dmitriyravdel/teyefr/teye-fr/frtester/.venv/lib64/python3.8/site-packages/setuptools/command/bdist_egg.py\", line 174, in run\r\n    cmd = self.call_command('install_lib', warn_dir=0)\r\n  File \"/home/dmitriyravdel/teyefr/teye-fr/frtester/.venv/lib64/python3.8/site-packages/setuptools/command/bdist_egg.py\", line 160, in call_command\r\n    self.run_command(cmdname)\r\n  File \"/usr/lib64/python3.8/distutils/cmd.py\", line 313, in run_command\r\n    self.distribution.run_command(command)\r\n  File \"/usr/lib64/python3.8/distutils/dist.py\", line 985, in run_command\r\n    cmd_obj.run()\r\n  File \"/home/dmitriyravdel/teyefr/teye-fr/frtester/.venv/lib64/python3.8/site-packages/setuptools/command/install_lib.py\", line 11, in run\r\n    self.build()\r\n  File \"/usr/lib64/python3.8/distutils/command/install_lib.py\", line 107, in build\r\n    self.run_command('build_ext')\r\n  File \"/usr/lib64/python3.8/distutils/cmd.py\", line 313, in run_command\r\n    self.distribution.run_command(command)\r\n  File \"/usr/lib64/python3.8/distutils/dist.py\", line 985, in run_command\r\n    cmd_obj.run()\r\n  File \"/home/dmitriyravdel/teyefr/teye-fr/frtester/.venv/lib64/python3.8/site-packages/Cython/Distutils/old_build_ext.py\", line 186, in run\r\n    _build_ext.build_ext.run(self)\r\n  File \"/usr/lib64/python3.8/distutils/command/build_ext.py\", line 340, in run\r\n    self.build_extensions()\r\n  File \"/home/dmitriyravdel/teyefr/teye-fr/frtester/.venv/lib64/python3.8/site-packages/Cython/Distutils/old_build_ext.py\", line 193, in build_extensions\r\n    ext.sources = self.cython_sources(ext.sources, ext)\r\n  File \"/home/dmitriyravdel/teyefr/teye-fr/frtester/.venv/lib64/python3.8/site-packages/Cython/Distutils/old_build_ext.py\", line 346, in cython_sources\r\n    result = cython_compile(source, options=options,\r\n  File \"/home/dmitriyravdel/teyefr/teye-fr/frtester/.venv/lib64/python3.8/site-packages/Cython/Compiler/Main.py\", line 778, in compile\r\n    return compile_single(source, options, full_module_name)\r\n  File \"/home/dmitriyravdel/teyefr/teye-fr/frtester/.venv/lib64/python3.8/site-packages/Cython/Compiler/Main.py\", line 727, in compile_single\r\n    return run_pipeline(source, options, full_module_name)\r\n  File \"/home/dmitriyravdel/teyefr/teye-fr/frtester/.venv/lib64/python3.8/site-packages/Cython/Compiler/Main.py\", line 515, in run_pipeline\r\n    err, enddata = Pipeline.run_pipeline(pipeline, source)\r\n  File \"/home/dmitriyravdel/teyefr/teye-fr/frtester/.venv/lib64/python3.8/site-packages/Cython/Compiler/Pipeline.py\", line 355, in run_pipeline\r\n    data = run(phase, data)\r\n  File \"/home/dmitriyravdel/teyefr/teye-fr/frtester/.venv/lib64/python3.8/site-packages/Cython/Compiler/Pipeline.py\", line 335, in run\r\n    return phase(data)\r\n  File \"/home/dmitriyravdel/teyefr/teye-fr/frtester/.venv/lib64/python3.8/site-packages/Cython/Compiler/Pipeline.py\", line 52, in generate_pyx_code_stage\r\n    module_node.process_implementation(options, result)\r\n  File \"/home/dmitriyravdel/teyefr/teye-fr/frtester/.venv/lib64/python3.8/site-packages/Cython/Compiler/ModuleNode.py\", line 143, in process_implementation\r\n    self.generate_c_code(env, options, result)\r\n  File \"/home/dmitriyravdel/teyefr/teye-fr/frtester/.venv/lib64/python3.8/site-packages/Cython/Compiler/ModuleNode.py\", line 385, in generate_c_code\r\n    self.body.generate_function_definitions(env, code)\r\n  File \"/home/dmitriyravdel/teyefr/teye-fr/frtester/.venv/lib64/python3.8/site-packages/Cython/Compiler/Nodes.py\", line 442, in generate_function_definitions\r\n    stat.generate_function_definitions(env, code)\r\n  File \"/home/dmitriyravdel/teyefr/teye-fr/frtester/.venv/lib64/python3.8/site-packages/Cython/Compiler/Nodes.py\", line 442, in generate_function_definitions\r\n    stat.generate_function_definitions(env, code)\r\n  File \"/home/dmitriyravdel/teyefr/teye-fr/frtester/.venv/lib64/python3.8/site-packages/Cython/Compiler/Nodes.py\", line 4853, in generate_function_definitions\r\n    self.body.generate_function_definitions(self.scope, code)\r\n  File \"/home/dmitriyravdel/teyefr/teye-fr/frtester/.venv/lib64/python3.8/site-packages/Cython/Compiler/Nodes.py\", line 442, in generate_function_definitions\r\n    stat.generate_function_definitions(env, code)\r\n  File \"/home/dmitriyravdel/teyefr/teye-fr/frtester/.venv/lib64/python3.8/site-packages/Cython/Compiler/Nodes.py\", line 442, in generate_function_definitions\r\n    stat.generate_function_definitions(env, code)\r\n  File \"/home/dmitriyravdel/teyefr/teye-fr/frtester/.venv/lib64/python3.8/site-packages/Cython/Compiler/Nodes.py\", line 3173, in generate_function_definitions\r\n    self.py_wrapper.generate_function_definitions(env, code)\r\n  File \"/home/dmitriyravdel/teyefr/teye-fr/frtester/.venv/lib64/python3.8/site-packages/Cython/Compiler/Nodes.py\", line 3360, in generate_function_definitions\r\n    self.generate_argument_parsing_code(lenv, code)\r\n  File \"/home/dmitriyravdel/teyefr/teye-fr/frtester/.venv/lib64/python3.8/site-packages/Cython/Compiler/Nodes.py\", line 3507, in generate_argument_parsing_code\r\n    self.generate_tuple_and_keyword_parsing_code(self.args, end_label, code)\r\n  File \"/home/dmitriyravdel/teyefr/teye-fr/frtester/.venv/lib64/python3.8/site-packages/Cython/Compiler/Nodes.py\", line 3752, in generate_tuple_and_keyword_parsing_code\r\n    self.generate_arg_assignment(arg, \"values[%d]\" % i, code)\r\n  File \"/home/dmitriyravdel/teyefr/teye-fr/frtester/.venv/lib64/python3.8/site-packages/Cython/Compiler/Nodes.py\", line 3779, in generate_arg_assignment\r\n    code.putln(arg.type.from_py_call_code(\r\n  File \"/home/dmitriyravdel/teyefr/teye-fr/frtester/.venv/lib64/python3.8/site-packages/Cython/Compiler/PyrexTypes.py\", line 511, in from_py_call_code\r\n    return self.typedef_base_type.from_py_call_code(\r\n  File \"/home/dmitriyravdel/teyefr/teye-fr/frtester/.venv/lib64/python3.8/site-packages/Cython/Compiler/PyrexTypes.py\", line 511, in from_py_call_code\r\n    return self.typedef_base_type.from_py_call_code(\r\n  File \"/home/dmitriyravdel/teyefr/teye-fr/frtester/.venv/lib64/python3.8/site-packages/Cython/Compiler/PyrexTypes.py\", line 2486, in from_py_call_code\r\n    assert not error_condition, '%s: %s' % (error_pos, error_condition)\r\nAssertionError: (<FileSourceDescriptor:/home/dmitriyravdel/teyefr/teye-fr/python/teyefr/_teyefr.pyx>, 356, 24): (__pyx_v_id == ((unsigned char *)NULL)) && PyErr_Occurred()\r\n\r\n```\r\nSeems like a bag according to stackoverflow review.\r\n",
    "closed_at": "2020-07-22T16:37:35Z",
    "comment_data": [
        {
            "author_association": "COLLABORATOR",
            "body": "Duplicate of https://github.com/cython/cython/issues/2517\r\n\r\nThanks for reporting it.",
            "created_at": "2020-07-22T16:37:34Z",
            "html_url": "https://github.com/cython/cython/issues/3749#issuecomment-662559291",
            "id": 662559291,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/3749",
            "node_id": "MDEyOklzc3VlQ29tbWVudDY2MjU1OTI5MQ==",
            "performed_via_github_app": null,
            "updated_at": "2020-07-22T16:37:34Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/662559291",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        }
    ],
    "comments": 1,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/3749/comments",
    "created_at": "2020-07-22T08:15:08Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2020-07-22T16:37:35Z",
            "event": "closed",
            "id": 3576630610,
            "node_id": "MDExOkNsb3NlZEV2ZW50MzU3NjYzMDYxMA==",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/3576630610"
        },
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2020-07-22T16:37:50Z",
            "event": "labeled",
            "id": 3576631515,
            "label": {
                "color": "444444",
                "name": "R: duplicate"
            },
            "node_id": "MDEyOkxhYmVsZWRFdmVudDM1NzY2MzE1MTU=",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/3576631515"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/3749/events",
    "html_url": "https://github.com/cython/cython/issues/3749",
    "id": 663567482,
    "labels": [
        {
            "color": "444444",
            "default": false,
            "description": null,
            "id": 425556894,
            "name": "R: duplicate",
            "node_id": "MDU6TGFiZWw0MjU1NTY4OTQ=",
            "url": "https://api.github.com/repos/cython/cython/labels/R:%20duplicate"
        }
    ],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/3749/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU2NjM1Njc0ODI=",
    "number": 3749,
    "performed_via_github_app": null,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "closed",
    "title": "AssertionError:  (__pyx_v_id == ((unsigned char *)NULL)) && PyErr_Occurred()",
    "updated_at": "2020-07-22T16:37:50Z",
    "url": "https://api.github.com/repos/cython/cython/issues/3749",
    "user": {
        "avatar_url": "https://avatars0.githubusercontent.com/u/29676901?v=4",
        "events_url": "https://api.github.com/users/Flexximo/events{/privacy}",
        "followers_url": "https://api.github.com/users/Flexximo/followers",
        "following_url": "https://api.github.com/users/Flexximo/following{/other_user}",
        "gists_url": "https://api.github.com/users/Flexximo/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/Flexximo",
        "id": 29676901,
        "login": "Flexximo",
        "node_id": "MDQ6VXNlcjI5Njc2OTAx",
        "organizations_url": "https://api.github.com/users/Flexximo/orgs",
        "received_events_url": "https://api.github.com/users/Flexximo/received_events",
        "repos_url": "https://api.github.com/users/Flexximo/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/Flexximo/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Flexximo/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/Flexximo"
    }
}