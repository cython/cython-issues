{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Describe the bug\r\n\r\nA common button signal and slot function in PyQt6 has problems when compiled with cython. (The original py file works fine)\r\n\r\n### Code to reproduce the behaviour:\r\n\r\n```python\r\nclass ProjectDialog(QDialog, Ui_project_dialog_layout):\r\n    def __init__(self):\r\n        super().__init__()\r\n        self.setupUi(self)\r\n        self.dir_button.clicked.connect(self.get_path)\r\n\r\n    def get_path(self):\r\n        # do something\r\n        print('work well')\r\n```\r\n\r\n\r\n### Expected behaviour\r\n\r\n1. In the original py file, the minimal example shown above performs the function inside the get_path method when the button is clicked.\r\n2. I use cythonize -i -3 ProjectDialog.py to compile the py file.\r\n3. Call the class ProjectDialog compiled by cython, and the following error message appears after executing the button clicking function:\r\nTraceback (most recent call last):\r\n  File \"ProjectDialog.py\", line 55, in ProjectDialog.get_path\r\nTypeError: get_path() takes exactly 1 positional argument (2 given)\r\n4. I found two solutions for this case, one is to add a parameter to the get_path method to accept the bool value emitted by PyQt6's clicked signal, and the other is to use a lambda function:\r\n```python\r\nclass ProjectDialog(QDialog, Ui_project_dialog_layout):\r\n    def __init__(self):\r\n        super().__init__()\r\n        self.setupUi(self)\r\n\r\n        self.dir_button.clicked.connect(self.get_path)\r\n\r\n    def get_path(self, click_status):\r\n        # do something\r\n        print('work well')\r\n            \r\n\r\nclass ProjectDialog(QDialog, Ui_project_dialog_layout):\r\n    def __init__(self):\r\n        super().__init__()\r\n        self.setupUi(self)\r\n\r\n        self.dir_button.clicked.connect(lambda: self.get_path())\r\n\r\n    def get_path(self):\r\n       # do something\r\n        print('work well')\r\n```\r\n5. i would like to know why cython is causing this?\r\n\r\n### OS\r\n\r\nWindows 11 Professional\r\n\r\n### Python version\r\n\r\nPython 3.12.0\r\n\r\n### Cython version\r\n\r\nCython version 3.0.6\r\n\r\n### Additional context\r\n\r\n_No response_",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "I'm relatively convinced that this is a bug in PyQt6 (and that it internally relies on being passed a Python function, therefore is incompatible pretty much by definition) and thus there's nothing Cython can do to fix this. But I'm not absolutely certain and it's fairly difficult to investigate.\r\n\r\nQt code doesn't usually benefit from being processed by Cython. And we aren't hugely interested in supporting obfuscation (which is the main reason that people want to do it).\r\n\r\nSo it'll probably only get fixed if someone else wants to investigate and propose a fix (either to Cython, or more likely to PyQt6).",
            "created_at": "2024-05-21T16:35:43Z",
            "html_url": "https://github.com/cython/cython/issues/5910#issuecomment-2123018618",
            "id": 2123018618,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/5910",
            "node_id": "IC_kwDOABDGAc5-irF6",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/2123018618/reactions"
            },
            "updated_at": "2024-05-21T16:35:43Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/2123018618",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        }
    ],
    "comments": 1,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/5910/comments",
    "created_at": "2023-12-15T07:16:43Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5534781?v=4",
                "events_url": "https://api.github.com/users/leofang/events{/privacy}",
                "followers_url": "https://api.github.com/users/leofang/followers",
                "following_url": "https://api.github.com/users/leofang/following{/other_user}",
                "gists_url": "https://api.github.com/users/leofang/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/leofang",
                "id": 5534781,
                "login": "leofang",
                "node_id": "MDQ6VXNlcjU1MzQ3ODE=",
                "organizations_url": "https://api.github.com/users/leofang/orgs",
                "received_events_url": "https://api.github.com/users/leofang/received_events",
                "repos_url": "https://api.github.com/users/leofang/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/leofang/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/leofang/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/leofang"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2023-12-17T18:53:33Z",
            "event": "subscribed",
            "id": 11269108757,
            "node_id": "SE_lADOABDGAc55xlPazwAAAAKfsPQV",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/11269108757"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/5910/events",
    "html_url": "https://github.com/cython/cython/issues/5910",
    "id": 2043040730,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/5910/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOABDGAc55xlPa",
    "number": 5910,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 2,
        "-1": 0,
        "confused": 0,
        "eyes": 1,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 3,
        "url": "https://api.github.com/repos/cython/cython/issues/5910/reactions"
    },
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/cython/cython/issues/5910/timeline",
    "title": "[BUG] Cython has problems recognizing signals from PyQt6.",
    "updated_at": "2024-05-21T16:35:44Z",
    "url": "https://api.github.com/repos/cython/cython/issues/5910",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/122418720?v=4",
        "events_url": "https://api.github.com/users/17Reset/events{/privacy}",
        "followers_url": "https://api.github.com/users/17Reset/followers",
        "following_url": "https://api.github.com/users/17Reset/following{/other_user}",
        "gists_url": "https://api.github.com/users/17Reset/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/17Reset",
        "id": 122418720,
        "login": "17Reset",
        "node_id": "U_kgDOB0v2IA",
        "organizations_url": "https://api.github.com/users/17Reset/orgs",
        "received_events_url": "https://api.github.com/users/17Reset/received_events",
        "repos_url": "https://api.github.com/users/17Reset/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/17Reset/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/17Reset/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/17Reset"
    }
}