{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "<!--\r\n**Note:**\r\n- DO NOT use the bug and feature tracker for general questions and support requests.\r\n  Use the `cython-users` mailing list instead.\r\n  It has a wider audience, so you get more and better answers.\r\n- Did you search for similar issues already?\r\n  Please do, it helps to save us precious time that we otherwise could not invest into development.\r\n- Did you try the latest master branch or pre-release?\r\n  It might already have what you want to report.\r\n  Also see the [Changelog](https://github.com/cython/cython/blob/master/CHANGES.rst) regarding recent changes.\r\n-->\r\n\r\nI did not see any other issue related to this.\r\n\r\nBlack has allowed many open sourced project I worked on to gain more contributors, notably because people don't fight over formatting, and they don't fight with the CI to match the style imposed by a tool that doesn't autocorrect the code (pycodestyle or flake8).\r\n\r\nWe have two ways to introduce black to this massive codebase if we wish to do so:\r\n1) We ignore all existing files and impose black on new files to avoid backport issues and conflicts in PRs\r\n2) We format the whole codebase at once and ignore the commit (for git blame) with https://black.readthedocs.io/en/stable/guides/introducing_black_to_your_project.html \r\n\r\nAre the maintainers open to such a move?\r\n",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "I've definitely been doing it on new files (although I'm not immediately sure whether any PR with black formatting has yet been merged. Pattern matching will be mostly black-formatted when merged). It definitely isn't imposed yet.\r\n\r\nNot sure about doing it on everything. I struggle to believe that the git blame ignore is completely effective. But I can see the appeal of \"impose it and then ignore formatting issues forever\".\r\n\r\nI guess the question is \"how many useful contributors are put off by formatting requirements?\". And we probably can never know because they probably don't tell us but just don't come back.",
            "created_at": "2022-11-13T11:15:52Z",
            "html_url": "https://github.com/cython/cython/issues/5127#issuecomment-1312705231",
            "id": 1312705231,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/5127",
            "node_id": "IC_kwDOABDGAc5OPkrP",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1312705231/reactions"
            },
            "updated_at": "2022-11-13T11:15:52Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1312705231",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> Not sure about doing it on everything. I struggle to believe that the git blame ignore is completely effective. But I can see the appeal of \"impose it and then ignore formatting issues forever\".\r\n\r\nOther big projects succesfully migrated to black - e.g. django [1][2]:\r\n\r\n\r\n\r\nThe biggest benefit of using black is zero overhead for devs/maintainers to manage code formatting. This is even better when pre-commit is introduced and new commit is added to PR by CI when black reformat the code - see pylint as an example [3]\r\n\r\nRegarding the git blame it should be manageable [4]\r\n\r\n[1] https://github.com/django/django/blob/1be7e36f85c927560e8c3c1eda05a7e43a66cd22/pyproject.toml#L5-L7\r\n[2] https://groups.google.com/g/django-developers/c/wK2PzdGNOpQ\r\n[3] https://results.pre-commit.ci/run/github/47671127/1668354497.A9rB447jQN23uvMfa9qLUQ\r\n[4] https://black.readthedocs.io/en/stable/guides/introducing_black_to_your_project.html",
            "created_at": "2022-11-13T20:53:45Z",
            "html_url": "https://github.com/cython/cython/issues/5127#issuecomment-1312819171",
            "id": 1312819171,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/5127",
            "node_id": "IC_kwDOABDGAc5OQAfj",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1312819171/reactions"
            },
            "updated_at": "2022-11-13T20:54:04Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1312819171",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/827060?v=4",
                "events_url": "https://api.github.com/users/matusvalo/events{/privacy}",
                "followers_url": "https://api.github.com/users/matusvalo/followers",
                "following_url": "https://api.github.com/users/matusvalo/following{/other_user}",
                "gists_url": "https://api.github.com/users/matusvalo/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/matusvalo",
                "id": 827060,
                "login": "matusvalo",
                "node_id": "MDQ6VXNlcjgyNzA2MA==",
                "organizations_url": "https://api.github.com/users/matusvalo/orgs",
                "received_events_url": "https://api.github.com/users/matusvalo/received_events",
                "repos_url": "https://api.github.com/users/matusvalo/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/matusvalo/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/matusvalo/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/matusvalo"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "As an observer from the side: the main argument for using black is \"never argue about formatting again\". But now the project, that rarely if ever needs to discuss formatting, has to deal with whether to use black or not. Personally, I would prefer Cython not to add a new tool with its own baggage of git work-arounds, version updates and CI complications.",
            "created_at": "2022-11-14T12:11:16Z",
            "html_url": "https://github.com/cython/cython/issues/5127#issuecomment-1313587434",
            "id": 1313587434,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/5127",
            "node_id": "IC_kwDOABDGAc5OS8Dq",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1313587434/reactions"
            },
            "updated_at": "2022-11-14T12:11:16Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1313587434",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/823911?v=4",
                "events_url": "https://api.github.com/users/mattip/events{/privacy}",
                "followers_url": "https://api.github.com/users/mattip/followers",
                "following_url": "https://api.github.com/users/mattip/following{/other_user}",
                "gists_url": "https://api.github.com/users/mattip/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mattip",
                "id": 823911,
                "login": "mattip",
                "node_id": "MDQ6VXNlcjgyMzkxMQ==",
                "organizations_url": "https://api.github.com/users/mattip/orgs",
                "received_events_url": "https://api.github.com/users/mattip/received_events",
                "repos_url": "https://api.github.com/users/mattip/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mattip/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mattip/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mattip"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I'm also reluctant to reformat the code base globally, although formatting really isn't always obvious, to no-one.\r\n\r\nI think it's ok to use it for newly introduced files, I'm less convinced about the modules.",
            "created_at": "2022-11-16T10:06:53Z",
            "html_url": "https://github.com/cython/cython/issues/5127#issuecomment-1316732787",
            "id": 1316732787,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/5127",
            "node_id": "IC_kwDOABDGAc5Oe79z",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1316732787/reactions"
            },
            "updated_at": "2022-11-16T10:06:53Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1316732787",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "I'll make two pull requests, one with a huge commit + the ignore blame file, and one with the setup to impose black on new files. You'll be able to play with it, notably with the blame, and that should help push the discussion forward (and merge one of them if we agree)",
            "created_at": "2022-11-16T11:11:43Z",
            "html_url": "https://github.com/cython/cython/issues/5127#issuecomment-1316825575",
            "id": 1316825575,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/5127",
            "node_id": "IC_kwDOABDGAc5OfSnn",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1316825575/reactions"
            },
            "updated_at": "2022-11-16T11:11:43Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1316825575",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/12891691?v=4",
                "events_url": "https://api.github.com/users/gabrieldemarmiesse/events{/privacy}",
                "followers_url": "https://api.github.com/users/gabrieldemarmiesse/followers",
                "following_url": "https://api.github.com/users/gabrieldemarmiesse/following{/other_user}",
                "gists_url": "https://api.github.com/users/gabrieldemarmiesse/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/gabrieldemarmiesse",
                "id": 12891691,
                "login": "gabrieldemarmiesse",
                "node_id": "MDQ6VXNlcjEyODkxNjkx",
                "organizations_url": "https://api.github.com/users/gabrieldemarmiesse/orgs",
                "received_events_url": "https://api.github.com/users/gabrieldemarmiesse/received_events",
                "repos_url": "https://api.github.com/users/gabrieldemarmiesse/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/gabrieldemarmiesse/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/gabrieldemarmiesse/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/gabrieldemarmiesse"
            }
        }
    ],
    "comments": 5,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/5127/comments",
    "created_at": "2022-11-13T10:34:10Z",
    "event_data": [],
    "events_url": "https://api.github.com/repos/cython/cython/issues/5127/events",
    "html_url": "https://github.com/cython/cython/issues/5127",
    "id": 1446863539,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/5127/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOABDGAc5WPWKz",
    "number": 5127,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/cython/cython/issues/5127/reactions"
    },
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/cython/cython/issues/5127/timeline",
    "title": "Introduce black formatting in the codebase",
    "updated_at": "2022-11-16T11:11:44Z",
    "url": "https://api.github.com/repos/cython/cython/issues/5127",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/12891691?v=4",
        "events_url": "https://api.github.com/users/gabrieldemarmiesse/events{/privacy}",
        "followers_url": "https://api.github.com/users/gabrieldemarmiesse/followers",
        "following_url": "https://api.github.com/users/gabrieldemarmiesse/following{/other_user}",
        "gists_url": "https://api.github.com/users/gabrieldemarmiesse/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/gabrieldemarmiesse",
        "id": 12891691,
        "login": "gabrieldemarmiesse",
        "node_id": "MDQ6VXNlcjEyODkxNjkx",
        "organizations_url": "https://api.github.com/users/gabrieldemarmiesse/orgs",
        "received_events_url": "https://api.github.com/users/gabrieldemarmiesse/received_events",
        "repos_url": "https://api.github.com/users/gabrieldemarmiesse/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/gabrieldemarmiesse/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/gabrieldemarmiesse/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/gabrieldemarmiesse"
    }
}