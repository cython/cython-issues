{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "body": "### Describe the bug\n\nAccording to the benchmark runs, the Limited C-API is very slow compared to normal/optimising Cython or even Python:\n```\n2025-03-19 12:52:56  ### Benchmark 'bm_async_generators' (min/median/max):\n2025-03-19 12:52:56      Cython 'origin/3.0.x'     =   2.304 msec,   2.317 msec,   2.326 msec\n2025-03-19 12:52:56      Cython '3a7a936e099df468d =   2.440 msec,   2.452 msec,   2.471 msec\n2025-03-19 12:52:56      Cython 'origin/master'    =   2.382 msec,   2.386 msec,   2.438 msec\n2025-03-19 12:52:56      L-Cython 'origin/master'  =   6.052 msec,   6.084 msec,   6.211 msec\n2025-03-19 12:52:56      Python 3.14.0             =   3.029 msec,   3.058 msec,   3.127 msec\n2025-03-19 12:52:56  ### Benchmark 'bm_chaos' (min/median/max):\n2025-03-19 12:52:56      Cython 'origin/3.0.x'     =  25.634 msec,  25.748 msec,  25.881 msec\n2025-03-19 12:52:56      Cython '3a7a936e099df468d =  26.185 msec,  26.348 msec,  26.620 msec\n2025-03-19 12:52:56      Cython 'origin/master'    =  25.854 msec,  26.083 msec,  27.353 msec\n2025-03-19 12:52:56      L-Cython 'origin/master'  =  61.420 msec,  61.578 msec,  61.799 msec\n2025-03-19 12:52:56      Python 3.14.0             =  76.735 msec,  77.192 msec,  77.847 msec\n2025-03-19 12:52:56  ### Benchmark 'bm_comprehensions' (min/median/max):\n2025-03-19 12:52:56      Cython 'origin/3.0.x'     = 144.373 msec, 144.817 msec, 145.206 msec\n2025-03-19 12:52:56      Cython '3a7a936e099df468d = 141.432 msec, 142.220 msec, 162.232 msec\n2025-03-19 12:52:56      Cython 'origin/master'    = 144.829 msec, 145.374 msec, 146.761 msec\n2025-03-19 12:52:56      L-Cython 'origin/master'  = 363.479 msec, 364.877 msec, 366.767 msec\n2025-03-19 12:52:56      Python 3.14.0             = 198.839 msec, 200.543 msec, 201.419 msec\n2025-03-19 12:52:56  ### Benchmark 'bm_coroutines' (min/median/max):\n2025-03-19 12:52:56      Cython 'origin/3.0.x'     = 171.843 msec, 172.103 msec, 172.949 msec\n2025-03-19 12:52:56      Cython '3a7a936e099df468d =  85.337 msec,  85.959 msec,  89.085 msec\n2025-03-19 12:52:56      Cython 'origin/master'    =  91.887 msec,  91.977 msec,  93.338 msec\n2025-03-19 12:52:56      L-Cython 'origin/master'  = 284.875 msec, 285.946 msec, 287.231 msec\n2025-03-19 12:52:56      Python 3.14.0             = 101.788 msec, 101.937 msec, 103.066 msec\n2025-03-19 12:52:56  ### Benchmark 'bm_fib' (min/median/max):\n2025-03-19 12:52:56      Cython 'origin/3.0.x'     =  21.914 msec,  21.982 msec,  22.023 msec\n2025-03-19 12:52:56      Cython '3a7a936e099df468d =  21.694 msec,  21.718 msec,  23.552 msec\n2025-03-19 12:52:56      Cython 'origin/master'    =  21.860 msec,  21.923 msec,  22.419 msec\n2025-03-19 12:52:56      L-Cython 'origin/master'  = 263.612 msec, 263.762 msec, 268.917 msec\n2025-03-19 12:52:56      Python 3.14.0             =    1.154 sec,    1.156 sec,    1.158 sec\n2025-03-19 12:52:56  ### Benchmark 'bm_fstrings' (min/median/max):\n2025-03-19 12:52:56      Cython 'origin/3.0.x'     = 834.976 usec, 847.540 usec, 916.510 usec\n2025-03-19 12:52:56      Cython '3a7a936e099df468d = 831.913 usec, 846.099 usec, 850.690 usec\n2025-03-19 12:52:56      Cython 'origin/master'    = 863.411 usec, 874.914 usec, 891.425 usec\n2025-03-19 12:52:56      L-Cython 'origin/master'  =   1.561 msec,   1.575 msec,   1.600 msec\n2025-03-19 12:52:56      Python 3.14.0             =   1.675 msec,   1.685 msec,   1.787 msec\n2025-03-19 12:52:56  ### Benchmark 'bm_generators' (min/median/max):\n2025-03-19 12:52:56      Cython 'origin/3.0.x'     =   2.232 msec,   2.240 msec,   2.385 msec\n2025-03-19 12:52:56      Cython '3a7a936e099df468d =   2.292 msec,   2.336 msec,   2.440 msec\n2025-03-19 12:52:56      Cython 'origin/master'    =   2.268 msec,   2.305 msec,   2.552 msec\n2025-03-19 12:52:56      L-Cython 'origin/master'  =   9.728 msec,   9.790 msec,   9.998 msec\n2025-03-19 12:52:56      Python 3.14.0             =   6.434 msec,   6.457 msec,   6.638 msec\n2025-03-19 12:52:56  ### Benchmark 'bm_meteor_contest' (min/median/max):\n2025-03-19 12:52:56      Cython 'origin/3.0.x'     =  63.921 msec,  64.064 msec,  64.314 msec\n2025-03-19 12:52:56      Cython '3a7a936e099df468d =  63.615 msec,  63.786 msec,  69.920 msec\n2025-03-19 12:52:56      Cython 'origin/master'    =  62.615 msec,  62.793 msec,  64.280 msec\n2025-03-19 12:52:56      L-Cython 'origin/master'  =  92.637 msec,  93.032 msec,  93.275 msec\n2025-03-19 12:52:56      Python 3.14.0             =  80.931 msec,  81.466 msec,  82.835 msec\n2025-03-19 12:52:56  ### Benchmark 'bm_nbody' (min/median/max):\n2025-03-19 12:52:56      Cython 'origin/3.0.x'     =  66.024 msec,  66.174 msec,  67.269 msec\n2025-03-19 12:52:56      Cython '3a7a936e099df468d =  66.058 msec,  66.467 msec,  67.614 msec\n2025-03-19 12:52:56      Cython 'origin/master'    =  66.537 msec,  66.586 msec,  68.817 msec\n2025-03-19 12:52:56      L-Cython 'origin/master'  = 171.057 msec, 176.239 msec, 182.479 msec\n2025-03-19 12:52:56      Python 3.14.0             = 120.658 msec, 121.037 msec, 123.630 msec\n2025-03-19 12:52:56  ### Benchmark 'bm_nqueens' (min/median/max):\n2025-03-19 12:52:56      Cython 'origin/3.0.x'     =  30.787 msec,  30.911 msec,  30.979 msec\n2025-03-19 12:52:56      Cython '3a7a936e099df468d =  31.385 msec,  31.549 msec,  31.891 msec\n2025-03-19 12:52:56      Cython 'origin/master'    =  31.565 msec,  31.772 msec,  31.886 msec\n2025-03-19 12:52:56      L-Cython 'origin/master'  =  79.485 msec,  80.794 msec,  96.573 msec\n2025-03-19 12:52:56      Python 3.14.0             =  68.211 msec,  68.409 msec,  68.700 msec\n2025-03-19 12:52:56  ### Benchmark 'bm_raytrace' (min/median/max):\n2025-03-19 12:52:56      Cython 'origin/3.0.x'     =    1.422 sec,    1.424 sec,    1.429 sec\n2025-03-19 12:52:56      Cython '3a7a936e099df468d =    1.421 sec,    1.429 sec,    1.441 sec\n2025-03-19 12:52:56      Cython 'origin/master'    =    1.391 sec,    1.394 sec,    1.401 sec\n2025-03-19 12:52:56      L-Cython 'origin/master'  =    2.921 sec,    2.925 sec,    2.931 sec\n2025-03-19 12:52:56      Python 3.14.0             =    1.002 sec,    1.006 sec,    1.012 sec\n2025-03-19 12:52:56  ### Benchmark 'bm_richards_cclass' (min/median/max):\n2025-03-19 12:52:56      Cython 'origin/3.0.x'     = 180.760 msec, 181.845 msec, 186.403 msec\n2025-03-19 12:52:56      Cython '3a7a936e099df468d = 162.159 msec, 162.797 msec, 163.789 msec\n2025-03-19 12:52:56      Cython 'origin/master'    = 164.074 msec, 164.464 msec, 164.973 msec\n2025-03-19 12:52:56      L-Cython 'origin/master'  =    1.172 sec,    1.175 sec,    1.187 sec\n2025-03-19 12:52:56      Python 3.14.0             = 478.767 msec, 481.825 msec, 486.920 msec\n2025-03-19 12:52:56  ### Benchmark 'bm_richards_pyclass' (min/median/max):\n2025-03-19 12:52:56      Cython 'origin/3.0.x'     = 537.663 msec, 539.163 msec, 553.790 msec\n2025-03-19 12:52:56      Cython '3a7a936e099df468d = 556.840 msec, 559.778 msec, 566.158 msec\n2025-03-19 12:52:56      Cython 'origin/master'    = 534.917 msec, 536.324 msec, 537.403 msec\n2025-03-19 12:52:56      L-Cython 'origin/master'  =    1.582 sec,    1.585 sec,    1.600 sec\n2025-03-19 12:52:56      Python 3.14.0             = 482.876 msec, 483.618 msec, 486.604 msec\n2025-03-19 12:52:56  ### Benchmark 'bm_unpack_sequence' (min/median/max):\n2025-03-19 12:52:56      Cython 'origin/3.0.x'     =   2.512 msec,   2.517 msec,   2.572 msec\n2025-03-19 12:52:56      Cython '3a7a936e099df468d =   2.326 msec,   2.327 msec,   2.359 msec\n2025-03-19 12:52:56      Cython 'origin/master'    =   2.389 msec,   2.397 msec,   2.458 msec\n2025-03-19 12:52:56      L-Cython 'origin/master'  =  29.912 msec,  30.035 msec,  30.240 msec\n2025-03-19 12:52:56      Python 3.14.0             =   8.935 msec,   8.938 msec,   8.965 msec\n```\nWe should look into these step by step to see if we can collect some low hanging fruit.\n\n### Code to reproduce the behaviour:\n\n_No response_\n\n### Expected behaviour\n\n_No response_\n\n### OS\n\n_No response_\n\n### Python version\n\n3.14.0a6\n\n### Cython version\n\nmaster\n\n### Additional context\n\n_No response_",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [],
    "comments": 0,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/6741/comments",
    "created_at": "2025-03-19T13:18:01Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder",
                "user_view_type": "public"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2025-03-19T13:18:01Z",
            "event": "labeled",
            "id": 16865053163,
            "label": {
                "color": "444444",
                "name": "defect"
            },
            "node_id": "LE_lADOABDGAc6uvx__zwAAAAPtPEnr",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/16865053163"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder",
                "user_view_type": "public"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2025-03-19T13:18:01Z",
            "event": "labeled",
            "id": 16865053172,
            "label": {
                "color": "F5AB5D",
                "name": "limited api"
            },
            "node_id": "LE_lADOABDGAc6uvx__zwAAAAPtPEn0",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/16865053172"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder",
                "user_view_type": "public"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2025-03-19T13:18:01Z",
            "event": "labeled",
            "id": 16865053182,
            "label": {
                "color": "f9d0c4",
                "name": "performance"
            },
            "node_id": "LE_lADOABDGAc6uvx__zwAAAAPtPEn-",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/16865053182"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/6741/events",
    "html_url": "https://github.com/cython/cython/issues/6741",
    "id": 2931761151,
    "labels": [
        {
            "color": "f9d0c4",
            "default": false,
            "description": null,
            "id": 414805151,
            "name": "performance",
            "node_id": "MDU6TGFiZWw0MTQ4MDUxNTE=",
            "url": "https://api.github.com/repos/cython/cython/labels/performance"
        },
        {
            "color": "444444",
            "default": false,
            "description": null,
            "id": 425553654,
            "name": "defect",
            "node_id": "MDU6TGFiZWw0MjU1NTM2NTQ=",
            "url": "https://api.github.com/repos/cython/cython/labels/defect"
        },
        {
            "color": "F5AB5D",
            "default": false,
            "description": "",
            "id": 4210073287,
            "name": "limited api",
            "node_id": "LA_kwDOABDGAc768J7H",
            "url": "https://api.github.com/repos/cython/cython/labels/limited%20api"
        }
    ],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/6741/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOABDGAc6uvx__",
    "number": 6741,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/cython/cython/issues/6741/reactions"
    },
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/cython/cython/issues/6741/timeline",
    "title": "[BUG] Limited C-API is slow",
    "type": null,
    "updated_at": "2025-03-19T13:18:01Z",
    "url": "https://api.github.com/repos/cython/cython/issues/6741",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
        "events_url": "https://api.github.com/users/scoder/events{/privacy}",
        "followers_url": "https://api.github.com/users/scoder/followers",
        "following_url": "https://api.github.com/users/scoder/following{/other_user}",
        "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/scoder",
        "id": 491659,
        "login": "scoder",
        "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
        "organizations_url": "https://api.github.com/users/scoder/orgs",
        "received_events_url": "https://api.github.com/users/scoder/received_events",
        "repos_url": "https://api.github.com/users/scoder/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/scoder",
        "user_view_type": "public"
    }
}