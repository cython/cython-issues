{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "<!--\r\n**PLEASE READ THIS FIRST:**\r\n- Do not use the bug and feature tracker for support requests. Use the `cython-users` mailing list instead.\r\n- Did you search for similar issues already? Please do, it helps to save us precious time that we otherwise could not invest into development.\r\n- Did you try the latest master branch or pre-release? It might already have what you want to report. Also see the [Changelog](https://github.com/cython/cython/blob/master/CHANGES.rst) regarding recent changes.\r\n-->\r\n\r\n**Describe the bug**\r\nItem assignment in a extension type member of C++ vector type is ineffective\r\n\r\n**To Reproduce**\r\nLibrary file `temp.pyx`\r\n```cython\r\n# distutils: language = c++\r\n\r\nfrom libcpp.vector cimport vector\r\n\r\ncdef class Vector:\r\n    cdef public vector[int] data\r\n    def __init__(self):\r\n        self.data = [1,2,3]\r\n```\r\n\r\nTest script\r\n```python\r\n>>> from temp import Vector\r\n>>> a = Vector()\r\n>>> a.data\r\n[1, 2, 3]\r\n>>> a.data[0] = 2\r\n>>> a.data\r\n[1, 2, 3]\r\n>>> a.data = [2,2,3]\r\n>>> a.data\r\n[2, 2, 3]\r\n>>> exit()\r\n```\r\n\r\n**Expected behavior**\r\nI expect the first item of `a` to be modified after `a.data[0]=2`\r\n\r\n**Environment (please complete the following information):**\r\n - OS: Linux\r\n - Python version: Any\r\n - Cython version: 0.29.21\r\n",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "COLLABORATOR",
            "body": "When you expose it to Python as a public property it'll be converted to a list. You'll be inserting into the list, but there's no way of propagating the changes back to the vector. In doubt that we can do much to improve that, but it might be worth adding a warning message for properties that involve conversion to a mutable type",
            "created_at": "2021-04-01T06:36:34Z",
            "html_url": "https://github.com/cython/cython/issues/4078#issuecomment-811681315",
            "id": 811681315,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4078",
            "node_id": "MDEyOklzc3VlQ29tbWVudDgxMTY4MTMxNQ==",
            "performed_via_github_app": null,
            "updated_at": "2021-04-01T06:36:34Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/811681315",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        }
    ],
    "comments": 1,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/4078/comments",
    "created_at": "2021-04-01T02:23:07Z",
    "event_data": [],
    "events_url": "https://api.github.com/repos/cython/cython/issues/4078/events",
    "html_url": "https://github.com/cython/cython/issues/4078",
    "id": 847739869,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/4078/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU4NDc3Mzk4Njk=",
    "number": 4078,
    "performed_via_github_app": null,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "title": "[BUG] Ineffective vector item assignment",
    "updated_at": "2021-04-01T06:36:34Z",
    "url": "https://api.github.com/repos/cython/cython/issues/4078",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/9154441?v=4",
        "events_url": "https://api.github.com/users/cmpute/events{/privacy}",
        "followers_url": "https://api.github.com/users/cmpute/followers",
        "following_url": "https://api.github.com/users/cmpute/following{/other_user}",
        "gists_url": "https://api.github.com/users/cmpute/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/cmpute",
        "id": 9154441,
        "login": "cmpute",
        "node_id": "MDQ6VXNlcjkxNTQ0NDE=",
        "organizations_url": "https://api.github.com/users/cmpute/orgs",
        "received_events_url": "https://api.github.com/users/cmpute/received_events",
        "repos_url": "https://api.github.com/users/cmpute/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/cmpute/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/cmpute/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/cmpute"
    }
}