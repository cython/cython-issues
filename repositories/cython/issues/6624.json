{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Describe the bug\n\nHi there !\n\nI'm using a technique described [here](https://stackoverflow.com/questions/30157363/collapse-multiple-submodules-to-one-cython-extension/52729181#52729181) to link several pyx together.\n\nThat technique was a life-saving for my project because it allowed me to split my project into several pyx files. These pyx files make extensive use of the API of a C++ library that I want to statically link to (and which need to share the same namespace).\n\nMy code is [here](https://github.com/DearCyGui/DearCyGui)\n\nIt works. However my main fear is that it may not work one day, because this technique is not officially described in the documentation.\n\nRight now with last Cython and gcc I have many warnings about non-conformant C++ code, here is a snippet\n```\ndearcygui/widget.cpp:3762: note: le type incompatible est défini ici\n 3762 | struct __pyx_vtabstruct_9dearcygui_4core_baseItem {\ndearcygui/core.cpp:3420:8: attention: le type « struct __pyx_vtabstruct_9dearcygui_4core_Texture » enfreint la règle de la définition unique du C++ [-Wodr]\n 3420 | struct __pyx_vtabstruct_9dearcygui_4core_Texture {\n      |        ^\ndearcygui/widget.cpp:3948: note: un type différent est défini dans une autre unité de traduction\n 3948 | struct __pyx_vtabstruct_9dearcygui_4core_Texture {\ndearcygui/core.cpp:3421:53: note: la première différence des définitions correspondantes est le champ « __pyx_base »\n 3421 |   struct __pyx_vtabstruct_9dearcygui_4core_baseItem __pyx_base;\n      |                                                     ^\ndearcygui/widget.cpp:3949: note: un champ avec le même nom mais un type différent est défini dans une autre unité de traduction\n 3949 |   struct __pyx_vtabstruct_9dearcygui_4core_baseItem __pyx_base;\ndearcygui/core.cpp:3210:8: note: le type « struct __pyx_vtabstruct_9dearcygui_4core_baseItem » enfreint lui-même la règle de la définition unique du C++\n 3210 | struct __pyx_vtabstruct_9dearcygui_4core_baseItem {\n      |        ^\n```\n\nBasically it complains that the pyx merged together redefine symbols that are present in the pxd files.\n\nThese warnings do not hurt so far, but it's probably better to fix them (or have a better solution for multiple pyx files merged into one).\n\n### Code to reproduce the behaviour:\n\n_No response_\n\n### Expected behaviour\n\n_No response_\n\n### OS\n\nArch Linux\n\n### Python version\n\nPython 3.13.1\n\n### Cython version\n\ngit\n\n### Additional context\n\n_No response_",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "If you look at the definitions of these structs are there actual differences or is it just that they're defined multiple times in different files. If there are actual differences, it's probably a real concern.\n\nOne (untested) suggestion - if you declare these types as `cdef public` then they might end up moved into a header file avoiding the multiple definitions.\n\nPersonally, I've been very reluctant to do anything to officially support linking multiple modules together because I think it's a route to madness. It's very difficult to get all the corner-cases, and I think what most people want is a compiled version of PyInstaller.",
            "created_at": "2025-01-22T21:01:50Z",
            "html_url": "https://github.com/cython/cython/issues/6624#issuecomment-2608260838",
            "id": 2608260838,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/6624",
            "node_id": "IC_kwDOABDGAc6bdubm",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/2608260838/reactions"
            },
            "updated_at": "2025-01-22T21:01:50Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/2608260838",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "The structs seem to be completly identical fortunately. My worry is that since there is a warning, somehow compilers might decide one day to reject the code.\n\n`cdef public` raises compilation errors. But I guess it was to be expected (because it's `cdef class`)\n\nMy project is a library for making GUI in Python (+ you can make custom visuals using Cython subclassing, which I think is quite rare) and my main issue was distributing among multiple OSes on Pypi.",
            "created_at": "2025-01-22T21:16:53Z",
            "html_url": "https://github.com/cython/cython/issues/6624#issuecomment-2608288284",
            "id": 2608288284,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/6624",
            "node_id": "IC_kwDOABDGAc6bd1Ic",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/2608288284/reactions"
            },
            "updated_at": "2025-01-22T21:17:05Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/2608288284",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2546609?v=4",
                "events_url": "https://api.github.com/users/axeldavy/events{/privacy}",
                "followers_url": "https://api.github.com/users/axeldavy/followers",
                "following_url": "https://api.github.com/users/axeldavy/following{/other_user}",
                "gists_url": "https://api.github.com/users/axeldavy/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/axeldavy",
                "id": 2546609,
                "login": "axeldavy",
                "node_id": "MDQ6VXNlcjI1NDY2MDk=",
                "organizations_url": "https://api.github.com/users/axeldavy/orgs",
                "received_events_url": "https://api.github.com/users/axeldavy/received_events",
                "repos_url": "https://api.github.com/users/axeldavy/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/axeldavy/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/axeldavy/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/axeldavy",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Sorry - `cdef public class` rather than `cdef public`.",
            "created_at": "2025-01-22T21:18:16Z",
            "html_url": "https://github.com/cython/cython/issues/6624#issuecomment-2608290500",
            "id": 2608290500,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/6624",
            "node_id": "IC_kwDOABDGAc6bd1rE",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/2608290500/reactions"
            },
            "updated_at": "2025-01-22T21:18:16Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/2608290500",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "`cdef public class` doesn't work either.\n\nBut well that's fine, as long as it remains mere warnings.",
            "created_at": "2025-01-22T22:46:30Z",
            "html_url": "https://github.com/cython/cython/issues/6624#issuecomment-2608423078",
            "id": 2608423078,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/6624",
            "node_id": "IC_kwDOABDGAc6beWCm",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/2608423078/reactions"
            },
            "updated_at": "2025-01-22T22:46:30Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/2608423078",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2546609?v=4",
                "events_url": "https://api.github.com/users/axeldavy/events{/privacy}",
                "followers_url": "https://api.github.com/users/axeldavy/followers",
                "following_url": "https://api.github.com/users/axeldavy/following{/other_user}",
                "gists_url": "https://api.github.com/users/axeldavy/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/axeldavy",
                "id": 2546609,
                "login": "axeldavy",
                "node_id": "MDQ6VXNlcjI1NDY2MDk=",
                "organizations_url": "https://api.github.com/users/axeldavy/orgs",
                "received_events_url": "https://api.github.com/users/axeldavy/received_events",
                "repos_url": "https://api.github.com/users/axeldavy/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/axeldavy/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/axeldavy/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/axeldavy",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 4,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/6624/comments",
    "created_at": "2025-01-22T19:12:09Z",
    "event_data": [],
    "events_url": "https://api.github.com/repos/cython/cython/issues/6624/events",
    "html_url": "https://github.com/cython/cython/issues/6624",
    "id": 2805153111,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/6624/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOABDGAc6nMz1X",
    "number": 6624,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/cython/cython/issues/6624/reactions"
    },
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/cython/cython/issues/6624/timeline",
    "title": "[ENH] Compiler warnings when linking modules together",
    "updated_at": "2025-01-22T22:46:31Z",
    "url": "https://api.github.com/repos/cython/cython/issues/6624",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/2546609?v=4",
        "events_url": "https://api.github.com/users/axeldavy/events{/privacy}",
        "followers_url": "https://api.github.com/users/axeldavy/followers",
        "following_url": "https://api.github.com/users/axeldavy/following{/other_user}",
        "gists_url": "https://api.github.com/users/axeldavy/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/axeldavy",
        "id": 2546609,
        "login": "axeldavy",
        "node_id": "MDQ6VXNlcjI1NDY2MDk=",
        "organizations_url": "https://api.github.com/users/axeldavy/orgs",
        "received_events_url": "https://api.github.com/users/axeldavy/received_events",
        "repos_url": "https://api.github.com/users/axeldavy/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/axeldavy/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/axeldavy/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/axeldavy",
        "user_view_type": "public"
    }
}