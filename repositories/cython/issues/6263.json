{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "body": "### Describe the bug\n\nThe logic used to work out \"flow control\" is wrong for PyObjects in parallel blocks. If the object is assigned to within the block then it assumes that it can't use the value before the block. This is true for non-PyObjects (which are thread local) but not for PyObjects, which are shared.\n\n### Code to reproduce the behaviour:\n\n```cython\r\nfrom cython.parallel cimport parallel\r\n\r\ndef f():\r\n    o = object()\r\n    with nogil, parallel():\r\n        with gil:\r\n            print(o)\r\n            o = 1\r\n```\r\n\r\nThis gives\r\n\r\n```\r\n            print(o)\r\n                  ^\r\n------------------------------------------------------------\r\n\r\nparallel_assignment.pyx:7:18: local variable 'o' referenced before assignment\r\n```\r\n\r\n\r\n\n\n### Expected behaviour\n\n_No response_\n\n### OS\n\nLinux\n\n### Python version\n\n3.11\n\n### Cython version\n\nCurrent master\n\n### Additional context\n\n_No response_",
    "closed_at": null,
    "comment_data": [],
    "comments": 0,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/6263/comments",
    "created_at": "2024-06-23T13:09:10Z",
    "event_data": [],
    "events_url": "https://api.github.com/repos/cython/cython/issues/6263/events",
    "html_url": "https://github.com/cython/cython/issues/6263",
    "id": 2368554195,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/6263/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOABDGAc6NLUTT",
    "number": 6263,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/cython/cython/issues/6263/reactions"
    },
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/cython/cython/issues/6263/timeline",
    "title": "[BUG] Wrong flow-control for PyObjects in parallel blocks",
    "updated_at": "2024-06-23T13:09:10Z",
    "url": "https://api.github.com/repos/cython/cython/issues/6263",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
        "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
        "followers_url": "https://api.github.com/users/da-woods/followers",
        "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
        "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/da-woods",
        "id": 10536947,
        "login": "da-woods",
        "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
        "organizations_url": "https://api.github.com/users/da-woods/orgs",
        "received_events_url": "https://api.github.com/users/da-woods/received_events",
        "repos_url": "https://api.github.com/users/da-woods/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/da-woods"
    }
}