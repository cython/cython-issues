{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Describe the bug\n\nI see these test failures with Cython 3.0.0:\r\n```\r\n======================================================================\r\nFAIL: test_beta (cpp_stl_cmath_cpp17)\r\nDoctest: cpp_stl_cmath_cpp17.test_beta\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.9/doctest.py\", line 2205, in runTest\r\n    raise self.failureException(self.format_failure(new.getvalue()))\r\nAssertionError: Failed doctest test for cpp_stl_cmath_cpp17.test_beta\r\n  File \"$(BUILD_DIR)/TEST_TMP/run/cpp/cpp_stl_cmath_cpp17/cpp_stl_cmath_cpp17.cpython-39.so\", line unknown line number, in test_beta\r\n   \r\n----------------------------------------------------------------------\r\nFile \"$(BUILD_DIR)/TEST_TMP/run/cpp/cpp_stl_cmath_cpp17/cpp_stl_cmath_cpp17.cpython-39.so\", line ?, in cpp_stl_cmath_cpp17.test_beta\r\nFailed example:\r\n    test_beta(1.0, 2.0) \r\nExpected:\r\n    0.5\r\nGot:\r\n    0.49999999999999994\r\n\r\n\r\n======================================================================\r\nFAIL: test_beta (cpp_stl_cmath_cpp17)\r\nDoctest: cpp_stl_cmath_cpp17.test_beta\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.9/doctest.py\", line 2205, in runTest\r\n    raise self.failureException(self.format_failure(new.getvalue()))\r\nAssertionError: Failed doctest test for cpp_stl_cmath_cpp17.test_beta\r\n  File \"$(BUILD_DIR)/TEST_TMP/run/cpp/cpp_stl_cmath_cpp17_directives_cpp_locals_True/cpp_stl_cmath_cpp17.cpython-39.so\", line unknown line number, in test_beta\r\n\r\n----------------------------------------------------------------------\r\nFile \"$(BUILD_DIR)/TEST_TMP/run/cpp/cpp_stl_cmath_cpp17_directives_cpp_locals_True/cpp_stl_cmath_cpp17.cpython-39.so\", line ?, in cpp_stl_cmath_cpp17.test_beta\r\nFailed example:\r\n    test_beta(1.0, 2.0)\r\nExpected:\r\n    0.5\r\nGot:\r\n    0.49999999999999994\r\n```\n\n### Code to reproduce the behaviour:\n\n```\r\ntox --current-env --no-provision --recreate -e py39\r\n```\r\n\n\n### Expected behaviour\n\nTests pass\n\n### OS\n\nOpenIndiana\n\n### Python version\n\n3.9.16\n\n### Cython version\n\n3.0.0\n\n### Additional context\n\nMaybe this is platform bug (see also #5198), but I'm not sure how to confirm that.",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "This just looks like a small rounding error so I wouldn't worry about it - nothing significant is wrong. That's kind of an issue with doctests that a small difference in output can lead to test failure.\r\n\r\nWe're only really testing that we've wrapped the functions to the extent that we can call them. We're not really interested in testing the C++ standard library. So if you want to submit a PR to change the test so it passes for you that'd be fine.\r\n\r\nEither way, not a big issue",
            "created_at": "2023-08-07T17:04:47Z",
            "html_url": "https://github.com/cython/cython/issues/5599#issuecomment-1668268729",
            "id": 1668268729,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/5599",
            "node_id": "IC_kwDOABDGAc5jb8K5",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 1,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1668268729/reactions"
            },
            "updated_at": "2023-08-07T17:04:47Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1668268729",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        }
    ],
    "comments": 1,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/5599/comments",
    "created_at": "2023-08-07T12:53:08Z",
    "event_data": [],
    "events_url": "https://api.github.com/repos/cython/cython/issues/5599/events",
    "html_url": "https://github.com/cython/cython/issues/5599",
    "id": 1839395499,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/5599/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOABDGAc5tovKr",
    "number": 5599,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/cython/cython/issues/5599/reactions"
    },
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/cython/cython/issues/5599/timeline",
    "title": "[BUG] FAIL: test_beta (cpp_stl_cmath_cpp17)",
    "updated_at": "2023-08-07T17:04:47Z",
    "url": "https://api.github.com/repos/cython/cython/issues/5599",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/3000173?v=4",
        "events_url": "https://api.github.com/users/mtelka/events{/privacy}",
        "followers_url": "https://api.github.com/users/mtelka/followers",
        "following_url": "https://api.github.com/users/mtelka/following{/other_user}",
        "gists_url": "https://api.github.com/users/mtelka/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/mtelka",
        "id": 3000173,
        "login": "mtelka",
        "node_id": "MDQ6VXNlcjMwMDAxNzM=",
        "organizations_url": "https://api.github.com/users/mtelka/orgs",
        "received_events_url": "https://api.github.com/users/mtelka/received_events",
        "repos_url": "https://api.github.com/users/mtelka/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/mtelka/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/mtelka/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/mtelka"
    }
}