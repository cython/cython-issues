{
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "I am trying to convert my python code to an executable file on ec2-instance. I am successfully able to convert the code into executable using pyinstaller, however when I run the executable, I was getting\r\n\r\n**`'Sqlite3, OperationalError: unable to open database file'.`**\r\n\r\nOnce I changed the uri parameter to the function(connect_to_db) inside\r\n\r\n**`\"~/snappy-manifolds/database.py\"`**\r\n\r\nfile mentioned in the error. I got another error\r\n\r\n**`\"SnapPy.PresentationMatrix has not attribute _reduce_cython_\".`**\r\n\r\nI am using Fastavro, Pandavro for reading and writing into an 'avro' file. However these libraries seem to have some dependencies on Snappy library as it is failing while fetching some data from Snappy library folders. I changed the uri parameter for 'connect_to_db' function defined in\r\n\r\n**`\"~/snappy-manifolds/database.py\"`**\r\n\r\nwhich led me into getting another error:\r\n\r\n**`\"SnapPy.PresentationMatrix has not attribute _reduce_cython_\".`**\r\n\r\nI don't know what to do next.\r\n\r\n**Error Traceback:**\r\n```\r\nTraceback (most recent call last):\r\n  File \"NVS_Main_V2.py\", line 11, in <module>\r\n  File \"<frozen importlib._bootstrap>\", line 971, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 955, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 665, in _load_unlocked\r\n  File \"/home/local/SNETACLOUD/svc-sdtm/anaconda3/lib/python3.6/site-packages/PyInstaller/loader/pyimod03_importers.py\", line 627, in exec_module\r\n    exec(bytecode, module.__dict__)\r\n  File \"NVS_Utility_Services.py\", line 18, in <module>\r\n  File \"<frozen importlib._bootstrap>\", line 971, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 955, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 665, in _load_unlocked\r\n  File \"/home/local/SNETACLOUD/svc-sdtm/anaconda3/lib/python3.6/site-packages/PyInstaller/loader/pyimod03_importers.py\", line 627, in exec_module\r\n    exec(bytecode, module.__dict__)\r\n  File \"site-packages/fastavro/__init__.py\", line 48, in <module>\r\n  File \"<frozen importlib._bootstrap>\", line 971, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 955, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 665, in _load_unlocked\r\n  File \"/home/local/SNETACLOUD/svc-sdtm/anaconda3/lib/python3.6/site-packages/PyInstaller/loader/pyimod03_importers.py\", line 627, in exec_module\r\n    exec(bytecode, module.__dict__)\r\n  File \"site-packages/fastavro/write.py\", line 2, in <module>\r\n  File \"fastavro/_write.pyx\", line 578, in init fastavro._write\r\n  File \"<frozen importlib._bootstrap>\", line 971, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 955, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 665, in _load_unlocked\r\n  File \"/home/local/SNETACLOUD/svc-sdtm/anaconda3/lib/python3.6/site-packages/PyInstaller/loader/pyimod03_importers.py\", line 627, in exec_module\r\n    exec(bytecode, module.__dict__)\r\n  File \"site-packages/snappy/__init__.py\", line 7, in <module>\r\n  File \"cython/core/abelian_group.pyx\", line 128, in init SnapPy\r\n  AttributeError: type object 'SnapPy.PresentationMatrix' has no attribute \r\n  '__reduce_cython__'\r\n  [29827] Failed to execute script NVS_Main_V2\r\n```\r\n\r\nuri is /home/local/SNETACLOUD/svc-sdtm/anaconda3/lib/python3.6/site-packages/snappy_manifolds/sqlite_files/manifolds.sqlite\r\n\r\n**This is the uri that I am currently passing to the connect_to_db function\r\nFile \"NVS_Utility_Services.py\", line 18, in**\r\n\r\n**This statement in \"NVS_Utility_Services.py\" code is \"import fastavro\"**\r\n\r\nExpected result would be that the executable file successfully runs and perform the operation. When I'm running the python code on EC2 instance, it executes successfully but when I convert it into an executable, it breaks giving the error mentioned above\r\n",
    "closed_at": "2019-04-05T10:06:58Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Looks like a duplicate of #1953.",
            "created_at": "2019-04-03T18:01:15Z",
            "html_url": "https://github.com/cython/cython/issues/2911#issuecomment-479596310",
            "id": 479596310,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2911",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ3OTU5NjMxMA==",
            "updated_at": "2019-04-03T18:01:15Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/479596310",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "In short, ask for a new release of Snappy that is built with Cython 0.28+, preferably 0.29.x (because, why not).",
            "created_at": "2019-04-05T10:06:58Z",
            "html_url": "https://github.com/cython/cython/issues/2911#issuecomment-480221166",
            "id": 480221166,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2911",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ4MDIyMTE2Ng==",
            "updated_at": "2019-04-05T10:06:58Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/480221166",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        }
    ],
    "comments": 2,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/2911/comments",
    "created_at": "2019-04-03T07:10:27Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2019-04-05T10:06:58Z",
            "event": "closed",
            "id": 2255360455,
            "node_id": "MDExOkNsb3NlZEV2ZW50MjI1NTM2MDQ1NQ==",
            "url": "https://api.github.com/repos/cython/cython/issues/events/2255360455"
        },
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2019-04-05T10:07:09Z",
            "event": "labeled",
            "id": 2255360881,
            "label": {
                "color": "444444",
                "name": "R: duplicate"
            },
            "node_id": "MDEyOkxhYmVsZWRFdmVudDIyNTUzNjA4ODE=",
            "url": "https://api.github.com/repos/cython/cython/issues/events/2255360881"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/2911/events",
    "html_url": "https://github.com/cython/cython/issues/2911",
    "id": 428600255,
    "labels": [
        {
            "color": "444444",
            "default": false,
            "id": 425556894,
            "name": "R: duplicate",
            "node_id": "MDU6TGFiZWw0MjU1NTY4OTQ=",
            "url": "https://api.github.com/repos/cython/cython/labels/R:%20duplicate"
        }
    ],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/2911/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU0Mjg2MDAyNTU=",
    "number": 2911,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "closed",
    "title": "How to fix Snappy Library exception during Python to executable conversion on linux based aws-ec2 instance?",
    "updated_at": "2019-04-05T10:07:09Z",
    "url": "https://api.github.com/repos/cython/cython/issues/2911",
    "user": {
        "avatar_url": "https://avatars0.githubusercontent.com/u/49226357?v=4",
        "events_url": "https://api.github.com/users/pythonianits/events{/privacy}",
        "followers_url": "https://api.github.com/users/pythonianits/followers",
        "following_url": "https://api.github.com/users/pythonianits/following{/other_user}",
        "gists_url": "https://api.github.com/users/pythonianits/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/pythonianits",
        "id": 49226357,
        "login": "pythonianits",
        "node_id": "MDQ6VXNlcjQ5MjI2MzU3",
        "organizations_url": "https://api.github.com/users/pythonianits/orgs",
        "received_events_url": "https://api.github.com/users/pythonianits/received_events",
        "repos_url": "https://api.github.com/users/pythonianits/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/pythonianits/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/pythonianits/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/pythonianits"
    }
}