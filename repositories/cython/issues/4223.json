{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "<!--\r\n**PLEASE READ THIS FIRST:**\r\n- Do not use the bug and feature tracker for support requests. Use the `cython-users` mailing list instead.\r\n- Did you search for similar issues already? Please do, it helps to save us precious time that we otherwise could not invest into development.\r\n- Did you try the latest master branch or pre-release? It might already have what you want to report. Also see the [Changelog](https://github.com/cython/cython/blob/master/CHANGES.rst) regarding recent changes.\r\n-->\r\n\r\n**Describe the bug**\r\nFor bytes and bytearray data, if they are decoded to str by their decoding method, that works well. But if the data is iterated by each byte, then use chr() function to convert that byte to a char, bytes and bytearray data wouldn't work in a same way. \r\n\r\n**To Reproduce**\r\nCode to reproduce the behaviour:\r\n\r\na .py code is as following:\r\n```\r\ndef test_bytes_and_bytearray_to_str():\r\n    data_bytes = bytes(b'hello world')\r\n    s = \"\"\r\n    for d in data_bytes:\r\n        s += chr(d)\r\n    print(s)\r\n\r\n    data_bytearray = bytearray(data_bytes)\r\n    s = \"\"\r\n    for d in data_bytearray :\r\n        s += chr(d)\r\n    print(s)\r\n\r\ntest_bytes_and_bytearray_to_str()\r\n```\r\nThen compile this source file by Cython and execute it, you will see that data_bytes is converted to str successfully while data_bytearray not(for data_bytearray, either a null string or some unrecognizable codes is printed to the console). But in python itself, these two types of data work the same with chr() and all can be converted to str normally.\r\n\r\nI don't know this is really a bug or just that I am not using Cython properly.\r\n\r\n**Expected behavior**\r\nBoth bytes and bytearray data should be converted to string normally by chr() function.\r\n\r\n**Environment (please complete the following information):**\r\n - OS: Linux\r\n - Python version 3.7.10\r\n - Cython version 0.29.2\r\n",
    "closed_at": "2021-06-11T19:21:59Z",
    "comment_data": [
        {
            "author_association": "COLLABORATOR",
            "body": "Duplicate of https://github.com/cython/cython/issues/3473 (I think).\r\n\r\nI think there is a fix that's awaiting being merged. If \"0.29.2\" is true you might want to upgrade anyway (but it isn't fixed in the 0.29.x yet)",
            "created_at": "2021-06-11T19:21:59Z",
            "html_url": "https://github.com/cython/cython/issues/4223#issuecomment-859791221",
            "id": 859791221,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4223",
            "node_id": "MDEyOklzc3VlQ29tbWVudDg1OTc5MTIyMQ==",
            "performed_via_github_app": null,
            "updated_at": "2021-06-11T19:21:59Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/859791221",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        }
    ],
    "comments": 1,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/4223/comments",
    "created_at": "2021-06-11T18:31:28Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/53120969?v=4",
                "events_url": "https://api.github.com/users/Telapsess/events{/privacy}",
                "followers_url": "https://api.github.com/users/Telapsess/followers",
                "following_url": "https://api.github.com/users/Telapsess/following{/other_user}",
                "gists_url": "https://api.github.com/users/Telapsess/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Telapsess",
                "id": 53120969,
                "login": "Telapsess",
                "node_id": "MDQ6VXNlcjUzMTIwOTY5",
                "organizations_url": "https://api.github.com/users/Telapsess/orgs",
                "received_events_url": "https://api.github.com/users/Telapsess/received_events",
                "repos_url": "https://api.github.com/users/Telapsess/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Telapsess/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Telapsess/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Telapsess"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2021-06-11T18:35:18Z",
            "event": "renamed",
            "id": 4879564351,
            "node_id": "MDE3OlJlbmFtZWRUaXRsZUV2ZW50NDg3OTU2NDM1MQ==",
            "performed_via_github_app": null,
            "rename": {
                "from": "[BUG] bytes and bytearray data decoding to str is not compatible",
                "to": "[BUG] bytes and bytearray data decoding to str are not compatible"
            },
            "url": "https://api.github.com/repos/cython/cython/issues/events/4879564351"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2021-06-11T19:21:59Z",
            "event": "closed",
            "id": 4879749998,
            "node_id": "MDExOkNsb3NlZEV2ZW50NDg3OTc0OTk5OA==",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/4879749998"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2021-06-11T19:22:15Z",
            "event": "labeled",
            "id": 4879750872,
            "label": {
                "color": "444444",
                "name": "R: duplicate"
            },
            "node_id": "MDEyOkxhYmVsZWRFdmVudDQ4Nzk3NTA4NzI=",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/4879750872"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/4223/events",
    "html_url": "https://github.com/cython/cython/issues/4223",
    "id": 919075756,
    "labels": [
        {
            "color": "444444",
            "default": false,
            "description": null,
            "id": 425556894,
            "name": "R: duplicate",
            "node_id": "MDU6TGFiZWw0MjU1NTY4OTQ=",
            "url": "https://api.github.com/repos/cython/cython/labels/R:%20duplicate"
        }
    ],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/4223/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU5MTkwNzU3NTY=",
    "number": 4223,
    "performed_via_github_app": null,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "closed",
    "title": "[BUG] bytes and bytearray data decoding to str are not compatible",
    "updated_at": "2021-06-11T19:22:15Z",
    "url": "https://api.github.com/repos/cython/cython/issues/4223",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/53120969?v=4",
        "events_url": "https://api.github.com/users/Telapsess/events{/privacy}",
        "followers_url": "https://api.github.com/users/Telapsess/followers",
        "following_url": "https://api.github.com/users/Telapsess/following{/other_user}",
        "gists_url": "https://api.github.com/users/Telapsess/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/Telapsess",
        "id": 53120969,
        "login": "Telapsess",
        "node_id": "MDQ6VXNlcjUzMTIwOTY5",
        "organizations_url": "https://api.github.com/users/Telapsess/orgs",
        "received_events_url": "https://api.github.com/users/Telapsess/received_events",
        "repos_url": "https://api.github.com/users/Telapsess/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/Telapsess/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Telapsess/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/Telapsess"
    }
}