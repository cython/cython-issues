{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "body": "It would be nice to allow Cython types in addition to Python types as in `Annotated[PythonType, CythonType]`, following [PEP-593](https://www.python.org/dev/peps/pep-0593/). See the examples in the PEP.\r\n\r\nSee `AnnotationNode.analyse_type_annotation()` in `ExprNodes.py`.",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "I think this syntax is less intrusive as it doesn't \"hijack\" the use of type hints and would allow users to still use static type checkers e.g. `mypy` on their source code.\r\n\r\nExample:\r\n\r\n```python\r\nfrom typing import Annotated\r\n\r\n\r\n@cython.cfunc\r\ndef eggs(l: Annotated[int, cython.ulong], f: Annotated[float, cython.float]) -> Annotated[float, cython.float]:\r\n    ...\r\n\r\n```",
            "created_at": "2022-04-21T09:21:13Z",
            "html_url": "https://github.com/cython/cython/issues/3777#issuecomment-1104938754",
            "id": 1104938754,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/3777",
            "node_id": "IC_kwDOABDGAc5B3AcC",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1104938754/reactions"
            },
            "updated_at": "2022-04-21T09:21:13Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1104938754",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/55017335?v=4",
                "events_url": "https://api.github.com/users/michaeloliverx/events{/privacy}",
                "followers_url": "https://api.github.com/users/michaeloliverx/followers",
                "following_url": "https://api.github.com/users/michaeloliverx/following{/other_user}",
                "gists_url": "https://api.github.com/users/michaeloliverx/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/michaeloliverx",
                "id": 55017335,
                "login": "michaeloliverx",
                "node_id": "MDQ6VXNlcjU1MDE3MzM1",
                "organizations_url": "https://api.github.com/users/michaeloliverx/orgs",
                "received_events_url": "https://api.github.com/users/michaeloliverx/received_events",
                "repos_url": "https://api.github.com/users/michaeloliverx/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/michaeloliverx/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/michaeloliverx/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/michaeloliverx"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "@michaeloliverx, your example is redundant because, for static type checkers, `cython.int` and friends map to the corresponding Python types. Thus, your `eggs` function is more easily spelled (and read) as\r\n> ```python\r\n> @cython.cfunc\r\n> def eggs(l: cython.ulong, f: cython.float) -> cython.float:\r\n>     ...\r\n> ```\r\nwithout the additional clutter, which provides the exact same type information to mypy.",
            "created_at": "2022-04-21T09:58:59Z",
            "html_url": "https://github.com/cython/cython/issues/3777#issuecomment-1104990479",
            "id": 1104990479,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/3777",
            "node_id": "IC_kwDOABDGAc5B3NEP",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1104990479/reactions"
            },
            "updated_at": "2022-04-21T09:59:26Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1104990479",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "author_association": "NONE",
            "body": "\r\n\r\n@scoder that is great thanks for the clarification. I can't seem to get this to work.. do I have to do anything for mypy to see the types?\r\n\r\n\r\nSnippet:\r\n\r\n```python\r\n# example.py\r\nimport cython\r\n\r\n\r\n@cython.cfunc\r\ndef eggs(l: cython.ulong, f: cython.float) -> cython.float:\r\n    ...\r\n\r\n\r\nreveal_type(cython.ulong)\r\n```\r\n\r\nMypy output:\r\n\r\n```\r\n‚ùØ mypy .\\example.py\r\nexample.py:1: error: Skipping analyzing \"cython\": module is installed, but missing library stubs or py.typed marker  [import]\r\nexample.py:1: note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#missing-imports\r\nexample.py:9: note: Revealed type is \"Any\"\r\nFound 1 error in 1 file (checked 1 source file)\r\n```\r\n\r\n\r\n",
            "created_at": "2022-04-21T10:10:09Z",
            "html_url": "https://github.com/cython/cython/issues/3777#issuecomment-1105006176",
            "id": 1105006176,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/3777",
            "node_id": "IC_kwDOABDGAc5B3Q5g",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1105006176/reactions"
            },
            "updated_at": "2022-04-21T10:10:09Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1105006176",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/55017335?v=4",
                "events_url": "https://api.github.com/users/michaeloliverx/events{/privacy}",
                "followers_url": "https://api.github.com/users/michaeloliverx/followers",
                "following_url": "https://api.github.com/users/michaeloliverx/following{/other_user}",
                "gists_url": "https://api.github.com/users/michaeloliverx/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/michaeloliverx",
                "id": 55017335,
                "login": "michaeloliverx",
                "node_id": "MDQ6VXNlcjU1MDE3MzM1",
                "organizations_url": "https://api.github.com/users/michaeloliverx/orgs",
                "received_events_url": "https://api.github.com/users/michaeloliverx/received_events",
                "repos_url": "https://api.github.com/users/michaeloliverx/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/michaeloliverx/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/michaeloliverx/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/michaeloliverx"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "See #4327, Cython's missing the required `py.typed` file to signal to type checkers that they should analyse the package for type hintd and stubs.",
            "created_at": "2022-04-21T10:38:42Z",
            "html_url": "https://github.com/cython/cython/issues/3777#issuecomment-1105040114",
            "id": 1105040114,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/3777",
            "node_id": "IC_kwDOABDGAc5B3ZLy",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1105040114/reactions"
            },
            "updated_at": "2022-04-21T10:38:42Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1105040114",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8453732?v=4",
                "events_url": "https://api.github.com/users/TeamSpen210/events{/privacy}",
                "followers_url": "https://api.github.com/users/TeamSpen210/followers",
                "following_url": "https://api.github.com/users/TeamSpen210/following{/other_user}",
                "gists_url": "https://api.github.com/users/TeamSpen210/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/TeamSpen210",
                "id": 8453732,
                "login": "TeamSpen210",
                "node_id": "MDQ6VXNlcjg0NTM3MzI=",
                "organizations_url": "https://api.github.com/users/TeamSpen210/orgs",
                "received_events_url": "https://api.github.com/users/TeamSpen210/received_events",
                "repos_url": "https://api.github.com/users/TeamSpen210/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/TeamSpen210/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/TeamSpen210/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/TeamSpen210"
            }
        }
    ],
    "comments": 4,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/3777/comments",
    "created_at": "2020-08-12T11:00:49Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2020-08-12T11:00:49Z",
            "event": "labeled",
            "id": 3647147744,
            "label": {
                "color": "c2e0c6",
                "name": "feature"
            },
            "node_id": "MDEyOkxhYmVsZWRFdmVudDM2NDcxNDc3NDQ=",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/3647147744"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2020-08-12T11:00:49Z",
            "event": "labeled",
            "id": 3647147746,
            "label": {
                "color": "444444",
                "name": "Python Semantics"
            },
            "node_id": "MDEyOkxhYmVsZWRFdmVudDM2NDcxNDc3NDY=",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/3647147746"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/55017335?v=4",
                "events_url": "https://api.github.com/users/michaeloliverx/events{/privacy}",
                "followers_url": "https://api.github.com/users/michaeloliverx/followers",
                "following_url": "https://api.github.com/users/michaeloliverx/following{/other_user}",
                "gists_url": "https://api.github.com/users/michaeloliverx/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/michaeloliverx",
                "id": 55017335,
                "login": "michaeloliverx",
                "node_id": "MDQ6VXNlcjU1MDE3MzM1",
                "organizations_url": "https://api.github.com/users/michaeloliverx/orgs",
                "received_events_url": "https://api.github.com/users/michaeloliverx/received_events",
                "repos_url": "https://api.github.com/users/michaeloliverx/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/michaeloliverx/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/michaeloliverx/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/michaeloliverx"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2022-04-21T09:58:59Z",
            "event": "mentioned",
            "id": 6469678722,
            "node_id": "MEE_lADOABDGAc4oY1MLzwAAAAGBn3aC",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/6469678722"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/55017335?v=4",
                "events_url": "https://api.github.com/users/michaeloliverx/events{/privacy}",
                "followers_url": "https://api.github.com/users/michaeloliverx/followers",
                "following_url": "https://api.github.com/users/michaeloliverx/following{/other_user}",
                "gists_url": "https://api.github.com/users/michaeloliverx/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/michaeloliverx",
                "id": 55017335,
                "login": "michaeloliverx",
                "node_id": "MDQ6VXNlcjU1MDE3MzM1",
                "organizations_url": "https://api.github.com/users/michaeloliverx/orgs",
                "received_events_url": "https://api.github.com/users/michaeloliverx/received_events",
                "repos_url": "https://api.github.com/users/michaeloliverx/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/michaeloliverx/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/michaeloliverx/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/michaeloliverx"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2022-04-21T09:58:59Z",
            "event": "subscribed",
            "id": 6469678727,
            "node_id": "SE_lADOABDGAc4oY1MLzwAAAAGBn3aH",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/6469678727"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2022-04-21T10:10:10Z",
            "event": "mentioned",
            "id": 6469757614,
            "node_id": "MEE_lADOABDGAc4oY1MLzwAAAAGBoKqu",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/6469757614"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2022-04-21T10:10:10Z",
            "event": "subscribed",
            "id": 6469757620,
            "node_id": "SE_lADOABDGAc4oY1MLzwAAAAGBoKq0",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/6469757620"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/3777/events",
    "html_url": "https://github.com/cython/cython/issues/3777",
    "id": 677597963,
    "labels": [
        {
            "color": "c2e0c6",
            "default": false,
            "description": null,
            "id": 414805463,
            "name": "feature",
            "node_id": "MDU6TGFiZWw0MTQ4MDU0NjM=",
            "url": "https://api.github.com/repos/cython/cython/labels/feature"
        },
        {
            "color": "444444",
            "default": false,
            "description": null,
            "id": 425556315,
            "name": "Python Semantics",
            "node_id": "MDU6TGFiZWw0MjU1NTYzMTU=",
            "url": "https://api.github.com/repos/cython/cython/labels/Python%20Semantics"
        }
    ],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/3777/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU2Nzc1OTc5NjM=",
    "number": 3777,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 2,
        "-1": 0,
        "confused": 0,
        "eyes": 1,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 3,
        "url": "https://api.github.com/repos/cython/cython/issues/3777/reactions"
    },
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "timeline_url": "https://api.github.com/repos/cython/cython/issues/3777/timeline",
    "title": "[ENH] Implement PEP-593: Annotated[T, x]",
    "updated_at": "2022-04-21T10:38:42Z",
    "url": "https://api.github.com/repos/cython/cython/issues/3777",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
        "events_url": "https://api.github.com/users/scoder/events{/privacy}",
        "followers_url": "https://api.github.com/users/scoder/followers",
        "following_url": "https://api.github.com/users/scoder/following{/other_user}",
        "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/scoder",
        "id": 491659,
        "login": "scoder",
        "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
        "organizations_url": "https://api.github.com/users/scoder/orgs",
        "received_events_url": "https://api.github.com/users/scoder/received_events",
        "repos_url": "https://api.github.com/users/scoder/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/scoder"
    }
}