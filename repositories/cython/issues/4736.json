{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "<!--\r\n**Note:**\r\n- DO NOT use the bug and feature tracker for general questions and support requests.\r\n  Use the `cython-users` mailing list instead.\r\n  It has a wider audience, so you get more and better answers.\r\n- Did you search for similar issues already?\r\n  Please do, it helps to save us precious time that we otherwise could not invest into development.\r\n- Did you try the latest master branch or pre-release?\r\n  It might already have what you want to report.\r\n  Also see the [Changelog](https://github.com/cython/cython/blob/master/CHANGES.rst) regarding recent changes.\r\n-->\r\n\r\n**Is your feature request related to a problem? Please describe.**\r\nThe wheel building process in Cython is currently clunky and is missing/not building wheels(other than the universal wheel, which I don't think is compiled) for any platforms other than Linux. Migrating to cibuildwheel will provide better release automation and build isolation and make building wheels easier(it's pretty easy to add new platforms using cibuildwheel as long as tests pass). \r\n\r\nIt also saves end users time, as although Cython still works, they still need to compile it upon install (which takes a fair bit of time).\r\n\r\n**Describe the solution you'd like**\r\n\r\nI would like to see Cython migrate to cibuildwheel for release 3.1(but the infra for cibuildwheel can be put in much earlier than that). Unfortunately, cibuildwheel seems to be pretty stringent about dropping Python versions, and they tend to drop them on the dot when they become EOL. This may be a problem for Cython, if they wish to support any Python minor version past EOL. Pinning cibuildwheel to an old version doesn't work, as cibuildwheel as the list of platforms/Python versions it supports is baked into a particular version, meaning that Cython will not be able to support any new platforms/Python versions that cibuildwheel adds support for if they pin.\r\n\r\nMy recommendation to solve this is to first do the work adding the infrastructure to build in cibuildwheel, but leave it dormant and continue using the current system to build wheels. After 3.0, which deprecates Python 2.7, there probably should be little reason to support EOL python versions. When Cython 3.1 releases, which drops 2.7 support, we can then activate the cibuildwheel infra.\r\n\r\n**Describe alternatives you've considered**\r\nmultibuild, but cibuildwheel is better as it has better support for building wheels for pre-release Pythons, and doesn't need to be vendored as a submodule.\r\n\r\n**Additional context**\r\n\r\nI am willing to put up a PR for this if this is welcome.\r\n\r\ncc @scoder @da-woods \r\n",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "COLLABORATOR",
            "body": "> It also saves end users time, as although Cython still works, they still need to compile it upon install (which takes a fair bit of time)\r\n\r\nJust a quick comment that's pretty tangential to your issue - you don't *have* to build Cython (the current argument to skip it is `pip install Cython --install-option=\"--no-cython-compile\"`). And for an isolated build where Cython's it probably makes sense not to.\r\n\r\n-----------------------------------\r\n\r\nI have to admit, I know almost nothing about the pros and cons of different build systems so I'm reluctant to comment too much. In an ideal world I guess Cython would work well with all of the major options and try not to force the user to use one in particular (obviously they may need one in particular to build Cython, but in an ideal world that wouldn't force them into a choice for their own project).\r\n\r\nBut given my ignorance I'm not sure I have much to add!",
            "created_at": "2022-04-15T08:41:36Z",
            "html_url": "https://github.com/cython/cython/issues/4736#issuecomment-1099968815",
            "id": 1099968815,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4736",
            "node_id": "IC_kwDOABDGAc5BkDEv",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1099968815/reactions"
            },
            "updated_at": "2022-04-15T08:41:36Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1099968815",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "This change is absolutely welcome. For older Python versions, we can leave the current build setup in place, and just discard it completely in Cython 3.1. That doesn't mean that we can't start building wheels with `cibuildwheel` right away, for the supported Python versions (and variants).\r\n\r\nIf they are really strict about EOLs, and we can't support, say Py3.6 and Py3.15 at the same time any more, then it should still be possible to use an older cibuildwheel version for older Pythons. In the worst case, we can duplicate parts of the CI build script for that. Duplication is good here, because it makes phasing out old versions easy by just removing the older duplicate again.",
            "created_at": "2022-04-15T08:56:52Z",
            "html_url": "https://github.com/cython/cython/issues/4736#issuecomment-1099977347",
            "id": 1099977347,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4736",
            "node_id": "IC_kwDOABDGAc5BkFKD",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1099977347/reactions"
            },
            "updated_at": "2022-04-15T08:56:52Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1099977347",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> you don't _have_ to build Cython (the current argument to skip it is `pip install Cython --install-option=\"--no-cython-compile\"`).\r\n\r\nWe also provide pure Python wheels for environments for which we don't have binary wheels on PyPI. Those install quickly and run only somewhat slower than the binary wheels. You probably won't notice any difference for smaller packages on a CI server, especially not on virtual build instances that suffer from high build time variation anyway.",
            "created_at": "2022-04-15T09:00:54Z",
            "html_url": "https://github.com/cython/cython/issues/4736#issuecomment-1099979441",
            "id": 1099979441,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4736",
            "node_id": "IC_kwDOABDGAc5BkFqx",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1099979441/reactions"
            },
            "updated_at": "2022-04-15T09:00:54Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1099979441",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> If they are really strict about EOLs, and we can't support, say Py3.6 and Py3.15 at the same time any more, then it should still be possible to use an older cibuildwheel version for older Pythons.\r\n\r\nThey drop things as soon as they are dropped by manylinux. However as you noted at this point it is still possible to keep using the old version as long as you need to support the platform. I am personally using cibuildwheel on my projects for a while now and I am super happy with it so far.",
            "created_at": "2022-04-18T16:32:59Z",
            "html_url": "https://github.com/cython/cython/issues/4736#issuecomment-1101547943",
            "id": 1101547943,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4736",
            "node_id": "IC_kwDOABDGAc5BqEmn",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1101547943/reactions"
            },
            "updated_at": "2022-04-18T16:33:21Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1101547943",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/44199644?v=4",
                "events_url": "https://api.github.com/users/maxbachmann/events{/privacy}",
                "followers_url": "https://api.github.com/users/maxbachmann/followers",
                "following_url": "https://api.github.com/users/maxbachmann/following{/other_user}",
                "gists_url": "https://api.github.com/users/maxbachmann/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/maxbachmann",
                "id": 44199644,
                "login": "maxbachmann",
                "node_id": "MDQ6VXNlcjQ0MTk5NjQ0",
                "organizations_url": "https://api.github.com/users/maxbachmann/orgs",
                "received_events_url": "https://api.github.com/users/maxbachmann/received_events",
                "repos_url": "https://api.github.com/users/maxbachmann/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/maxbachmann/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/maxbachmann/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/maxbachmann"
            }
        }
    ],
    "comments": 4,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/4736/comments",
    "created_at": "2022-04-15T03:24:19Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2022-04-15T03:24:19Z",
            "event": "mentioned",
            "id": 6438449247,
            "node_id": "MEE_lADOABDGAc5H1hqJzwAAAAF_wvBf",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/6438449247"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2022-04-15T03:24:19Z",
            "event": "subscribed",
            "id": 6438449249,
            "node_id": "SE_lADOABDGAc5H1hqJzwAAAAF_wvBh",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/6438449249"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2022-04-15T03:24:19Z",
            "event": "mentioned",
            "id": 6438449257,
            "node_id": "MEE_lADOABDGAc5H1hqJzwAAAAF_wvBp",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/6438449257"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2022-04-15T03:24:19Z",
            "event": "subscribed",
            "id": 6438449259,
            "node_id": "SE_lADOABDGAc5H1hqJzwAAAAF_wvBr",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/6438449259"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/4736/events",
    "html_url": "https://github.com/cython/cython/issues/4736",
    "id": 1205213833,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/4736/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOABDGAc5H1hqJ",
    "number": 4736,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/cython/cython/issues/4736/reactions"
    },
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "timeline_url": "https://api.github.com/repos/cython/cython/issues/4736/timeline",
    "title": "[ENH] Switch to cibuildwheel",
    "updated_at": "2022-04-18T16:33:21Z",
    "url": "https://api.github.com/repos/cython/cython/issues/4736",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/47963215?v=4",
        "events_url": "https://api.github.com/users/lithomas1/events{/privacy}",
        "followers_url": "https://api.github.com/users/lithomas1/followers",
        "following_url": "https://api.github.com/users/lithomas1/following{/other_user}",
        "gists_url": "https://api.github.com/users/lithomas1/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/lithomas1",
        "id": 47963215,
        "login": "lithomas1",
        "node_id": "MDQ6VXNlcjQ3OTYzMjE1",
        "organizations_url": "https://api.github.com/users/lithomas1/orgs",
        "received_events_url": "https://api.github.com/users/lithomas1/received_events",
        "repos_url": "https://api.github.com/users/lithomas1/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/lithomas1/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/lithomas1/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/lithomas1"
    }
}