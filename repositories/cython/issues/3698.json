{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "It would be nice to be able to compile Python to WebAssembly as AssemblyScript does https://github.com/AssemblyScript/assemblyscript",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "While nice, this isn't really something that needs to be built into Cython. It's more about setting up a build environment to pass the generated C file through, e.g. as part of [Pyodide](https://github.com/iodide-project/pyodide). I heard that a couple of people might be working on something like that already.",
            "created_at": "2020-06-20T21:25:01Z",
            "html_url": "https://github.com/cython/cython/issues/3698#issuecomment-647047061",
            "id": 647047061,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/3698",
            "node_id": "MDEyOklzc3VlQ29tbWVudDY0NzA0NzA2MQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/647047061/reactions"
            },
            "updated_at": "2020-06-20T21:25:01Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/647047061",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "author_association": "NONE",
            "body": "@scoder \r\n> \r\n> While nice, this isn't really something that needs to be built into Cython. It's more about setting up a build environment to pass the generated C file through, e.g. as part of [Pyodide](https://github.com/iodide-project/pyodide). I heard that a couple of people might be working on something like that already.\r\n\r\nBut Pyodide compiles whole infrastructure, it means that underneath it still interpreted\r\nBut I am taking about compiling strict sub-set of Python (typed Python) to WebAssembly as AssemblyScript did ...\r\nIf they can to do this stuff, we definitely also able to do the same ...",
            "created_at": "2020-06-20T21:38:11Z",
            "html_url": "https://github.com/cython/cython/issues/3698#issuecomment-647048251",
            "id": 647048251,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/3698",
            "node_id": "MDEyOklzc3VlQ29tbWVudDY0NzA0ODI1MQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/647048251/reactions"
            },
            "updated_at": "2020-06-20T21:38:11Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/647048251",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6311799?v=4",
                "events_url": "https://api.github.com/users/redradist/events{/privacy}",
                "followers_url": "https://api.github.com/users/redradist/followers",
                "following_url": "https://api.github.com/users/redradist/following{/other_user}",
                "gists_url": "https://api.github.com/users/redradist/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/redradist",
                "id": 6311799,
                "login": "redradist",
                "node_id": "MDQ6VXNlcjYzMTE3OTk=",
                "organizations_url": "https://api.github.com/users/redradist/orgs",
                "received_events_url": "https://api.github.com/users/redradist/received_events",
                "repos_url": "https://api.github.com/users/redradist/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/redradist/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/redradist/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/redradist"
            }
        },
        {
            "author_association": "NONE",
            "body": "You could try to Cythonize a simple cdef function, extract the generated C function and run emscripten on it to get WASM. As long as the generated C makes no references to the Python C API (or other external libraries outside of libc) it probably should work. I'm not sure it's possible to generate C functions that make no reference to the Python C API with Cython. Even if it is, the inability to use any Python objects will significantly limit what one can do with it.\r\n\r\nI imagine you would need something that converts Python code to C or C++ without requiring libpython/CPython in the end. Maybe pythran could do it, since it apparently has a [C++ run time](https://pythran.readthedocs.io/en/latest/DEVGUIDE.html#c-runtime), not sure, but in general it's a somewhat orthogonal issue to building for web assembly.",
            "created_at": "2020-06-24T12:40:43Z",
            "html_url": "https://github.com/cython/cython/issues/3698#issuecomment-648795264",
            "id": 648795264,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/3698",
            "node_id": "MDEyOklzc3VlQ29tbWVudDY0ODc5NTI2NA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/648795264/reactions"
            },
            "updated_at": "2020-06-24T12:40:43Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/648795264",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/630936?v=4",
                "events_url": "https://api.github.com/users/rth/events{/privacy}",
                "followers_url": "https://api.github.com/users/rth/followers",
                "following_url": "https://api.github.com/users/rth/following{/other_user}",
                "gists_url": "https://api.github.com/users/rth/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/rth",
                "id": 630936,
                "login": "rth",
                "node_id": "MDQ6VXNlcjYzMDkzNg==",
                "organizations_url": "https://api.github.com/users/rth/orgs",
                "received_events_url": "https://api.github.com/users/rth/received_events",
                "repos_url": "https://api.github.com/users/rth/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/rth/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rth/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/rth"
            }
        },
        {
            "author_association": "NONE",
            "body": "I see David Brochart tweet somewhat telling it's solved.\r\nIs there a missing detail ?\r\n\r\n![image](https://user-images.githubusercontent.com/4312421/222894478-4100d2e8-5cbd-4eee-9fc6-bc72c9ae9b50.png)\r\n",
            "created_at": "2023-03-04T10:24:36Z",
            "html_url": "https://github.com/cython/cython/issues/3698#issuecomment-1454690857",
            "id": 1454690857,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/3698",
            "node_id": "IC_kwDOABDGAc5WtNIp",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1454690857/reactions"
            },
            "updated_at": "2023-03-04T10:38:01Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1454690857",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/4312421?v=4",
                "events_url": "https://api.github.com/users/stonebig/events{/privacy}",
                "followers_url": "https://api.github.com/users/stonebig/followers",
                "following_url": "https://api.github.com/users/stonebig/following{/other_user}",
                "gists_url": "https://api.github.com/users/stonebig/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/stonebig",
                "id": 4312421,
                "login": "stonebig",
                "node_id": "MDQ6VXNlcjQzMTI0MjE=",
                "organizations_url": "https://api.github.com/users/stonebig/orgs",
                "received_events_url": "https://api.github.com/users/stonebig/received_events",
                "repos_url": "https://api.github.com/users/stonebig/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/stonebig/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/stonebig/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/stonebig"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "We haven't done anything specific to make it work, but also we didn't really expect to. Cython's job is largely to generate the C code and let other tools take it from there.\r\n\r\nWith that said, it might be good to have a bit of documentation on how to get it to work... I certainly don't know",
            "created_at": "2023-03-04T10:31:33Z",
            "html_url": "https://github.com/cython/cython/issues/3698#issuecomment-1454692830",
            "id": 1454692830,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/3698",
            "node_id": "IC_kwDOABDGAc5WtNne",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1454692830/reactions"
            },
            "updated_at": "2023-03-04T10:31:56Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1454692830",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        },
        {
            "author_association": "NONE",
            "body": "Yeah, you still need to compile the C code generated by Cython anyway as far as I know. Either via [`pyodide build`](https://pyodide.org/en/stable/development/building-and-testing-packages.html#build-the-wasm-emscripten-wheel) to create a wheel or via [emscripten-forge](https://github.com/emscripten-forge/recipes).   So as long as the package is setup to build extensions with cython ( via `pyproject.toml` or `setup.py`) it should just work with one of those build systems targeting WebAssembly. \r\n\r\n> But I am taking about compiling strict sub-set of Python (typed Python) to WebAssembly as AssemblyScript did\r\n\r\nIf you really don't want to use the Python interpreter, that would mean you cannot use the standard library, and Python packages since none of them would be in this strict subset of Python. So that would be of rather limited use. For instance, AssemblyScript re-implements the [JS standard library](https://github.com/AssemblyScript/assemblyscript/tree/main/std) , which would be a huge task for Python.  ",
            "created_at": "2023-03-04T10:59:54Z",
            "html_url": "https://github.com/cython/cython/issues/3698#issuecomment-1454699980",
            "id": 1454699980,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/3698",
            "node_id": "IC_kwDOABDGAc5WtPXM",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1454699980/reactions"
            },
            "updated_at": "2023-03-04T11:00:27Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1454699980",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/630936?v=4",
                "events_url": "https://api.github.com/users/rth/events{/privacy}",
                "followers_url": "https://api.github.com/users/rth/followers",
                "following_url": "https://api.github.com/users/rth/following{/other_user}",
                "gists_url": "https://api.github.com/users/rth/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/rth",
                "id": 630936,
                "login": "rth",
                "node_id": "MDQ6VXNlcjYzMDkzNg==",
                "organizations_url": "https://api.github.com/users/rth/orgs",
                "received_events_url": "https://api.github.com/users/rth/received_events",
                "repos_url": "https://api.github.com/users/rth/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/rth/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rth/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/rth"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> > But I am taking about compiling strict sub-set of Python (typed Python) to WebAssembly as AssemblyScript did\r\n> \r\n> If you really don't want to use the Python interpreter, that would mean you cannot use the standard library, and Python packages since none of them would be in this strict subset of Python.\r\n\r\nFor all other uses Cython absolutely requires the Python interpreter. (Ok, for some incredibly simple code you can get away without, but that's luck and not something we officially support). So I don't think we'd even consider trying to compile to interpreter-less web assembly",
            "created_at": "2023-03-04T11:38:30Z",
            "html_url": "https://github.com/cython/cython/issues/3698#issuecomment-1454709647",
            "id": 1454709647,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/3698",
            "node_id": "IC_kwDOABDGAc5WtRuP",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1454709647/reactions"
            },
            "updated_at": "2023-03-04T11:38:30Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1454709647",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        }
    ],
    "comments": 7,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/3698/comments",
    "created_at": "2020-06-20T21:13:52Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2020-06-20T21:38:11Z",
            "event": "mentioned",
            "id": 3465022764,
            "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzQ2NTAyMjc2NA==",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/3465022764"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2020-06-20T21:38:11Z",
            "event": "subscribed",
            "id": 3465022766,
            "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM0NjUwMjI3NjY=",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/3465022766"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/3698/events",
    "html_url": "https://github.com/cython/cython/issues/3698",
    "id": 642446527,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/3698/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU2NDI0NDY1Mjc=",
    "number": 3698,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 1,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 1,
        "url": "https://api.github.com/repos/cython/cython/issues/3698/reactions"
    },
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/cython/cython/issues/3698/timeline",
    "title": "[Feature Request] Support compilation to WebAssembly",
    "updated_at": "2023-03-04T11:38:30Z",
    "url": "https://api.github.com/repos/cython/cython/issues/3698",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/6311799?v=4",
        "events_url": "https://api.github.com/users/redradist/events{/privacy}",
        "followers_url": "https://api.github.com/users/redradist/followers",
        "following_url": "https://api.github.com/users/redradist/following{/other_user}",
        "gists_url": "https://api.github.com/users/redradist/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/redradist",
        "id": 6311799,
        "login": "redradist",
        "node_id": "MDQ6VXNlcjYzMTE3OTk=",
        "organizations_url": "https://api.github.com/users/redradist/orgs",
        "received_events_url": "https://api.github.com/users/redradist/received_events",
        "repos_url": "https://api.github.com/users/redradist/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/redradist/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/redradist/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/redradist"
    }
}