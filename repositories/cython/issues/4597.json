{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "System:\r\nopenSUSE Leap 15.2 linux 64-bit\r\nLinux localhost.localdomain 5.3.18-lp152.106-default #1 SMP Mon Nov 22 08:38:17 UTC 2021 (52078fe) x86_64 x86_64 x86_64 GNU/Linux\r\ngcc version 7.5.0\r\nPython 2.7.18\r\nCython version 3.0.0a10\r\n\r\nThe const qualifier is overriden for a pointer\r\n```\r\n63216:[sagelib-9.4] build/cythonized/sage/calculus/integration.c:6546:22: warning: assignment discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]\r\n```\r\n\r\nObject code:\r\n```c\r\n    /* \"sage/calculus/integration.pyx\":645\r\n *         # Initialize the random number generator\r\n *         gsl_rng_env_setup()\r\n *         type_rng = gsl_rng_default             # <<<<<<<<<<<<<<\r\n *         _rng = gsl_rng_alloc(type_rng)\r\n * \r\n */\r\n    __pyx_v_type_rng = (gsl_rng_type *) gsl_rng_default;\r\n```\r\nApparently the `gsl_rng_type *` has a `const` qualifier, but the assignment statement is discarding this qualifier.\r\n\r\nQuestion:\r\n\r\nDo we simply turn off the warning flag and ignore this warning?\r\n-Wdiscarded-qualifiers is the compiler flag.\r\n",
    "closed_at": "2022-01-27T19:56:41Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "How is `gsl_rng_type` declared in Sage?  Does Cython know that it has a `const` qualifier?",
            "created_at": "2022-01-27T19:28:32Z",
            "html_url": "https://github.com/cython/cython/issues/4597#issuecomment-1023566707",
            "id": 1023566707,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4597",
            "node_id": "IC_kwDOABDGAc49AmNz",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1023566707/reactions"
            },
            "updated_at": "2022-01-27T19:28:32Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1023566707",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "author_association": "COLLABORATOR",
            "body": "https://github.com/sagemath/sage/blob/a89f81d7783df2d4e4a187bf209e94d128301f83/src/sage/libs/gsl/rng.pxd#L70\r\n\r\n`  cdef gsl_rng_type *gsl_rng_default`\r\n\r\nI'm not sure why Cython is inserting the cast here. But it looks like Cython doesn't know about the const qualifier",
            "created_at": "2022-01-27T19:36:07Z",
            "html_url": "https://github.com/cython/cython/issues/4597#issuecomment-1023572402",
            "id": 1023572402,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4597",
            "node_id": "IC_kwDOABDGAc49Anmy",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1023572402/reactions"
            },
            "updated_at": "2022-01-27T19:36:07Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1023572402",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Apparently, the declaration is a dummy:\r\nhttps://github.com/sagemath/sage/blob/a89f81d7783df2d4e4a187bf209e94d128301f83/src/sage/libs/gsl/types.pxd#L125-L12\r\n```cython\r\ncdef extern from \"gsl/gsl_rng.h\":\r\n    ctypedef struct gsl_rng_type\r\n    ctypedef struct gsl_rng\r\n```\r\nCython would probably generate better code if the declaration was closer to what the C compiler sees.",
            "created_at": "2022-01-27T19:55:02Z",
            "html_url": "https://github.com/cython/cython/issues/4597#issuecomment-1023586212",
            "id": 1023586212,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4597",
            "node_id": "IC_kwDOABDGAc49Aq-k",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1023586212/reactions"
            },
            "updated_at": "2022-01-27T19:55:02Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1023586212",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "This isn't necessarily Sage's fault, since this used to be a common way to hide implementation details from Cython. But it needs fixing in Sage.",
            "created_at": "2022-01-27T19:56:41Z",
            "html_url": "https://github.com/cython/cython/issues/4597#issuecomment-1023587388",
            "id": 1023587388,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4597",
            "node_id": "IC_kwDOABDGAc49ArQ8",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1023587388/reactions"
            },
            "updated_at": "2022-01-27T19:56:41Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1023587388",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        }
    ],
    "comments": 4,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/4597/comments",
    "created_at": "2022-01-27T19:00:51Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2022-01-27T19:56:39Z",
            "event": "labeled",
            "id": 5966385461,
            "label": {
                "color": "fef2c0",
                "name": "support question"
            },
            "node_id": "LE_lADOABDGAc5Cjn75zwAAAAFjn9E1",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/5966385461"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2022-01-27T19:56:41Z",
            "event": "closed",
            "id": 5966385661,
            "node_id": "CE_lADOABDGAc5Cjn75zwAAAAFjn9H9",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/5966385661"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/4597/events",
    "html_url": "https://github.com/cython/cython/issues/4597",
    "id": 1116634873,
    "labels": [
        {
            "color": "fef2c0",
            "default": false,
            "description": null,
            "id": 414800623,
            "name": "support question",
            "node_id": "MDU6TGFiZWw0MTQ4MDA2MjM=",
            "url": "https://api.github.com/repos/cython/cython/labels/support%20question"
        }
    ],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/4597/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOABDGAc5Cjn75",
    "number": 4597,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/cython/cython/issues/4597/reactions"
    },
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "closed",
    "timeline_url": "https://api.github.com/repos/cython/cython/issues/4597/timeline",
    "title": "[BUG] Const cast of pointer type overridden",
    "updated_at": "2022-01-27T19:56:41Z",
    "url": "https://api.github.com/repos/cython/cython/issues/4597",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/73915626?v=4",
        "events_url": "https://api.github.com/users/website-reader/events{/privacy}",
        "followers_url": "https://api.github.com/users/website-reader/followers",
        "following_url": "https://api.github.com/users/website-reader/following{/other_user}",
        "gists_url": "https://api.github.com/users/website-reader/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/website-reader",
        "id": 73915626,
        "login": "website-reader",
        "node_id": "MDQ6VXNlcjczOTE1NjI2",
        "organizations_url": "https://api.github.com/users/website-reader/orgs",
        "received_events_url": "https://api.github.com/users/website-reader/received_events",
        "repos_url": "https://api.github.com/users/website-reader/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/website-reader/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/website-reader/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/website-reader"
    }
}