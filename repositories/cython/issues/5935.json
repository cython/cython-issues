{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Is your feature request related to a problem? Please describe.\n\nIt would be super helpful to be able to print a stack trace like what is done in Python in traceback.print_stack() in Cython without having to raise an actual exception that halts the operation with a real Exception being raised.\r\n\r\nhttps://github.com/cython/cython/issues/1755\r\n\r\nNote:\r\n```\r\nimport traceback\r\ntry:\r\n  raise Exception()\r\nexcept:\r\n  traceback.print_exc()\r\n```\r\ndoes not work. It only prints the current line, not the stack trace.\r\n\r\nCould someone explain if this is not feasible why it isn't?\r\n\r\nCouldn't you just use the same insert fake stack traces code that's called when an exception is raised also when an exception isn't raised but the developer has used some special Cython keyword to denote the simulation of an Exception raised?\n\n### Describe the solution you'd like.\n\n_No response_\n\n### Describe alternatives you've considered.\n\n_No response_\n\n### Additional context\n\n_No response_",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "The issue here is that Cython generates the traceback on demand as the exception propagates upwards. So at the point you catch it the only bit of stack trace that exists is for the line where the exception is thrown.\r\n\r\nThe main reason for that is to reduce overhead in the common (non-exception) case - we really don't want to be spending time tracking the call stack.\r\n\r\nIf we were to do this, it would probably have to be a compiler directive to turn it on so you'd only be able to get the full trace for functions where this is manually enabled.\r\n\r\nI think it'd actually end up being a reasonable performance cost in a lot of cases so we wouldn't want to enable it by default.",
            "created_at": "2024-01-01T20:35:38Z",
            "html_url": "https://github.com/cython/cython/issues/5935#issuecomment-1873471172",
            "id": 1873471172,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/5935",
            "node_id": "IC_kwDOABDGAc5vqubE",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1873471172/reactions"
            },
            "updated_at": "2024-01-01T20:35:38Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1873471172",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        }
    ],
    "comments": 1,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/5935/comments",
    "created_at": "2024-01-01T16:45:37Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/827060?v=4",
                "events_url": "https://api.github.com/users/matusvalo/events{/privacy}",
                "followers_url": "https://api.github.com/users/matusvalo/followers",
                "following_url": "https://api.github.com/users/matusvalo/following{/other_user}",
                "gists_url": "https://api.github.com/users/matusvalo/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/matusvalo",
                "id": 827060,
                "login": "matusvalo",
                "node_id": "MDQ6VXNlcjgyNzA2MA==",
                "organizations_url": "https://api.github.com/users/matusvalo/orgs",
                "received_events_url": "https://api.github.com/users/matusvalo/received_events",
                "repos_url": "https://api.github.com/users/matusvalo/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/matusvalo/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/matusvalo/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/matusvalo"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2024-01-01T19:55:01Z",
            "event": "labeled",
            "id": 11365986975,
            "label": {
                "color": "c2e0c6",
                "name": "feature"
            },
            "node_id": "LE_lADOABDGAc564miczwAAAAKldzKf",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/11365986975"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/5935/events",
    "html_url": "https://github.com/cython/cython/issues/5935",
    "id": 2061658268,
    "labels": [
        {
            "color": "c2e0c6",
            "default": false,
            "description": null,
            "id": 414805463,
            "name": "feature",
            "node_id": "MDU6TGFiZWw0MTQ4MDU0NjM=",
            "url": "https://api.github.com/repos/cython/cython/labels/feature"
        }
    ],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/5935/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOABDGAc564mic",
    "number": 5935,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/cython/cython/issues/5935/reactions"
    },
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/cython/cython/issues/5935/timeline",
    "title": "[ENH] Debugging - \"raise\" exception without actually raising an exception (print stack)",
    "updated_at": "2024-01-01T20:35:39Z",
    "url": "https://api.github.com/repos/cython/cython/issues/5935",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/68166790?v=4",
        "events_url": "https://api.github.com/users/Source61/events{/privacy}",
        "followers_url": "https://api.github.com/users/Source61/followers",
        "following_url": "https://api.github.com/users/Source61/following{/other_user}",
        "gists_url": "https://api.github.com/users/Source61/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/Source61",
        "id": 68166790,
        "login": "Source61",
        "node_id": "MDQ6VXNlcjY4MTY2Nzkw",
        "organizations_url": "https://api.github.com/users/Source61/orgs",
        "received_events_url": "https://api.github.com/users/Source61/received_events",
        "repos_url": "https://api.github.com/users/Source61/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/Source61/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Source61/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/Source61"
    }
}