{
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "I'm attempting to package Cython for [AdÃ©lie Linux](https://www.adelielinux.org/), which is a Linux distribution that uses the musl libc.  While trying to run the test suite, I'm seeing the following error on ppc64:\r\n\r\n```\r\nUnable to find pgen, not compiling formal grammar.\r\nrunning test\r\nrunning egg_info\r\ncreating Cython.egg-info\r\nwriting Cython.egg-info/PKG-INFO\r\nwriting dependency_links to Cython.egg-info/dependency_links.txt\r\nwriting entry points to Cython.egg-info/entry_points.txt\r\nwriting top-level names to Cython.egg-info/top_level.txt\r\nwriting manifest file 'Cython.egg-info/SOURCES.txt'\r\nreading manifest file 'Cython.egg-info/SOURCES.txt'\r\nreading manifest template 'MANIFEST.in'\r\nwarning: no files found matching 'Doc/*'\r\nwarning: no files found matching '*.pyx' under directory 'Cython/Debugger/Tests'\r\nwarning: no files found matching '*.pxd' under directory 'Cython/Debugger/Tests'\r\nwarning: no files found matching '*.pxd' under directory 'Cython/Utility'\r\nwarning: no files found matching 'pyximport/README'\r\nwriting manifest file 'Cython.egg-info/SOURCES.txt'\r\nrunning build_ext\r\ncopying build/lib.linux-ppc64-3.6/Cython/Plex/Scanners.cpython-36m-powerpc64-linux-gnu.so -> Cython/Plex\r\ncopying build/lib.linux-ppc64-3.6/Cython/Plex/Actions.cpython-36m-powerpc64-linux-gnu.so -> Cython/Plex\r\ncopying build/lib.linux-ppc64-3.6/Cython/Compiler/Scanning.cpython-36m-powerpc64-linux-gnu.so -> Cython/Compiler\r\ncopying build/lib.linux-ppc64-3.6/Cython/Compiler/Visitor.cpython-36m-powerpc64-linux-gnu.so -> Cython/Compiler\r\ncopying build/lib.linux-ppc64-3.6/Cython/Compiler/FlowControl.cpython-36m-powerpc64-linux-gnu.so -> Cython/Compiler\r\ncopying build/lib.linux-ppc64-3.6/Cython/Runtime/refnanny.cpython-36m-powerpc64-linux-gnu.so -> Cython/Runtime\r\ncopying build/lib.linux-ppc64-3.6/Cython/Compiler/FusedNode.cpython-36m-powerpc64-linux-gnu.so -> Cython/Compiler\r\ncopying build/lib.linux-ppc64-3.6/Cython/Tempita/_tempita.cpython-36m-powerpc64-linux-gnu.so -> Cython/Tempita\r\nTraceback (most recent call last):\r\n  File \"setup.py\", line 285, in <module>\r\n    **setup_args\r\n  File \"/usr/lib/python3.6/site-packages/setuptools/__init__.py\", line 143, in setup\r\n    return distutils.core.setup(**attrs)\r\n  File \"/usr/lib/python3.6/distutils/core.py\", line 148, in setup\r\n    dist.run_commands()\r\n  File \"/usr/lib/python3.6/distutils/dist.py\", line 955, in run_commands\r\n    self.run_command(cmd)\r\n  File \"/usr/lib/python3.6/distutils/dist.py\", line 974, in run_command\r\n    cmd_obj.run()\r\n  File \"/usr/lib/python3.6/site-packages/setuptools/command/test.py\", line 228, in run\r\n    self.run_tests()\r\n  File \"/usr/lib/python3.6/site-packages/setuptools/command/test.py\", line 250, in run_tests\r\n    exit=False,\r\n  File \"/usr/lib/python3.6/unittest/main.py\", line 94, in __init__\r\n    self.parseArgs(argv)\r\n  File \"/usr/lib/python3.6/unittest/main.py\", line 118, in parseArgs\r\n    self._do_discovery(argv[2:])\r\n  File \"/usr/lib/python3.6/unittest/main.py\", line 229, in _do_discovery\r\n    self.test = loader.discover(self.start, self.pattern, self.top)\r\n  File \"/usr/lib/python3.6/unittest/loader.py\", line 341, in discover\r\n    tests = list(self._find_tests(start_dir, pattern))\r\n  File \"/usr/lib/python3.6/unittest/loader.py\", line 398, in _find_tests\r\n    full_path, pattern, namespace)\r\n  File \"/usr/lib/python3.6/unittest/loader.py\", line 475, in _find_test_path\r\n    tests = self.loadTestsFromModule(package, pattern=pattern)\r\n  File \"/usr/lib/python3.6/site-packages/setuptools/command/test.py\", line 54, in loadTestsFromModule\r\n    tests.append(self.loadTestsFromName(submodule))\r\n  File \"/usr/lib/python3.6/unittest/loader.py\", line 190, in loadTestsFromName\r\n    return self.loadTestsFromModule(obj)\r\n  File \"/usr/lib/python3.6/site-packages/setuptools/command/test.py\", line 54, in loadTestsFromModule\r\n    tests.append(self.loadTestsFromName(submodule))\r\n  File \"/usr/lib/python3.6/unittest/loader.py\", line 153, in loadTestsFromName\r\n    module = __import__(module_name)\r\n  File \"Cython/Compiler/FlowControl.py\", line 1, in init Cython.Compiler.FlowControl\r\n    from __future__ import absolute_import\r\nValueError: Cython.Compiler.Visitor.TreeVisitor size changed, may indicate binary incompatibility. Expected 40 from C header, got 32 from PyObject\r\n```\r\n\r\nAnd a very similar error on ppc:\r\n\r\n```\r\nUnable to find pgen, not compiling formal grammar.\r\nrunning test\r\nrunning egg_info\r\ncreating Cython.egg-info\r\nwriting Cython.egg-info/PKG-INFO\r\nwriting dependency_links to Cython.egg-info/dependency_links.txt\r\nwriting entry points to Cython.egg-info/entry_points.txt\r\nwriting top-level names to Cython.egg-info/top_level.txt\r\nwriting manifest file 'Cython.egg-info/SOURCES.txt'\r\nreading manifest file 'Cython.egg-info/SOURCES.txt'\r\nreading manifest template 'MANIFEST.in'\r\nwarning: no files found matching 'Doc/*'\r\nwarning: no files found matching '*.pyx' under directory 'Cython/Debugger/Tests'\r\nwarning: no files found matching '*.pxd' under directory 'Cython/Debugger/Tests'\r\nwarning: no files found matching '*.pxd' under directory 'Cython/Utility'\r\nwarning: no files found matching 'pyximport/README'\r\nwriting manifest file 'Cython.egg-info/SOURCES.txt'\r\nrunning build_ext\r\ncopying build/lib.linux-ppc-3.6/Cython/Plex/Scanners.cpython-36m-powerpc-linux-gnu.so -> Cython/Plex\r\ncopying build/lib.linux-ppc-3.6/Cython/Plex/Actions.cpython-36m-powerpc-linux-gnu.so -> Cython/Plex\r\ncopying build/lib.linux-ppc-3.6/Cython/Compiler/Scanning.cpython-36m-powerpc-linux-gnu.so -> Cython/Compiler\r\ncopying build/lib.linux-ppc-3.6/Cython/Compiler/Visitor.cpython-36m-powerpc-linux-gnu.so -> Cython/Compiler\r\ncopying build/lib.linux-ppc-3.6/Cython/Compiler/FlowControl.cpython-36m-powerpc-linux-gnu.so -> Cython/Compiler\r\ncopying build/lib.linux-ppc-3.6/Cython/Runtime/refnanny.cpython-36m-powerpc-linux-gnu.so -> Cython/Runtime\r\ncopying build/lib.linux-ppc-3.6/Cython/Compiler/FusedNode.cpython-36m-powerpc-linux-gnu.so -> Cython/Compiler\r\ncopying build/lib.linux-ppc-3.6/Cython/Tempita/_tempita.cpython-36m-powerpc-linux-gnu.so -> Cython/Tempita\r\nTraceback (most recent call last):\r\n  File \"setup.py\", line 285, in <module>\r\n    **setup_args\r\n  File \"/usr/lib/python3.6/site-packages/setuptools/__init__.py\", line 143, in setup\r\n    return distutils.core.setup(**attrs)\r\n  File \"/usr/lib/python3.6/distutils/core.py\", line 148, in setup\r\n    dist.run_commands()\r\n  File \"/usr/lib/python3.6/distutils/dist.py\", line 955, in run_commands\r\n    self.run_command(cmd)\r\n  File \"/usr/lib/python3.6/distutils/dist.py\", line 974, in run_command\r\n    cmd_obj.run()\r\n  File \"/usr/lib/python3.6/site-packages/setuptools/command/test.py\", line 228, in run\r\n    self.run_tests()\r\n  File \"/usr/lib/python3.6/site-packages/setuptools/command/test.py\", line 250, in run_tests\r\n    exit=False,\r\n  File \"/usr/lib/python3.6/unittest/main.py\", line 94, in __init__\r\n    self.parseArgs(argv)\r\n  File \"/usr/lib/python3.6/unittest/main.py\", line 118, in parseArgs\r\n    self._do_discovery(argv[2:])\r\n  File \"/usr/lib/python3.6/unittest/main.py\", line 229, in _do_discovery\r\n    self.test = loader.discover(self.start, self.pattern, self.top)\r\n  File \"/usr/lib/python3.6/unittest/loader.py\", line 341, in discover\r\n    tests = list(self._find_tests(start_dir, pattern))\r\n  File \"/usr/lib/python3.6/unittest/loader.py\", line 398, in _find_tests\r\n    full_path, pattern, namespace)\r\n  File \"/usr/lib/python3.6/unittest/loader.py\", line 475, in _find_test_path\r\n    tests = self.loadTestsFromModule(package, pattern=pattern)\r\n  File \"/usr/lib/python3.6/site-packages/setuptools/command/test.py\", line 54, in loadTestsFromModule\r\n    tests.append(self.loadTestsFromName(submodule))\r\n  File \"/usr/lib/python3.6/unittest/loader.py\", line 190, in loadTestsFromName\r\n    return self.loadTestsFromModule(obj)\r\n  File \"/usr/lib/python3.6/site-packages/setuptools/command/test.py\", line 54, in loadTestsFromModule\r\n    tests.append(self.loadTestsFromName(submodule))\r\n  File \"/usr/lib/python3.6/unittest/loader.py\", line 153, in loadTestsFromName\r\n    module = __import__(module_name)\r\n  File \"Cython/Compiler/FlowControl.py\", line 1, in init Cython.Compiler.FlowControl\r\n    from __future__ import absolute_import\r\nValueError: Cython.Compiler.Visitor.TreeVisitor size changed, may indicate binary incompatibility. Expected 20 from C header, got 16 from PyObject\r\n```",
    "closed_at": null,
    "comment_data": [],
    "comments": 0,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/3045/comments",
    "created_at": "2019-07-17T15:48:05Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars3.githubusercontent.com/u/303838?v=4",
                "events_url": "https://api.github.com/users/awilfox/events{/privacy}",
                "followers_url": "https://api.github.com/users/awilfox/followers",
                "following_url": "https://api.github.com/users/awilfox/following{/other_user}",
                "gists_url": "https://api.github.com/users/awilfox/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/awilfox",
                "id": 303838,
                "login": "awilfox",
                "node_id": "MDQ6VXNlcjMwMzgzOA==",
                "organizations_url": "https://api.github.com/users/awilfox/orgs",
                "received_events_url": "https://api.github.com/users/awilfox/received_events",
                "repos_url": "https://api.github.com/users/awilfox/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/awilfox/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/awilfox/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/awilfox"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2019-07-17T15:48:48Z",
            "event": "renamed",
            "id": 2489936139,
            "node_id": "MDE3OlJlbmFtZWRUaXRsZUV2ZW50MjQ4OTkzNjEzOQ==",
            "rename": {
                "from": "Cython 0.29.12: ValueError during test suite on Python 3.6 and musl",
                "to": "Cython 0.29.12: ValueError running test suite on Python 3.6 and musl"
            },
            "url": "https://api.github.com/repos/cython/cython/issues/events/2489936139"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/3045/events",
    "html_url": "https://github.com/cython/cython/issues/3045",
    "id": 469298720,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/3045/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU0NjkyOTg3MjA=",
    "number": 3045,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "title": "Cython 0.29.12: ValueError running test suite on Python 3.6 and musl",
    "updated_at": "2019-07-17T15:48:48Z",
    "url": "https://api.github.com/repos/cython/cython/issues/3045",
    "user": {
        "avatar_url": "https://avatars3.githubusercontent.com/u/303838?v=4",
        "events_url": "https://api.github.com/users/awilfox/events{/privacy}",
        "followers_url": "https://api.github.com/users/awilfox/followers",
        "following_url": "https://api.github.com/users/awilfox/following{/other_user}",
        "gists_url": "https://api.github.com/users/awilfox/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/awilfox",
        "id": 303838,
        "login": "awilfox",
        "node_id": "MDQ6VXNlcjMwMzgzOA==",
        "organizations_url": "https://api.github.com/users/awilfox/orgs",
        "received_events_url": "https://api.github.com/users/awilfox/received_events",
        "repos_url": "https://api.github.com/users/awilfox/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/awilfox/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/awilfox/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/awilfox"
    }
}