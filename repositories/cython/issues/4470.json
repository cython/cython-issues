{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "<!--\r\n**Note:**\r\n- Do not use the bug and feature tracker for support requests. Use the `cython-users` mailing list instead.\r\n- Did you search for similar issues already? Please do, it helps to save us precious time that we otherwise could not invest into development.\r\n- Did you try the latest master branch or pre-release? It might already have what you want to report. Also see the [Changelog](https://github.com/cython/cython/blob/master/CHANGES.rst) regarding recent changes.\r\n-->\r\nHi Folks.\r\nJust got cython working on Windows10 using MinGW-w64 Compiler from WinLibs. There were a couple of patches I needed to make to distutils to get things to work. I thought you may want to know about this.\r\n\r\n[aside]. On a philosophical note, I am perplexed that the larger Python community, who is so supportive of open source, resort to using MSVC for building their Windows targets. I'll get off my soapbox now.\r\n\r\nAs you will see below, my patches are a Q&D hack to get things to work without a deeper knowledge and philosophy behind setuptools or cython projects. \r\n\r\nSee attached, as it gets formatted incorrectly by this entry form\r\n[abc.txt](https://github.com/cython/cython/files/7574276/abc.txt)\r\n.\r\n",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Sorry - didn't mean to close. Misclicked on mobile!\r\n\r\nI'll mark this as documentation - we probably should have some good documentation on how to use MingW on Windows (although I'm still more comfortable recommending MSVC as the supported option). I believe it's possible to end up in trouble if you mix up incompatible bits of the C standard library (e.g. file pointers).\r\n\r\nUnfortunately I don't think any of the core devs use Cython on Windows much do we're not really in a position to recommend \"the right way\" ourselves.",
            "created_at": "2021-11-20T09:41:53Z",
            "html_url": "https://github.com/cython/cython/issues/4470#issuecomment-974623619",
            "id": 974623619,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4470",
            "node_id": "IC_kwDOABDGAc46F5OD",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/974623619/reactions"
            },
            "updated_at": "2021-11-20T09:43:38Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/974623619",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Similarly, I'll add \"help wanted\" to say \"if anyone who has up-to-date information about how to setup MingW, then please do submit a PR to document it\"\r\n\r\n---------------\r\n\r\n> [aside]. On a philosophical note, I am perplexed that the larger Python community, who is so supportive of open source, resort to using MSVC for building their Windows targets. I'll get off my soapbox now.\r\n\r\nDon't think this is entirely right. I know Numpy/Scipy did spend reasonable amount of effort dealing with these issues (especially with Fortran) to try to get a toolchain that they were happy with. But it's a difficult problem because it's hard to mix and match compilers on Windows.",
            "created_at": "2021-11-20T09:54:11Z",
            "html_url": "https://github.com/cython/cython/issues/4470#issuecomment-974625061",
            "id": 974625061,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4470",
            "node_id": "IC_kwDOABDGAc46F5kl",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/974625061/reactions"
            },
            "updated_at": "2021-11-20T09:54:11Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/974625061",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Related to #3405.\r\n\r\nI think the problem has already been solved now, the only need is documentation.\r\n\r\nIn the past few years, it was really painful to build C extensions with [MinGW-w64](https://www.mingw-w64.org/) on Windows because of distutils, a couple of patches were needed for distutils which need to be applied manually. But recently, with distutils deprecated, setuptools started maintaining it, and things were getting better. Until now, I think mostly everything has been fixed in distutils, no patch is needed for distutils. The last patch we need is for CPython itself, which has been merged into master (https://github.com/python/cpython/pull/100137) and will appear in python 3.12.\r\n\r\nSo, to build cython extensions with mingw-w64, there are some steps:\r\n\r\n1. Setup a mingw-w64 toolchain. [Msys2](https://www.msys2.org/) is the most recommanded, just follow its guide on the website, and gcc will be installed easily. The documentation is also helpful. If you are running Windows 7 or something msys2 doesn't support, [w64devkit](https://github.com/skeeto/w64devkit) and [llvm-mingw](https://github.com/mstorsjo/llvm-mingw) mentioned in [the downloads page](https://www.mingw-w64.org/downloads/) are worth trying.\r\n2. If you want to build extensions for Python 3.11 or earlier on 64bit platform, [this patch](https://github.com/python/cpython/commit/158b8a07212cea6066afe8bb91f1cd542d922dba.patch) needs to be applied to `/path/to/your/Python311/include/pyconfig.h` manually.\r\n3. Make sure your setuptools is not too old. [setuptools >= 60.0.0](https://setuptools.pypa.io/en/latest/history.html#v60-0-0) is recommanded, because since this version setuptools started to use its own copy of distutils by default, which is important to us. Earlier versions may also work, but I didn't test them.\r\n4. Tell setuptools to use mingw-w64 instead of MSVC. The simplest way is passing a `--compiler=mingw32` argument to `python setup.py` commandline. Or you can [save it into a config file](https://setuptools.pypa.io/en/latest/deprecated/commands.html#saveopts-save-used-options-to-a-configuration-file): `python setup.py build --compiler=mingw32 saveopts --user-config`, this command will write the following content into `C:/Users/<your_user_name>/pydistutils.cfg`:\r\n\r\n``` ini\r\n[build]\r\ncompiler=mingw32\r\n```\r\n\r\nAnd then, everything will be fine.\r\n\r\nSee also: https://setuptools.pypa.io/en/latest/deprecated/distutils-legacy.html",
            "created_at": "2022-12-21T15:34:35Z",
            "html_url": "https://github.com/cython/cython/issues/4470#issuecomment-1361506709",
            "id": 1361506709,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4470",
            "node_id": "IC_kwDOABDGAc5RJvGV",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1361506709/reactions"
            },
            "updated_at": "2022-12-21T15:34:35Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1361506709",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/53637421?v=4",
                "events_url": "https://api.github.com/users/GalaxySnail/events{/privacy}",
                "followers_url": "https://api.github.com/users/GalaxySnail/followers",
                "following_url": "https://api.github.com/users/GalaxySnail/following{/other_user}",
                "gists_url": "https://api.github.com/users/GalaxySnail/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/GalaxySnail",
                "id": 53637421,
                "login": "GalaxySnail",
                "node_id": "MDQ6VXNlcjUzNjM3NDIx",
                "organizations_url": "https://api.github.com/users/GalaxySnail/orgs",
                "received_events_url": "https://api.github.com/users/GalaxySnail/received_events",
                "repos_url": "https://api.github.com/users/GalaxySnail/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/GalaxySnail/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/GalaxySnail/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/GalaxySnail"
            }
        }
    ],
    "comments": 3,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/4470/comments",
    "created_at": "2021-11-20T09:36:13Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2021-11-20T09:38:51Z",
            "event": "closed",
            "id": 5648756079,
            "node_id": "CE_lADOABDGAc4_IKqGzwAAAAFQsS1v",
            "performed_via_github_app": null,
            "state_reason": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/5648756079"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2021-11-20T09:39:05Z",
            "event": "reopened",
            "id": 5648756234,
            "node_id": "REE_lADOABDGAc4_IKqGzwAAAAFQsS4K",
            "performed_via_github_app": null,
            "state_reason": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/5648756234"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2021-11-20T09:42:13Z",
            "event": "labeled",
            "id": 5648758406,
            "label": {
                "color": "444444",
                "name": "Documentation"
            },
            "node_id": "LE_lADOABDGAc4_IKqGzwAAAAFQsTaG",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/5648758406"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2021-11-20T09:50:52Z",
            "event": "labeled",
            "id": 5648764777,
            "label": {
                "color": "0e8a16",
                "name": "help wanted"
            },
            "node_id": "LE_lADOABDGAc4_IKqGzwAAAAFQsU9p",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/5648764777"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2021-12-17T14:55:09Z",
            "event": "renamed",
            "id": 5785116826,
            "node_id": "RTE_lADOABDGAc4_IKqGzwAAAAFY0eCa",
            "performed_via_github_app": null,
            "rename": {
                "from": "[ENH] ",
                "to": "[ENH] Make MinGW work on Windows"
            },
            "url": "https://api.github.com/repos/cython/cython/issues/events/5785116826"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/4470/events",
    "html_url": "https://github.com/cython/cython/issues/4470",
    "id": 1059105414,
    "labels": [
        {
            "color": "0e8a16",
            "default": true,
            "description": null,
            "id": 414800879,
            "name": "help wanted",
            "node_id": "MDU6TGFiZWw0MTQ4MDA4Nzk=",
            "url": "https://api.github.com/repos/cython/cython/labels/help%20wanted"
        },
        {
            "color": "444444",
            "default": false,
            "description": null,
            "id": 425561345,
            "name": "Documentation",
            "node_id": "MDU6TGFiZWw0MjU1NjEzNDU=",
            "url": "https://api.github.com/repos/cython/cython/labels/Documentation"
        }
    ],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/4470/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOABDGAc4_IKqG",
    "number": 4470,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 1,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 1,
        "total_count": 2,
        "url": "https://api.github.com/repos/cython/cython/issues/4470/reactions"
    },
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/cython/cython/issues/4470/timeline",
    "title": "[ENH] Make MinGW work on Windows",
    "updated_at": "2022-12-21T15:34:35Z",
    "url": "https://api.github.com/repos/cython/cython/issues/4470",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/88326588?v=4",
        "events_url": "https://api.github.com/users/jon-marks/events{/privacy}",
        "followers_url": "https://api.github.com/users/jon-marks/followers",
        "following_url": "https://api.github.com/users/jon-marks/following{/other_user}",
        "gists_url": "https://api.github.com/users/jon-marks/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/jon-marks",
        "id": 88326588,
        "login": "jon-marks",
        "node_id": "MDQ6VXNlcjg4MzI2NTg4",
        "organizations_url": "https://api.github.com/users/jon-marks/orgs",
        "received_events_url": "https://api.github.com/users/jon-marks/received_events",
        "repos_url": "https://api.github.com/users/jon-marks/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/jon-marks/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jon-marks/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/jon-marks"
    }
}