{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "<!--\r\n**PLEASE READ THIS FIRST:**\r\n- Do not use the bug and feature tracker for support requests. Use the `cython-users` mailing list instead.\r\n- Did you search for similar issues already? Please do, it helps to save us precious time that we otherwise could not invest into development.\r\n- Did you try the latest master branch or pre-release? It might already have what you want to report. Also see the [Changelog](https://github.com/cython/cython/blob/master/CHANGES.rst) regarding recent changes.\r\n-->\r\n\r\nIf we will declare any variable with type `cython.uchar[:]`/`unsigned char[:]` then the first line will be annotated with an assignment of the empty dict to the `\"__test__\"`  (I know that it's happening out of the box,  but it should not be annotated to any line):\r\n\r\n![image](https://user-images.githubusercontent.com/52697657/136665963-d9e42859-3fbd-4393-95bb-93c03a4661f4.png)\r\n\r\n```cython\r\n# ham\r\n\r\ndef foo(unsigned char[:] d):\r\n    pass\r\n```\r\n\r\nand the same happens to the pure python mode, even if the variable is global:\r\n\r\n![image](https://user-images.githubusercontent.com/52697657/136666040-7f5e3695-69d6-4346-ab44-a7ea22c815ab.png)\r\n\r\n```python\r\n# ham\r\n\r\nimport cython\r\ncython.declare(data=cython.uchar[:])\r\n```\r\n\r\noutput:\r\n\r\n```c\r\n  __pyx_t_1 = __Pyx_PyDict_NewPresized(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 1, __pyx_L1_error)\r\n  __Pyx_GOTREF(__pyx_t_1);\r\n  if (PyDict_SetItem(__pyx_d, __pyx_n_s_test, __pyx_t_1) < 0) __PYX_ERR(1, 1, __pyx_L1_error)\r\n  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;\r\n```\r\n\r\nUpon removing the declarations everything becomes fine \r\n![image](https://user-images.githubusercontent.com/52697657/136666150-2e7b2e0c-16c9-4c1e-9208-8db18973b0ff.png)\r\n\r\n**Environment:**\r\n - OS: Windows\r\n - Python version 3.9.0\r\n - Cython version 3.0.0a8\r\n",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "COLLABORATOR",
            "body": "What will be happening is that something is generating a `mark_pos` but not actually generating any code.\r\n\r\nWhat I'd do to investigate is to try to work out what's generating the line `* def foo(unsigned char[:] d):             # <<<<<<<<<<<<<<`. To do that go to Cython.Compile.Code.py. In `CCodeWriter.write` add the lines:\r\n\r\n```\r\nif s.find(\"* def foo(unsigned char[:] d):             # <<<<<<<<<<<<<<\") != -1:\r\n    import pdb; pdb.set_trace()\r\n```\r\n\r\nThat will hopefully let you step out and find the `mark_pos`, and then work out how to disable it.\r\n\r\nMake sure you're not using a compiled version of Cython or it's much harder to use the debugger.\r\n\r\n(I haven't actually tested any of this so it could be wrong. But it's how I'd start)",
            "created_at": "2021-10-09T17:33:45Z",
            "html_url": "https://github.com/cython/cython/issues/4402#issuecomment-939332628",
            "id": 939332628,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4402",
            "node_id": "IC_kwDOABDGAc43_RQU",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/939332628/reactions"
            },
            "updated_at": "2021-10-09T17:37:07Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/939332628",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "@da-woods, thanks for the advice, I'm gonna try to look at that.\r\n\r\nI guess that you're talking about simple \"breakpoint if the condition is met\". I can do that in my ide without adding any code (it's supported debugger feature) and therefore I will use that approach, but still thanks for sharing that.\r\n\r\nIf you wanna know it's vscode",
            "created_at": "2021-10-09T18:02:06Z",
            "html_url": "https://github.com/cython/cython/issues/4402#issuecomment-939337307",
            "id": 939337307,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4402",
            "node_id": "IC_kwDOABDGAc43_SZb",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/939337307/reactions"
            },
            "updated_at": "2021-10-09T18:02:06Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/939337307",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/52697657?v=4",
                "events_url": "https://api.github.com/users/0dminnimda/events{/privacy}",
                "followers_url": "https://api.github.com/users/0dminnimda/followers",
                "following_url": "https://api.github.com/users/0dminnimda/following{/other_user}",
                "gists_url": "https://api.github.com/users/0dminnimda/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/0dminnimda",
                "id": 52697657,
                "login": "0dminnimda",
                "node_id": "MDQ6VXNlcjUyNjk3NjU3",
                "organizations_url": "https://api.github.com/users/0dminnimda/orgs",
                "received_events_url": "https://api.github.com/users/0dminnimda/received_events",
                "repos_url": "https://api.github.com/users/0dminnimda/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/0dminnimda/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/0dminnimda/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/0dminnimda"
            }
        },
        {
            "author_association": "COLLABORATOR",
            "body": "I'm sure doing it in the IDE is better than what I'm suggesting!",
            "created_at": "2021-10-09T18:23:02Z",
            "html_url": "https://github.com/cython/cython/issues/4402#issuecomment-939340763",
            "id": 939340763,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4402",
            "node_id": "IC_kwDOABDGAc43_TPb",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/939340763/reactions"
            },
            "updated_at": "2021-10-09T18:23:02Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/939340763",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        },
        {
            "author_association": "COLLABORATOR",
            "body": "So I think I slightly misunderstood the issue - the line you're looking for in the generated code is probably `* # ham             # <<<<<<<<<<<<<<`\r\n\r\nInterestingly it appears in the .c source file with and without `uchar[:]` but the html file is different. It might be more productive to debug Annotate.py (maybe `_save_annotation`?).\r\n\r\nI still think it could be a call to `mark_pos` that's wrong. But I don't think my original suggestion was quite right.",
            "created_at": "2021-10-09T20:43:33Z",
            "html_url": "https://github.com/cython/cython/issues/4402#issuecomment-939358998",
            "id": 939358998,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4402",
            "node_id": "IC_kwDOABDGAc43_XsW",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/939358998/reactions"
            },
            "updated_at": "2021-10-09T20:43:48Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/939358998",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> So I think I slightly misunderstood the issue - the line you're looking for in the generated code is probably `* # ham # <<<<<<<<<<<<<<`\r\n\r\nyeah, I'm already understood this and switched to this",
            "created_at": "2021-10-10T04:48:03Z",
            "html_url": "https://github.com/cython/cython/issues/4402#issuecomment-939406248",
            "id": 939406248,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4402",
            "node_id": "IC_kwDOABDGAc43_jOo",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/939406248/reactions"
            },
            "updated_at": "2021-10-10T04:48:03Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/939406248",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/52697657?v=4",
                "events_url": "https://api.github.com/users/0dminnimda/events{/privacy}",
                "followers_url": "https://api.github.com/users/0dminnimda/followers",
                "following_url": "https://api.github.com/users/0dminnimda/following{/other_user}",
                "gists_url": "https://api.github.com/users/0dminnimda/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/0dminnimda",
                "id": 52697657,
                "login": "0dminnimda",
                "node_id": "MDQ6VXNlcjUyNjk3NjU3",
                "organizations_url": "https://api.github.com/users/0dminnimda/orgs",
                "received_events_url": "https://api.github.com/users/0dminnimda/received_events",
                "repos_url": "https://api.github.com/users/0dminnimda/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/0dminnimda/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/0dminnimda/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/0dminnimda"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "things that are not as they should be:\r\nin the generated c this `# ham` is written after `def f`, but should be before:\r\n\r\n```python\r\n# ham\r\n\r\nimport cython\r\n\r\ndef g():\r\n    pass\r\n\r\ndef f(data: cython.uchar):#[:]):\r\n    pass\r\n\r\ndef p():\r\n    return 5\r\n\r\n```\r\n\r\n\r\n```c\r\n  /* \"ttt.py\":5\r\n * import cython\r\n * \r\n * def g():             # <<<<<<<<<<<<<<\r\n *     pass\r\n * \r\n */\r\n  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_3ttt_1g, 0, __pyx_n_s_g, NULL, __pyx_n_s_ttt, __pyx_d, ((PyObject *)__pyx_codeobj_)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 5, __pyx_L1_error)\r\n  __Pyx_GOTREF(__pyx_t_1);\r\n  if (PyDict_SetItem(__pyx_d, __pyx_n_s_g, __pyx_t_1) < 0) __PYX_ERR(0, 5, __pyx_L1_error)\r\n  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;\r\n\r\n  /* \"ttt.py\":8\r\n *     pass\r\n * \r\n * def f(data: cython.uchar):#[:]):             # <<<<<<<<<<<<<<\r\n *     pass\r\n * \r\n */\r\n  __pyx_t_1 = __Pyx_PyDict_NewPresized(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 8, __pyx_L1_error)\r\n  __Pyx_GOTREF(__pyx_t_1);\r\n  if (PyDict_SetItem(__pyx_t_1, __pyx_n_s_data, __pyx_kp_s_cython_uchar) < 0) __PYX_ERR(0, 8, __pyx_L1_error)\r\n  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_3ttt_3f, 0, __pyx_n_s_f, NULL, __pyx_n_s_ttt, __pyx_d, ((PyObject *)__pyx_codeobj__3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 8, __pyx_L1_error)\r\n  __Pyx_GOTREF(__pyx_t_2);\r\n  __Pyx_CyFunction_SetAnnotationsDict(__pyx_t_2, __pyx_t_1);\r\n  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;\r\n  if (PyDict_SetItem(__pyx_d, __pyx_n_s_f, __pyx_t_2) < 0) __PYX_ERR(0, 8, __pyx_L1_error)\r\n  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;\r\n\r\n  /* \"ttt.py\":11\r\n *     pass\r\n * \r\n * def p():             # <<<<<<<<<<<<<<\r\n *     return 5\r\n */\r\n  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_3ttt_5p, 0, __pyx_n_s_p, NULL, __pyx_n_s_ttt, __pyx_d, ((PyObject *)__pyx_codeobj__4)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 11, __pyx_L1_error)\r\n  __Pyx_GOTREF(__pyx_t_2);\r\n  if (PyDict_SetItem(__pyx_d, __pyx_n_s_p, __pyx_t_2) < 0) __PYX_ERR(0, 11, __pyx_L1_error)\r\n  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;\r\n\r\n  /* \"ttt.py\":1\r\n * # ham             # <<<<<<<<<<<<<<\r\n * \r\n * import cython\r\n */\r\n  __pyx_t_2 = __Pyx_PyDict_NewPresized(0); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1, __pyx_L1_error)\r\n  __Pyx_GOTREF(__pyx_t_2);\r\n  if (PyDict_SetItem(__pyx_d, __pyx_n_s_test, __pyx_t_2) < 0) __PYX_ERR(0, 1, __pyx_L1_error)\r\n  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;\r\n\r\n```\r\n\r\nand yeah, as you noticed ` * # ham             # <<<<<<<<<<<<<<` always appears, but if we don't add `[:]` then it will not be annotated",
            "created_at": "2021-10-10T04:58:26Z",
            "html_url": "https://github.com/cython/cython/issues/4402#issuecomment-939407238",
            "id": 939407238,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4402",
            "node_id": "IC_kwDOABDGAc43_jeG",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/939407238/reactions"
            },
            "updated_at": "2021-10-10T04:58:26Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/939407238",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/52697657?v=4",
                "events_url": "https://api.github.com/users/0dminnimda/events{/privacy}",
                "followers_url": "https://api.github.com/users/0dminnimda/followers",
                "following_url": "https://api.github.com/users/0dminnimda/following{/other_user}",
                "gists_url": "https://api.github.com/users/0dminnimda/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/0dminnimda",
                "id": 52697657,
                "login": "0dminnimda",
                "node_id": "MDQ6VXNlcjUyNjk3NjU3",
                "organizations_url": "https://api.github.com/users/0dminnimda/orgs",
                "received_events_url": "https://api.github.com/users/0dminnimda/received_events",
                "repos_url": "https://api.github.com/users/0dminnimda/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/0dminnimda/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/0dminnimda/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/0dminnimda"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "The last thing I did is tried to understand from where that `* # ham # <<<<<<<<<<<<<<` comes from\r\nI was looking at the data in the pipeline execution",
            "created_at": "2021-10-10T04:59:53Z",
            "html_url": "https://github.com/cython/cython/issues/4402#issuecomment-939407338",
            "id": 939407338,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4402",
            "node_id": "IC_kwDOABDGAc43_jfq",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/939407338/reactions"
            },
            "updated_at": "2021-10-10T05:01:45Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/939407338",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/52697657?v=4",
                "events_url": "https://api.github.com/users/0dminnimda/events{/privacy}",
                "followers_url": "https://api.github.com/users/0dminnimda/followers",
                "following_url": "https://api.github.com/users/0dminnimda/following{/other_user}",
                "gists_url": "https://api.github.com/users/0dminnimda/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/0dminnimda",
                "id": 52697657,
                "login": "0dminnimda",
                "node_id": "MDQ6VXNlcjUyNjk3NjU3",
                "organizations_url": "https://api.github.com/users/0dminnimda/orgs",
                "received_events_url": "https://api.github.com/users/0dminnimda/received_events",
                "repos_url": "https://api.github.com/users/0dminnimda/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/0dminnimda/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/0dminnimda/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/0dminnimda"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "@da-woods the deal is I think that there should not be any \r\n```c\r\n/* \"ttt.py\":1\r\n * # ham             # <<<<<<<<<<<<<<\r\n * \r\n * import cython\r\n */\r\n  __pyx_t_2 = __Pyx_PyDict_NewPresized(0); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1, __pyx_L1_error)\r\n  __Pyx_GOTREF(__pyx_t_2);\r\n  if (PyDict_SetItem(__pyx_d, __pyx_n_s_test, __pyx_t_2) < 0) __PYX_ERR(0, 1, __pyx_L1_error)\r\n  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;\r\n```\r\n\r\nand even if we somehow will fix the problem with annotation of this line and code above still will show up then the underlying behavior of generation this code is still not correct.\r\nAm I right? I'm just not sure about should that code be generated like that. (with ` * # ham             # <<<<<<<<<<<<<<`)\r\n\r\n",
            "created_at": "2021-10-10T07:24:29Z",
            "html_url": "https://github.com/cython/cython/issues/4402#issuecomment-939422089",
            "id": 939422089,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4402",
            "node_id": "IC_kwDOABDGAc43_nGJ",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/939422089/reactions"
            },
            "updated_at": "2021-10-10T07:26:24Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/939422089",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/52697657?v=4",
                "events_url": "https://api.github.com/users/0dminnimda/events{/privacy}",
                "followers_url": "https://api.github.com/users/0dminnimda/followers",
                "following_url": "https://api.github.com/users/0dminnimda/following{/other_user}",
                "gists_url": "https://api.github.com/users/0dminnimda/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/0dminnimda",
                "id": 52697657,
                "login": "0dminnimda",
                "node_id": "MDQ6VXNlcjUyNjk3NjU3",
                "organizations_url": "https://api.github.com/users/0dminnimda/orgs",
                "received_events_url": "https://api.github.com/users/0dminnimda/received_events",
                "repos_url": "https://api.github.com/users/0dminnimda/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/0dminnimda/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/0dminnimda/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/0dminnimda"
            }
        },
        {
            "author_association": "COLLABORATOR",
            "body": "I had a quick look at this and didn't get very far either. Conclusions are:\r\n\r\n* It looks to happen with any memoryview - it isn't specific to `uchar[:]`. Memoryviews generate a lot of Cython utility code and I wonder if it could be that utility code that's causing it.\r\n* I'm not sure that `mark_pos` is very important any more - that may not have been a helpful suggestion from me. Possibly the `ExprNode.annotate` mechanism is more important.",
            "created_at": "2021-10-10T09:30:09Z",
            "html_url": "https://github.com/cython/cython/issues/4402#issuecomment-939439121",
            "id": 939439121,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4402",
            "node_id": "IC_kwDOABDGAc43_rQR",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/939439121/reactions"
            },
            "updated_at": "2021-10-10T09:30:09Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/939439121",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        }
    ],
    "comments": 9,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/4402/comments",
    "created_at": "2021-10-09T16:16:39Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2021-10-09T18:02:06Z",
            "event": "mentioned",
            "id": 5438395043,
            "node_id": "MEE_lADOABDGAc485p3TzwAAAAFEJ1Kj",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/5438395043"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2021-10-09T18:02:06Z",
            "event": "subscribed",
            "id": 5438395046,
            "node_id": "SE_lADOABDGAc485p3TzwAAAAFEJ1Km",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/5438395046"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2021-10-10T07:24:29Z",
            "event": "mentioned",
            "id": 5439000481,
            "node_id": "MEE_lADOABDGAc485p3TzwAAAAFEMI-h",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/5439000481"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2021-10-10T07:24:29Z",
            "event": "subscribed",
            "id": 5439000482,
            "node_id": "SE_lADOABDGAc485p3TzwAAAAFEMI-i",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/5439000482"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/52697657?v=4",
                "events_url": "https://api.github.com/users/0dminnimda/events{/privacy}",
                "followers_url": "https://api.github.com/users/0dminnimda/followers",
                "following_url": "https://api.github.com/users/0dminnimda/following{/other_user}",
                "gists_url": "https://api.github.com/users/0dminnimda/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/0dminnimda",
                "id": 52697657,
                "login": "0dminnimda",
                "node_id": "MDQ6VXNlcjUyNjk3NjU3",
                "organizations_url": "https://api.github.com/users/0dminnimda/orgs",
                "received_events_url": "https://api.github.com/users/0dminnimda/received_events",
                "repos_url": "https://api.github.com/users/0dminnimda/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/0dminnimda/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/0dminnimda/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/0dminnimda"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2021-10-14T11:38:36Z",
            "event": "renamed",
            "id": 5463206890,
            "node_id": "RTE_lADOABDGAc485p3TzwAAAAFFoevq",
            "performed_via_github_app": null,
            "rename": {
                "from": "[BUG] Declaration of the `uchar[:]` breaks annotation.",
                "to": "[BUG] Declaration of the memoryview breaks annotation."
            },
            "url": "https://api.github.com/repos/cython/cython/issues/events/5463206890"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/4402/events",
    "html_url": "https://github.com/cython/cython/issues/4402",
    "id": 1021746643,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/4402/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOABDGAc485p3T",
    "number": 4402,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/cython/cython/issues/4402/reactions"
    },
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "timeline_url": "https://api.github.com/repos/cython/cython/issues/4402/timeline",
    "title": "[BUG] Declaration of the memoryview breaks annotation.",
    "updated_at": "2021-10-14T11:38:36Z",
    "url": "https://api.github.com/repos/cython/cython/issues/4402",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/52697657?v=4",
        "events_url": "https://api.github.com/users/0dminnimda/events{/privacy}",
        "followers_url": "https://api.github.com/users/0dminnimda/followers",
        "following_url": "https://api.github.com/users/0dminnimda/following{/other_user}",
        "gists_url": "https://api.github.com/users/0dminnimda/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/0dminnimda",
        "id": 52697657,
        "login": "0dminnimda",
        "node_id": "MDQ6VXNlcjUyNjk3NjU3",
        "organizations_url": "https://api.github.com/users/0dminnimda/orgs",
        "received_events_url": "https://api.github.com/users/0dminnimda/received_events",
        "repos_url": "https://api.github.com/users/0dminnimda/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/0dminnimda/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/0dminnimda/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/0dminnimda"
    }
}