{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Describe the bug\r\n\r\nThis is how I am trying to do so.\r\n1. Building C code - `cython -3 uc.py --embed`\r\n2. Building executable `gcc uc.c -w -I\"C:\\Program Files\\Python311\\include\" -L\"C:\\Program Files\\Python311\\libs\" -lpython311 -o uc.exe`\r\n\r\nHere I face first problems. I get this errors:\r\n\r\n```\r\nerror: enumerator value for '__pyx_check_sizeof_voidp' is not an integer constant\r\n  426 |     enum { __pyx_check_sizeof_voidp = 1 / (int)(SIZEOF_VOID_P == sizeof(void*)) };\r\n      |   \r\n```\r\nAfter that I simply deleted an if statement causing the error;\r\n```\r\n  #ifdef SIZEOF_VOID_P\r\n    enum { __pyx_check_sizeof_voidp = 1 / (int)(SIZEOF_VOID_P == sizeof(void*)) };\r\n  #endif\r\n```\r\nAfter that repeating building and getting new error:\r\n```\r\nc:/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/11.3.0/../../../../x86_64-w64-mingw32/bin/ld.exe: c:/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/11.3.0/../../../../x86_64-w64-mingw32/lib/../lib/libmingw32.a(lib64_libmingw32_a-crt0_c.o):crt0_c.c:(.text.startup+0x2e): undefined reference to `WinMain'\r\ncollect2.exe: error: ld returned 1 exit status\r\n```\r\nAfter that I simply change `int wmain(int argc, wchar_t **argv)` to `int main(int argc, wchar_t **argv)` in uc.c. ( i have know idea why I just found some video on youtube where a dude did like so and after that EXE building processed successfully.)\r\n\r\nAfter that an Executable being built but it doesnt work as expected and imidiately gets closed after run and NO logs getting saved.\r\n### But for scripts with only python standart modules this approach works !!!\r\n\r\n### Code to reproduce the behaviour:\r\n\r\n```cython\r\nfrom telethon.sync import TelegramClient\r\nimport logging\r\n\r\nlogging.basicConfig(\r\n    filename='log_file_name.log',\r\n    level=logging.INFO, \r\n    format= '[%(asctime)s] {%(pathname)s:%(lineno)d} %(levelname)s - %(message)s',\r\n    datefmt='%H:%M:%S'\r\n)\r\n\r\ndef main():\r\n    API_ID = input('API API_ID: ') # \r\n    API_HASH = input('API API_HASH: ') # \r\n\r\n    with TelegramClient('account', API_ID, API_HASH) as c:\r\n        print('Doing jobs.........!!!')\r\n        result = c.get_me()\r\n        print(result.stringify())\r\n    \r\n    logging.info('Okkk...!!!')\r\n    input()\r\n\r\nif __name__ == '__main__':\r\n    try:\r\n        main()\r\n    except Exception as e:\r\n        logging.error(e.__repr__())\r\n```\r\n\r\n\r\n### Expected behaviour\r\n\r\nIt has to print information about telegram account and wait for input\r\n\r\n### OS\r\n\r\nWindows\r\n\r\n### Python version\r\n\r\n3.11.4\r\n\r\n### Cython version\r\n\r\n3.0.10\r\n\r\n### Additional context\r\n\r\nI suppose that the problem may rely on 3rd party lib `Telethon` may be it just simply can not to link `Telethon` library to final build.\r\n\r\nBecause I tried this approach on other scripts where only Python standard lib being used and it works.",
    "closed_at": "2024-04-30T20:09:49Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "The thing you deleted is acting as a basic error check so you've definitely gone wrong there.\r\n\r\nHowever: this isn't really a bug in Cython, it's a support question and how to build with a non-standard compiler. Please ask support questions on the cython users mailing list https://groups.google.com/g/cython-users",
            "created_at": "2024-04-30T20:09:49Z",
            "html_url": "https://github.com/cython/cython/issues/6172#issuecomment-2087028994",
            "id": 2087028994,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/6172",
            "node_id": "IC_kwDOABDGAc58ZYkC",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/2087028994/reactions"
            },
            "updated_at": "2024-04-30T20:09:49Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/2087028994",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        },
        {
            "author_association": "NONE",
            "body": "I fixed FIRST error with this approach https://github.com/cython/cython/issues/3405#issuecomment-596975159\r\n",
            "created_at": "2024-04-30T20:11:00Z",
            "html_url": "https://github.com/cython/cython/issues/6172#issuecomment-2087035392",
            "id": 2087035392,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/6172",
            "node_id": "IC_kwDOABDGAc58ZaIA",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/2087035392/reactions"
            },
            "updated_at": "2024-04-30T20:12:19Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/2087035392",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/111636889?v=4",
                "events_url": "https://api.github.com/users/RobertAzovski/events{/privacy}",
                "followers_url": "https://api.github.com/users/RobertAzovski/followers",
                "following_url": "https://api.github.com/users/RobertAzovski/following{/other_user}",
                "gists_url": "https://api.github.com/users/RobertAzovski/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/RobertAzovski",
                "id": 111636889,
                "login": "RobertAzovski",
                "node_id": "U_kgDOBqdxmQ",
                "organizations_url": "https://api.github.com/users/RobertAzovski/orgs",
                "received_events_url": "https://api.github.com/users/RobertAzovski/received_events",
                "repos_url": "https://api.github.com/users/RobertAzovski/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/RobertAzovski/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RobertAzovski/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/RobertAzovski"
            }
        },
        {
            "author_association": "NONE",
            "body": "> The thing you deleted is acting as a basic error check so you've definitely gone wrong there.\r\n> \r\n> However: this isn't really a bug in Cython, it's a support question and how to build with a non-standard compiler. Please ask support questions on the cython users mailing list https://groups.google.com/g/cython-users\r\n\r\nI didnt find any tutorial how to build via command line. Can you share if that exists",
            "created_at": "2024-04-30T20:13:27Z",
            "html_url": "https://github.com/cython/cython/issues/6172#issuecomment-2087048092",
            "id": 2087048092,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/6172",
            "node_id": "IC_kwDOABDGAc58ZdOc",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/2087048092/reactions"
            },
            "updated_at": "2024-04-30T20:13:27Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/2087048092",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/111636889?v=4",
                "events_url": "https://api.github.com/users/RobertAzovski/events{/privacy}",
                "followers_url": "https://api.github.com/users/RobertAzovski/followers",
                "following_url": "https://api.github.com/users/RobertAzovski/following{/other_user}",
                "gists_url": "https://api.github.com/users/RobertAzovski/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/RobertAzovski",
                "id": 111636889,
                "login": "RobertAzovski",
                "node_id": "U_kgDOBqdxmQ",
                "organizations_url": "https://api.github.com/users/RobertAzovski/orgs",
                "received_events_url": "https://api.github.com/users/RobertAzovski/received_events",
                "repos_url": "https://api.github.com/users/RobertAzovski/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/RobertAzovski/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RobertAzovski/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/RobertAzovski"
            }
        }
    ],
    "comments": 3,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/6172/comments",
    "created_at": "2024-04-30T19:07:41Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2024-04-30T20:07:12Z",
            "event": "labeled",
            "id": 12663397477,
            "label": {
                "color": "fef2c0",
                "name": "support question"
            },
            "node_id": "LE_lADOABDGAc6Hb_zDzwAAAALyzBxl",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/12663397477"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2024-04-30T20:09:49Z",
            "event": "closed",
            "id": 12663423769,
            "node_id": "CE_lADOABDGAc6Hb_zDzwAAAALyzIMZ",
            "performed_via_github_app": null,
            "state_reason": "not_planned",
            "url": "https://api.github.com/repos/cython/cython/issues/events/12663423769"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/6172/events",
    "html_url": "https://github.com/cython/cython/issues/6172",
    "id": 2272263363,
    "labels": [
        {
            "color": "fef2c0",
            "default": false,
            "description": null,
            "id": 414800623,
            "name": "support question",
            "node_id": "MDU6TGFiZWw0MTQ4MDA2MjM=",
            "url": "https://api.github.com/repos/cython/cython/labels/support%20question"
        }
    ],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/6172/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOABDGAc6Hb_zD",
    "number": 6172,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/cython/cython/issues/6172/reactions"
    },
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "closed",
    "state_reason": "not_planned",
    "timeline_url": "https://api.github.com/repos/cython/cython/issues/6172/timeline",
    "title": "[BUG] Building executable with GCC fails",
    "updated_at": "2024-04-30T20:13:29Z",
    "url": "https://api.github.com/repos/cython/cython/issues/6172",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/111636889?v=4",
        "events_url": "https://api.github.com/users/RobertAzovski/events{/privacy}",
        "followers_url": "https://api.github.com/users/RobertAzovski/followers",
        "following_url": "https://api.github.com/users/RobertAzovski/following{/other_user}",
        "gists_url": "https://api.github.com/users/RobertAzovski/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/RobertAzovski",
        "id": 111636889,
        "login": "RobertAzovski",
        "node_id": "U_kgDOBqdxmQ",
        "organizations_url": "https://api.github.com/users/RobertAzovski/orgs",
        "received_events_url": "https://api.github.com/users/RobertAzovski/received_events",
        "repos_url": "https://api.github.com/users/RobertAzovski/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/RobertAzovski/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/RobertAzovski/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/RobertAzovski"
    }
}