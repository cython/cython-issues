{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "<!--\r\n**PLEASE READ THIS FIRST:**\r\n- Do not use the bug and feature tracker for support requests. Use the `cython-users` mailing list instead.\r\n- Did you search for similar issues already? Please do, it helps to save us precious time that we otherwise could not invest into development.\r\n- Did you try the latest master branch or pre-release? It might already have what you want to report. Also see the [Changelog](https://github.com/cython/cython/blob/master/CHANGES.rst) regarding recent changes.\r\n-->\r\n\r\n**Describe the bug**\r\nWith Cython 0.29.22, we see SIGSEGV when we try to Cythonize pretty much anything, will try to verify it is everything.\r\n\r\n**To Reproduce** try to cythonize NumPy with Python 3.10.0a6. It worked with 3.10.0a5.\r\n\r\n```\r\nProcessing numpy/random/_bounded_integers.pxd.in\r\nProcessing numpy/random/mtrand.pyx\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/numpy-1.20.1/tools/cythonize.py\", line 235, in <module>\r\n    main()\r\n  File \"/builddir/build/BUILD/numpy-1.20.1/tools/cythonize.py\", line 231, in main\r\n    find_process_files(root_dir)\r\n  File \"/builddir/build/BUILD/numpy-1.20.1/tools/cythonize.py\", line 222, in find_process_files\r\n    process(root_dir, fromfile, tofile, function, hash_db)\r\n  File \"/builddir/build/BUILD/numpy-1.20.1/tools/cythonize.py\", line 188, in process\r\n    processor_function(fromfile, tofile)\r\n  File \"/builddir/build/BUILD/numpy-1.20.1/tools/cythonize.py\", line 77, in process_pyx\r\n    subprocess.check_call(\r\n  File \"/usr/lib64/python3.10/subprocess.py\", line 378, in check_call\r\n    raise CalledProcessError(retcode, cmd)\r\nsubprocess.CalledProcessError: Command '['/usr/bin/python3', '-m', 'cython', '-3', '--fast-fail', '-o', 'mtrand.c', 'mtrand.pyx']' died with <Signals.SIGSEGV: 11>.\r\nCythonizing sources\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/numpy-1.20.1/setup.py\", line 513, in <module>\r\n    setup_package()\r\n  File \"/builddir/build/BUILD/numpy-1.20.1/setup.py\", line 493, in setup_package\r\n    generate_cython()\r\n  File \"/builddir/build/BUILD/numpy-1.20.1/setup.py\", line 290, in generate_cython\r\n    raise RuntimeError(\"Running cythonize failed!\")\r\nRuntimeError: Running cythonize failed!\r\n```\r\n\r\n**Expected behavior**\r\nNumPy should cythonize fine.\r\n\r\n**Environment (please complete the following information):**\r\n - OS: Fedora Linux 35\r\n - Python version 3.10.0a6\r\n - Cython version 0.29.22\r\n\r\n**Additional context**\r\nWe are rebuilding all Fedora Python packages with the alpha releases of Python 3.10 to see what is broken.\r\n",
    "closed_at": "2021-03-30T16:33:38Z",
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "I cannot reproduce this from the py2.py3-none-any wheel.",
            "created_at": "2021-03-04T08:59:41Z",
            "html_url": "https://github.com/cython/cython/issues/4025#issuecomment-790449268",
            "id": 790449268,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4025",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc5MDQ0OTI2OA==",
            "performed_via_github_app": null,
            "updated_at": "2021-03-04T08:59:41Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/790449268",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2401856?v=4",
                "events_url": "https://api.github.com/users/hroncok/events{/privacy}",
                "followers_url": "https://api.github.com/users/hroncok/followers",
                "following_url": "https://api.github.com/users/hroncok/following{/other_user}",
                "gists_url": "https://api.github.com/users/hroncok/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/hroncok",
                "id": 2401856,
                "login": "hroncok",
                "node_id": "MDQ6VXNlcjI0MDE4NTY=",
                "organizations_url": "https://api.github.com/users/hroncok/orgs",
                "received_events_url": "https://api.github.com/users/hroncok/received_events",
                "repos_url": "https://api.github.com/users/hroncok/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/hroncok/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/hroncok/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/hroncok"
            }
        },
        {
            "author_association": "NONE",
            "body": "Reproducer:\r\n\r\n```\r\n$ python3.10 -m venv __venv3.10_\r\n$ . __venv3.10_/bin/activate\r\n$ pip install https://files.pythonhosted.org/packages/d3/38/adc49a5aca4f644e6322237089fdcf194084f5fe41445e6e632f28b32bf7/Cython-0.29.22.tar.gz\r\n$ cythonize -3 _ruamel_yaml.pyx\r\n```\r\n\r\nI've got _ruamel_yaml.pyx from https://sourceforge.net/p/ruamel-yaml-clib/code/ci/default/tree/_ruamel_yaml.pyx\r\n\r\nWhen I remove parts of the file, I can sometimes reproduce it, but sometimes not. Trying to produce a minimal reproducer but is seems arbitrary. Remove one function and the SIGSEGV stays, remove another and it is gone.",
            "created_at": "2021-03-04T09:08:25Z",
            "html_url": "https://github.com/cython/cython/issues/4025#issuecomment-790455277",
            "id": 790455277,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4025",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc5MDQ1NTI3Nw==",
            "performed_via_github_app": null,
            "updated_at": "2021-03-04T09:08:25Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/790455277",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2401856?v=4",
                "events_url": "https://api.github.com/users/hroncok/events{/privacy}",
                "followers_url": "https://api.github.com/users/hroncok/followers",
                "following_url": "https://api.github.com/users/hroncok/following{/other_user}",
                "gists_url": "https://api.github.com/users/hroncok/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/hroncok",
                "id": 2401856,
                "login": "hroncok",
                "node_id": "MDQ6VXNlcjI0MDE4NTY=",
                "organizations_url": "https://api.github.com/users/hroncok/orgs",
                "received_events_url": "https://api.github.com/users/hroncok/received_events",
                "repos_url": "https://api.github.com/users/hroncok/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/hroncok/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/hroncok/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/hroncok"
            }
        },
        {
            "author_association": "COLLABORATOR",
            "body": "> I cannot reproduce this from the py2.py3-none-any wheel.\r\n\r\nThat suggests that Cython has compiled _itself_ incorrectly - the \"none\" wheel will just run an uncompiled version of Cython.",
            "created_at": "2021-03-04T09:08:44Z",
            "html_url": "https://github.com/cython/cython/issues/4025#issuecomment-790455500",
            "id": 790455500,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4025",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc5MDQ1NTUwMA==",
            "performed_via_github_app": null,
            "updated_at": "2021-03-04T09:08:44Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/790455500",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        },
        {
            "author_association": "NONE",
            "body": "Yes, that is the idea. When Cython is compiled on 3.10.0a6, it SIGSEGVs.",
            "created_at": "2021-03-04T09:27:12Z",
            "html_url": "https://github.com/cython/cython/issues/4025#issuecomment-790468183",
            "id": 790468183,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4025",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc5MDQ2ODE4Mw==",
            "performed_via_github_app": null,
            "updated_at": "2021-03-04T09:27:12Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/790468183",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2401856?v=4",
                "events_url": "https://api.github.com/users/hroncok/events{/privacy}",
                "followers_url": "https://api.github.com/users/hroncok/followers",
                "following_url": "https://api.github.com/users/hroncok/following{/other_user}",
                "gists_url": "https://api.github.com/users/hroncok/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/hroncok",
                "id": 2401856,
                "login": "hroncok",
                "node_id": "MDQ6VXNlcjI0MDE4NTY=",
                "organizations_url": "https://api.github.com/users/hroncok/orgs",
                "received_events_url": "https://api.github.com/users/hroncok/received_events",
                "repos_url": "https://api.github.com/users/hroncok/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/hroncok/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/hroncok/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/hroncok"
            }
        },
        {
            "author_association": "COLLABORATOR",
            "body": "At least when I try _ruamel_yaml.pyx, the segmentation fault comes from inside a fairly innocent looking line:\r\n\r\n`__Pyx_XDECREF(__pyx_v_childretval);` which is just in the cleanup for `TreeVisitor._visitchildren`\r\n\r\nUltimately the error inside Python is `_PyGCHead_SET_NEXT(prev, next);` with a `prev==NULL`.\r\n\r\nI don't know what that tells us though.",
            "created_at": "2021-03-04T09:46:07Z",
            "html_url": "https://github.com/cython/cython/issues/4025#issuecomment-790481798",
            "id": 790481798,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4025",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc5MDQ4MTc5OA==",
            "performed_via_github_app": null,
            "updated_at": "2021-03-04T09:46:07Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/790481798",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        },
        {
            "author_association": "COLLABORATOR",
            "body": "As far as I can tell all of the Cython 3.0alpha releases don't have this bug (at least for the _ruamel_yaml.pyx file). But I can't bisect to anything useful since too many of the past releases don't compile at all for Python 3.10 for unrelated reasons",
            "created_at": "2021-03-04T11:46:43Z",
            "html_url": "https://github.com/cython/cython/issues/4025#issuecomment-790555948",
            "id": 790555948,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4025",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc5MDU1NTk0OA==",
            "performed_via_github_app": null,
            "updated_at": "2021-03-04T14:34:31Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/790555948",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        },
        {
            "author_association": "NONE",
            "body": "We also see *other* (but not all) packages that are cythonized to segfault:\r\n\r\n- [borgbackup](https://bugzilla.redhat.com/show_bug.cgi?id=1939888)\r\n- [falcon](https://bugzilla.redhat.com/show_bug.cgi?id=1939892)\r\n- [jnius](https://bugzilla.redhat.com/show_bug.cgi?id=1939893)\r\n- [numcodecs](https://bugzilla.redhat.com/show_bug.cgi?id=1939912)\r\n- [pywt](https://bugzilla.redhat.com/show_bug.cgi?id=1939915)\r\n- [scipy](https://bugzilla.redhat.com/show_bug.cgi?id=1939924)\r\n- [seaborn](https://bugzilla.redhat.com/show_bug.cgi?id=1939917)\r\n\r\nTracker: https://bugzilla.redhat.com/showdependencytree.cgi?id=1939885&hide_resolved=0",
            "created_at": "2021-03-17T10:23:02Z",
            "html_url": "https://github.com/cython/cython/issues/4025#issuecomment-800967701",
            "id": 800967701,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4025",
            "node_id": "MDEyOklzc3VlQ29tbWVudDgwMDk2NzcwMQ==",
            "performed_via_github_app": null,
            "updated_at": "2021-03-17T10:34:59Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/800967701",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2401856?v=4",
                "events_url": "https://api.github.com/users/hroncok/events{/privacy}",
                "followers_url": "https://api.github.com/users/hroncok/followers",
                "following_url": "https://api.github.com/users/hroncok/following{/other_user}",
                "gists_url": "https://api.github.com/users/hroncok/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/hroncok",
                "id": 2401856,
                "login": "hroncok",
                "node_id": "MDQ6VXNlcjI0MDE4NTY=",
                "organizations_url": "https://api.github.com/users/hroncok/orgs",
                "received_events_url": "https://api.github.com/users/hroncok/received_events",
                "repos_url": "https://api.github.com/users/hroncok/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/hroncok/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/hroncok/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/hroncok"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "I reproduced the issued based on Miro's recipe on the master branch of Python.\r\n\r\nWith Python 3.10 built in debug mode, an assertion fails in PyEval_EvalCodeEx(). This function is called by __Pyx_PyFunction_FastCallDict() which is generated by Cython. Context of the failed assertion:\r\n\r\n* Assertion added recently to CPython 3.10 by https://github.com/python/cpython/commit/0332e569c12d3dc97171546c6dc10e42c27de34b\r\n* The code object flags = (CO_NEWLOCALS | CO_OPTIMIZED | CO_NOFREE)\r\n* Code co_argcount = 2\r\n* Code co_kwonlyargcount = 0\r\n* __Pyx_PyFunction_FastCallDict() called with: nargs=1 and kwargs=NULL\r\n\r\n__Pyx_PyFunction_FastCallDict() doesn't take the fast-path because nargs < co_argcount. The fast-path is unable to build a new array of positional arguments, first items from __Pyx_PyFunction_FastCallDict() arguments, last items from the code default arguments.\r\n\r\nTo reproduce the issue.\r\n\r\n* Download https://sourceforge.net/p/ruamel-yaml-clib/code/ci/default/tree/_ruamel_yaml.pyx?format=raw\r\n\r\n```\r\n$ python3.10 -m venv env\r\n$ source env/bin/activate \r\nenv$  pip install https://files.pythonhosted.org/packages/d3/38/adc49a5aca4f644e6322237089fdcf194084f5fe41445e6e632f28b32bf7/Cython-0.29.22.tar.gz\r\n$ gdb -args ./env/bin/python3.10 -X dev ~/dev/numpy/env/bin/cythonize  -3 _ruamel_yaml.pyx\r\n(gdb) run\r\n(...)\r\npython3.10: Python/ceval.c:5148: PyEval_EvalCodeEx: Assertion `(((PyCodeObject *)_co)->co_flags & (CO_NEWLOCALS | CO_OPTIMIZED)) == 0' failed.\r\n\r\nProgram received signal SIGABRT, Aborted.\r\n\r\n(gdb) py-bt\r\nTraceback (most recent call first):\r\n  File \"/home/vstinner/dev/numpy/env/lib/python3.10/site-packages/Cython/Compiler/Code.py\", line 638, in sub_tempita\r\n    return sub(s, **context)\r\n  File \"/home/vstinner/dev/numpy/env/lib/python3.10/site-packages/Cython/Compiler/Code.py\", line 645, in __init__\r\n    proto = sub_tempita(proto, context, file, name)\r\n  File \"/home/vstinner/dev/numpy/env/lib/python3.10/site-packages/Cython/Compiler/Code.py\", line 404, in load\r\n    return cls(**kwargs)\r\n  File \"/home/vstinner/dev/numpy/env/lib/python3.10/site-packages/Cython/Compiler/ExprNodes.py\", line 4939, in SliceIndexNode\r\n    get_slice_utility_code = TempitaUtilityCode.load(\r\n  <built-in method __build_class__ of module object at remote 0x7fffea69d5f0>\r\n  File \"/home/vstinner/dev/numpy/env/lib/python3.10/site-packages/Cython/Compiler/ExprNodes.py\", line 4742, in <module>\r\n    class SliceIndexNode(ExprNode):\r\n  (...)\r\n\r\n(gdb) where\r\n#0  0x00007ffff7c629d5 in raise () from /lib64/libc.so.6\r\n#1  0x00007ffff7c4b8a4 in abort () from /lib64/libc.so.6\r\n#2  0x00007ffff7c4b789 in __assert_fail_base.cold () from /lib64/libc.so.6\r\n#3  0x00007ffff7c5b026 in __assert_fail () from /lib64/libc.so.6\r\n#4  0x0000000000523bb7 in PyEval_EvalCodeEx (_co=<code at remote 0x7fffea5481e0>, \r\n    globals={'__name__': 're', '__doc__': 'Support for regular expressions (RE).\\n\\nThis module provides regular expression matching operations similar to\\nthose found in Perl.  It supports both 8-bit and Unicode strings; both\\nthe pattern and the strings being processed can contain null bytes and\\ncharacters outside the US ASCII range.\\n\\nRegular expressions can contain both special and ordinary characters.\\nMost ordinary characters, like \"A\", \"a\", or \"0\", are the simplest\\nregular expressions; they simply match themselves.  You can\\nconcatenate ordinary characters, so last matches the string \\'last\\'.\\n\\nThe special characters are:\\n    \".\"      Matches any character except a newline.\\n    \"^\"      Matches the start of the string.\\n    \"$\"      Matches the end of the string or just before the newline at\\n             the end of the string.\\n    \"*\"      Matches 0 or more (greedy) repetitions of the preceding RE.\\n             Greedy means that it will match as many repetitions as possible.\\n    \"+\"      Matches 1 or mo...(truncated), locals=0x0, args=0x7ffffffb7720, argcount=1, kws=0x0, kwcount=0, defs=0x7fffea549928, defcount=1, kwdefs=0x0, closure=0x0) at Python/ceval.c:5148\r\n#5  0x00007fffe91ba63c in __Pyx_PyFunction_FastCallDict (func=<function at remote 0x7fffea483260>, args=0x7ffffffb7720, nargs=1, kwargs=0x0)\r\n    at /tmp/pip-req-build-1iqexjs8/Cython/Tempita/_tempita.c:34733\r\n#6  0x00007fffe91bb2f5 in __Pyx_PyObject_CallOneArg (func=<function at remote 0x7fffea483260>, arg='\\\\{\\\\{|\\\\}\\\\}')\r\n    at /tmp/pip-req-build-1iqexjs8/Cython/Tempita/_tempita.c:35027\r\n#7  0x00007fffe9177c96 in __pyx_pf_6Cython_7Tempita_8_tempita_14lex (__pyx_self=<cython_function_or_method at remote 0x7fffe90b7750>, \r\n    __pyx_v_s=\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\...(truncated), __pyx_v_name='ObjectHandling.c:SliceObject', __pyx_v_trim_whitespace=True, __pyx_v_line_offset=0, __pyx_v_delimeters=('{{', '}}'))\r\n    at /tmp/pip-req-build-1iqexjs8/Cython/Tempita/_tempita.c:18135\r\n#8  0x00007fffe9176a84 in __pyx_pw_6Cython_7Tempita_8_tempita_15lex (__pyx_self=<cython_function_or_method at remote 0x7fffe90b7750>, \r\n    __pyx_args=(\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n...(truncated), __pyx_kwds={'name': 'ObjectHandling.c:SliceObject', 'line_offset': 0, 'delimeters': ('{{', '}}')})\r\n    at /tmp/pip-req-build-1iqexjs8/Cython/Tempita/_tempita.c:17881\r\n  (...)\r\n\r\n(gdb) frame 4\r\n#4  0x0000000000523bb7 in PyEval_EvalCodeEx (...) at Python/ceval.c:5148\r\n5148\t    assert ((((PyCodeObject *)_co)->co_flags & (CO_NEWLOCALS | CO_OPTIMIZED)) == 0);\r\n\r\n(gdb) p ((PyCodeObject *)_co)->co_flags\r\n$1 = 67\r\n\r\n(gdb) p ((PyCodeObject *)_co)->co_flags & 0x0002   # <=== CO_NEWLOCALS\r\n$2 = 2\r\n(gdb) p ((PyCodeObject *)_co)->co_flags & 0x0001   # <=== CO_OPTIMIZED\r\n$3 = 1\r\n(gdb) p ((PyCodeObject *)_co)->co_flags & 0x0040   # <=== CO_NOFREE\r\n$3 = 64\r\n```",
            "created_at": "2021-03-18T11:01:44Z",
            "html_url": "https://github.com/cython/cython/issues/4025#issuecomment-801829541",
            "id": 801829541,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4025",
            "node_id": "MDEyOklzc3VlQ29tbWVudDgwMTgyOTU0MQ==",
            "performed_via_github_app": null,
            "updated_at": "2021-03-18T11:01:44Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/801829541",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/194129?v=4",
                "events_url": "https://api.github.com/users/vstinner/events{/privacy}",
                "followers_url": "https://api.github.com/users/vstinner/followers",
                "following_url": "https://api.github.com/users/vstinner/following{/other_user}",
                "gists_url": "https://api.github.com/users/vstinner/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/vstinner",
                "id": 194129,
                "login": "vstinner",
                "node_id": "MDQ6VXNlcjE5NDEyOQ==",
                "organizations_url": "https://api.github.com/users/vstinner/orgs",
                "received_events_url": "https://api.github.com/users/vstinner/received_events",
                "repos_url": "https://api.github.com/users/vstinner/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/vstinner/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/vstinner/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/vstinner"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "It looks like a Python 3.10 regression in PyEval_EvalCodeEx(). I reported the issue to Python: https://bugs.python.org/issue43541",
            "created_at": "2021-03-18T11:11:44Z",
            "html_url": "https://github.com/cython/cython/issues/4025#issuecomment-801835182",
            "id": 801835182,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4025",
            "node_id": "MDEyOklzc3VlQ29tbWVudDgwMTgzNTE4Mg==",
            "performed_via_github_app": null,
            "updated_at": "2021-03-18T11:11:44Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/801835182",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/194129?v=4",
                "events_url": "https://api.github.com/users/vstinner/events{/privacy}",
                "followers_url": "https://api.github.com/users/vstinner/followers",
                "following_url": "https://api.github.com/users/vstinner/following{/other_user}",
                "gists_url": "https://api.github.com/users/vstinner/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/vstinner",
                "id": 194129,
                "login": "vstinner",
                "node_id": "MDQ6VXNlcjE5NDEyOQ==",
                "organizations_url": "https://api.github.com/users/vstinner/orgs",
                "received_events_url": "https://api.github.com/users/vstinner/received_events",
                "repos_url": "https://api.github.com/users/vstinner/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/vstinner/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/vstinner/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/vstinner"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Closing, bug in CPython 3.10 alpha.",
            "created_at": "2021-03-30T16:33:38Z",
            "html_url": "https://github.com/cython/cython/issues/4025#issuecomment-810406742",
            "id": 810406742,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4025",
            "node_id": "MDEyOklzc3VlQ29tbWVudDgxMDQwNjc0Mg==",
            "performed_via_github_app": null,
            "updated_at": "2021-03-30T16:33:38Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/810406742",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        }
    ],
    "comments": 10,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/4025/comments",
    "created_at": "2021-03-04T08:46:55Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2021-03-30T16:33:17Z",
            "event": "labeled",
            "id": 4528953816,
            "label": {
                "color": "000000",
                "name": "R: third party"
            },
            "node_id": "MDEyOkxhYmVsZWRFdmVudDQ1Mjg5NTM4MTY=",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/4528953816"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2021-03-30T16:33:38Z",
            "event": "closed",
            "id": 4528955759,
            "node_id": "MDExOkNsb3NlZEV2ZW50NDUyODk1NTc1OQ==",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/4528955759"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/4025/events",
    "html_url": "https://github.com/cython/cython/issues/4025",
    "id": 821907253,
    "labels": [
        {
            "color": "000000",
            "default": false,
            "description": "",
            "id": 1840758668,
            "name": "R: third party",
            "node_id": "MDU6TGFiZWwxODQwNzU4NjY4",
            "url": "https://api.github.com/repos/cython/cython/labels/R:%20third%20party"
        }
    ],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/4025/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU4MjE5MDcyNTM=",
    "number": 4025,
    "performed_via_github_app": null,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "closed",
    "title": "[BUG] Cython 0.29.22 SIGSEGV with Python 3.10.0a6",
    "updated_at": "2021-03-30T16:33:38Z",
    "url": "https://api.github.com/repos/cython/cython/issues/4025",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/2401856?v=4",
        "events_url": "https://api.github.com/users/hroncok/events{/privacy}",
        "followers_url": "https://api.github.com/users/hroncok/followers",
        "following_url": "https://api.github.com/users/hroncok/following{/other_user}",
        "gists_url": "https://api.github.com/users/hroncok/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/hroncok",
        "id": 2401856,
        "login": "hroncok",
        "node_id": "MDQ6VXNlcjI0MDE4NTY=",
        "organizations_url": "https://api.github.com/users/hroncok/orgs",
        "received_events_url": "https://api.github.com/users/hroncok/received_events",
        "repos_url": "https://api.github.com/users/hroncok/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/hroncok/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/hroncok/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/hroncok"
    }
}