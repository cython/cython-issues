{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "<!--\r\n**Note:**\r\n- Do not use the bug and feature tracker for support requests. Use the `cython-users` mailing list instead.\r\n- Did you search for similar issues already? Please do, it helps to save us precious time that we otherwise could not invest into development.\r\n- Did you try the latest master branch or pre-release? It might already have what you want to report. Also see the [Changelog](https://github.com/cython/cython/blob/master/CHANGES.rst) regarding recent changes.\r\n-->\r\n\r\n**Is your feature request related to a problem? Please describe.**\r\nA clear and concise description of what the problem is. Ex. In my code, I would like to do [...]\r\n\r\nso I think the interface of having to setup setup.py can be made simpler, so perhaps a better way to do this could be, and then perhaps compile-and-cache on demand\r\n\r\n**Describe the solution you'd like**\r\nA clear and concise description of what you want to happen, including code examples if applicable.\r\n```cython\r\nfrom cython import cyimport\r\nmodule = cyimport(\"module-name.pyx\", __path__)\r\n\r\nmodule.somefunction(\"param1\", param2)\r\n```\r\n\r\n**Describe alternatives you've considered**\r\n`cyimport` could also change to a better name, perhaps the more explicit `cython_import`\r\n\r\nadditionally\r\n`module  = cyimport(\"module-name\", __path__)`\r\n\r\nif no extension is provided it can be assumed to be a cython file\r\n\r\n**Additional context**\r\n\r\nI think one of the turn-offs of people when they read the documentation is the setup process, many people are not familiar with setup.py, and I think changing to a better interface can drive more people to using cython\r\n",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "COLLABORATOR",
            "body": "You probably want `pyximport`?\r\n\r\nThe big reason for promoting setup.py though is that it's the established way for distributing Python packages.",
            "created_at": "2021-01-12T08:19:53Z",
            "html_url": "https://github.com/cython/cython/issues/3974#issuecomment-758489039",
            "id": 758489039,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/3974",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc1ODQ4OTAzOQ==",
            "performed_via_github_app": null,
            "updated_at": "2021-01-12T08:19:53Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/758489039",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        },
        {
            "author_association": "NONE",
            "body": "@da-woods pyximport is not recommended for production use because it messes with python internals, I was thinking something more production ready\r\n\r\nalso I don't think every case out there - esp for software that isn't libraries like webservers or similar - uses setup.py, and many \"frameworks\" like cookiecutter make setup.py for you automatically",
            "created_at": "2021-01-12T09:16:38Z",
            "html_url": "https://github.com/cython/cython/issues/3974#issuecomment-758519405",
            "id": 758519405,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/3974",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc1ODUxOTQwNQ==",
            "performed_via_github_app": null,
            "updated_at": "2021-01-12T09:16:38Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/758519405",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/21975892?v=4",
                "events_url": "https://api.github.com/users/therealadityashankar/events{/privacy}",
                "followers_url": "https://api.github.com/users/therealadityashankar/followers",
                "following_url": "https://api.github.com/users/therealadityashankar/following{/other_user}",
                "gists_url": "https://api.github.com/users/therealadityashankar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/therealadityashankar",
                "id": 21975892,
                "login": "therealadityashankar",
                "node_id": "MDQ6VXNlcjIxOTc1ODky",
                "organizations_url": "https://api.github.com/users/therealadityashankar/orgs",
                "received_events_url": "https://api.github.com/users/therealadityashankar/received_events",
                "repos_url": "https://api.github.com/users/therealadityashankar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/therealadityashankar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/therealadityashankar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/therealadityashankar"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "We do have `cython.inline`. I'd imagine a cyimport would not be hard to build on this same infrastructure, though the messy bit here would be in resolving relative imports and especially handling recursive dependencies (e.g. if a.pyx imports b.pyx, would it need to use cyimport as well?).\r\n\r\nThere's also the fact that it's often preferable to pre-compile everything at installation time vs. on the fly at runtime. I think the best answer here is tighter integration with distutils/setuptools (and possibly tools like cookiecutter as well). ",
            "created_at": "2021-01-23T23:42:53Z",
            "html_url": "https://github.com/cython/cython/issues/3974#issuecomment-766215757",
            "id": 766215757,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/3974",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc2NjIxNTc1Nw==",
            "performed_via_github_app": null,
            "updated_at": "2021-01-23T23:42:53Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/766215757",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/486017?v=4",
                "events_url": "https://api.github.com/users/robertwb/events{/privacy}",
                "followers_url": "https://api.github.com/users/robertwb/followers",
                "following_url": "https://api.github.com/users/robertwb/following{/other_user}",
                "gists_url": "https://api.github.com/users/robertwb/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/robertwb",
                "id": 486017,
                "login": "robertwb",
                "node_id": "MDQ6VXNlcjQ4NjAxNw==",
                "organizations_url": "https://api.github.com/users/robertwb/orgs",
                "received_events_url": "https://api.github.com/users/robertwb/received_events",
                "repos_url": "https://api.github.com/users/robertwb/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/robertwb/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/robertwb/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/robertwb"
            }
        },
        {
            "author_association": "NONE",
            "body": "\"big fancy words ahead lol\"\r\n\r\nyou're right about the performance loss, and complexity  for distributing compiled binaries.\r\n\r\nbut I do feel that people would be more inclined to use cython were the interface just with only minor modifications to an existing codebase\r\n\r\nmy point is, setup.py is complex, badly documented imo (the realpython article is great for it though), and can be a turn off for many, I feel this process would just make it super easy for newbies to get used to cython\r\n\r\nI guess from personal xp, I like programming where the library supports complexity but has encapsulated concepts into sensible paradigms with obvious defaults (think of requests vs urllib)\r\n\r\nthe matplotlib technique for running cython is incredibly straightforward and that's generally what I find appealing to code in, and I feel that most people would be likely to agree with me\r\n\r\nI could be wrong though",
            "created_at": "2021-01-26T15:53:21Z",
            "html_url": "https://github.com/cython/cython/issues/3974#issuecomment-767637851",
            "id": 767637851,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/3974",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc2NzYzNzg1MQ==",
            "performed_via_github_app": null,
            "updated_at": "2021-01-26T15:53:21Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/767637851",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/21975892?v=4",
                "events_url": "https://api.github.com/users/therealadityashankar/events{/privacy}",
                "followers_url": "https://api.github.com/users/therealadityashankar/followers",
                "following_url": "https://api.github.com/users/therealadityashankar/following{/other_user}",
                "gists_url": "https://api.github.com/users/therealadityashankar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/therealadityashankar",
                "id": 21975892,
                "login": "therealadityashankar",
                "node_id": "MDQ6VXNlcjIxOTc1ODky",
                "organizations_url": "https://api.github.com/users/therealadityashankar/orgs",
                "received_events_url": "https://api.github.com/users/therealadityashankar/received_events",
                "repos_url": "https://api.github.com/users/therealadityashankar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/therealadityashankar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/therealadityashankar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/therealadityashankar"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> pyximport is not recommended for production use because it messes with python internals\r\n\r\nI wouldn't say it does. The integration with Python's import system is fine. The main problems with it are (IMHO):\r\n- if does not use `cythonize()` (#2304) and therefore requires a different setup than what users would otherwise have for their setup.py\r\n- it hooks into the import system. While that's obviously by design, it also means that it gets run on every Python import, which slows things down, both by duplicating module searches and by compiling things are runtime that should rather be compiled ahead of time, especially in a production system.",
            "created_at": "2021-02-05T09:36:59Z",
            "html_url": "https://github.com/cython/cython/issues/3974#issuecomment-773915227",
            "id": 773915227,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/3974",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc3MzkxNTIyNw==",
            "performed_via_github_app": null,
            "updated_at": "2021-02-11T11:53:47Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/773915227",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        }
    ],
    "comments": 5,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/3974/comments",
    "created_at": "2021-01-11T03:22:47Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/21975892?v=4",
                "events_url": "https://api.github.com/users/therealadityashankar/events{/privacy}",
                "followers_url": "https://api.github.com/users/therealadityashankar/followers",
                "following_url": "https://api.github.com/users/therealadityashankar/following{/other_user}",
                "gists_url": "https://api.github.com/users/therealadityashankar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/therealadityashankar",
                "id": 21975892,
                "login": "therealadityashankar",
                "node_id": "MDQ6VXNlcjIxOTc1ODky",
                "organizations_url": "https://api.github.com/users/therealadityashankar/orgs",
                "received_events_url": "https://api.github.com/users/therealadityashankar/received_events",
                "repos_url": "https://api.github.com/users/therealadityashankar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/therealadityashankar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/therealadityashankar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/therealadityashankar"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2021-01-11T03:23:23Z",
            "event": "renamed",
            "id": 4188804988,
            "node_id": "MDE3OlJlbmFtZWRUaXRsZUV2ZW50NDE4ODgwNDk4OA==",
            "performed_via_github_app": null,
            "rename": {
                "from": "[ENH] Improve cython interface with a cyimport() alternate importing function",
                "to": "[ENH] Improve cython interface with a more user-friendly compiling process"
            },
            "url": "https://api.github.com/repos/cython/cython/issues/events/4188804988"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/21975892?v=4",
                "events_url": "https://api.github.com/users/therealadityashankar/events{/privacy}",
                "followers_url": "https://api.github.com/users/therealadityashankar/followers",
                "following_url": "https://api.github.com/users/therealadityashankar/following{/other_user}",
                "gists_url": "https://api.github.com/users/therealadityashankar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/therealadityashankar",
                "id": 21975892,
                "login": "therealadityashankar",
                "node_id": "MDQ6VXNlcjIxOTc1ODky",
                "organizations_url": "https://api.github.com/users/therealadityashankar/orgs",
                "received_events_url": "https://api.github.com/users/therealadityashankar/received_events",
                "repos_url": "https://api.github.com/users/therealadityashankar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/therealadityashankar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/therealadityashankar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/therealadityashankar"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2021-01-11T03:23:33Z",
            "event": "renamed",
            "id": 4188805241,
            "node_id": "MDE3OlJlbmFtZWRUaXRsZUV2ZW50NDE4ODgwNTI0MQ==",
            "performed_via_github_app": null,
            "rename": {
                "from": "[ENH] Improve cython interface with a more user-friendly compiling process",
                "to": "[ENH] Improve cython interface with a more user-friendly compiling interface"
            },
            "url": "https://api.github.com/repos/cython/cython/issues/events/4188805241"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2021-01-12T09:16:38Z",
            "event": "mentioned",
            "id": 4194809043,
            "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDE5NDgwOTA0Mw==",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/4194809043"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2021-01-12T09:16:38Z",
            "event": "subscribed",
            "id": 4194809049,
            "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQxOTQ4MDkwNDk=",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/4194809049"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/3974/events",
    "html_url": "https://github.com/cython/cython/issues/3974",
    "id": 783036217,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/3974/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU3ODMwMzYyMTc=",
    "number": 3974,
    "performed_via_github_app": null,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "title": "[ENH] Improve cython interface with a more user-friendly compiling interface",
    "updated_at": "2021-02-11T11:53:47Z",
    "url": "https://api.github.com/repos/cython/cython/issues/3974",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/21975892?v=4",
        "events_url": "https://api.github.com/users/therealadityashankar/events{/privacy}",
        "followers_url": "https://api.github.com/users/therealadityashankar/followers",
        "following_url": "https://api.github.com/users/therealadityashankar/following{/other_user}",
        "gists_url": "https://api.github.com/users/therealadityashankar/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/therealadityashankar",
        "id": 21975892,
        "login": "therealadityashankar",
        "node_id": "MDQ6VXNlcjIxOTc1ODky",
        "organizations_url": "https://api.github.com/users/therealadityashankar/orgs",
        "received_events_url": "https://api.github.com/users/therealadityashankar/received_events",
        "repos_url": "https://api.github.com/users/therealadityashankar/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/therealadityashankar/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/therealadityashankar/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/therealadityashankar"
    }
}