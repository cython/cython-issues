{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "Going through some of pandas' cython modules to try to make code valid-python where possible, I'm seeing cythonize-time errors.  It seems like some combinations are invalid for surprising reasons, e.g:\r\n\r\n```\r\ncpdef object get_rule_month(object source, object default='DEC')\r\n# existing, works as expected\r\n\r\ncpdef object get_rule_month(source: object, default: object='DEC'):\r\n# seems OK\r\n\r\ncpdef get_rule_month(source: object, default: object='DEC') -> object:\r\n# breaks --> Syntax error in C variable declaration\r\n\r\n@cython.ccall\r\ndef get_rule_month(source: object, default: object='DEC') -> object:\r\n# breaks --> Exception clause not allowed for function returning Python object\r\n\r\n@cython.ccall\r\ndef object get_rule_month(source: object, default: object='DEC'):\r\n# breaks --> Expected '(', found 'get_rule_month'\r\n\r\n@cython.ccall\r\n@cython.returns(object)\r\ndef get_rule_month(source: object, default: object='DEC'):\r\n# appears OK\r\n```\r\n\r\nAnother example with a slightly different set of errors:\r\n\r\n```\r\ncdef inline bint is_null_datetime64(v):\r\n# existing, OK\r\n\r\ncdef inline is_null_datetime64(v) -> bint:\r\n# breaks --> Syntax error in C variable declaration\r\n\r\n@cython.cfunc\r\ndef inline is_null_datetime64(v) -> bint:\r\n# breaks --> Expected '(', found 'is_null_datetime64\r\n\r\n@cython.cfunc\r\n@cython.inline\r\ndef is_null_datetime64(v) -> bint:\r\n# breaks --> Function signature does not match previous declaration\r\n```\r\n\r\nThis last one here is the one that is noticeably different from the first example.\r\n\r\nIs this behavior intentional?",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Thanks for that list (and for trying it in the first place). It means we clearly lack tests here, and it's good to have real-world feedback about where people encounter real-world problems.\r\n\r\nRegarding the \"obvious\" cases:\r\n\r\n> `def inline func()`\r\n\r\nThis can never work, because `def` requires Python syntax. Similarly, `cdef`/`cpdef` syntax cannot be combined with `->` return type annotations, which are a Python `def` function feature. While `cpdef` + Python syntax is a debatable edge case, I'd suggest that providing the return type like this should stay illegal for now. Either you use Python syntax (`def ... -> type`) or Cython syntax (`cpdef type ...`), not both. There are probably ways to give better error messages here (I created #2530 for that).\r\n\r\nThere is an `@cython.inline` decorator, so the (currently) only correct way to use `inline` in Python code is\r\n```cython\r\n@cython.cfunc\r\n@cython.inline\r\ndef is_null_datetime64(v) -> bint:\r\n```\r\nThere is a (similar) test for this in our test suite, so I don't know right now why this would fail. Probably something trivial.\r\n\r\nhttps://github.com/cython/cython/blob/0fb73f66696e52f6614305d0ad6d42521fd128b0/tests/run/pure_py3.py#L68-L70\r\n\r\nSimilarly, `cpdef` should be expressed like this:\r\n```cython\r\n@cython.ccall\r\ndef get_rule_month(source: object, default: object='DEC') -> object:\r\n```\r\nwhich also fails for you, as you said. I remember noticing this kind of error, too, and fixing something in that corner recently. Could you try the latest master on that?",
            "created_at": "2018-08-03T05:00:31Z",
            "html_url": "https://github.com/cython/cython/issues/2529#issuecomment-410144973",
            "id": 410144973,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2529",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQxMDE0NDk3Mw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/410144973/reactions"
            },
            "updated_at": "2018-08-03T05:00:31Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/410144973",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> There is a (similar) test for this in our test suite, so I don't know right now why this would fail. Probably something trivial.\r\n\r\nPossibly relevant: there is an accompanying .pxd file that was unchanged throughout all these iterations with \"cdef  bint is_null_datetime64(v)`\r\n\r\n> I remember noticing this kind of error, too, and fixing something in that corner recently. Could you try the latest master on that?\r\n\r\nWill do.  I'll also add to the list permutations involving `nogil` and `except? -1`\r\n\r\n> Similarly, cdef/cpdef syntax cannot be combined with -> return type annotations, which are a Python def function feature.\r\n\r\nGood to know, thanks.  My intuition was that the parser would translate each of the supported forms to a canonical representation, allowing users to mix and match (even though doing so would be really weird in some cases).  Not the first time intuition has led me astray.  (Can you point me towards the part of the code responsible for this?  If it doesn't require learning the entire code-base, I'd be happy to help with fleshing out the tests)\r\n\r\n> While `cpdef` + Python syntax is a debatable edge case, I'd suggest that providing the return type like this should stay illegal for now. \r\n\r\nA use case I can imagine where this would be really convenient is linting (a large part of the motivation for trying this syntax in the first place).  With `cp?def` + Python syntax, we can probably cobble together something to pass `re.sub('^cp?def ', 'def', source).replace('cimport', 'import')` and be most of the way towards having something we can pass to `flake8`.",
            "created_at": "2018-08-03T19:12:42Z",
            "html_url": "https://github.com/cython/cython/issues/2529#issuecomment-410349505",
            "id": 410349505,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2529",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQxMDM0OTUwNQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/410349505/reactions"
            },
            "updated_at": "2018-08-03T19:12:42Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/410349505",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8078968?v=4",
                "events_url": "https://api.github.com/users/jbrockmendel/events{/privacy}",
                "followers_url": "https://api.github.com/users/jbrockmendel/followers",
                "following_url": "https://api.github.com/users/jbrockmendel/following{/other_user}",
                "gists_url": "https://api.github.com/users/jbrockmendel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jbrockmendel",
                "id": 8078968,
                "login": "jbrockmendel",
                "node_id": "MDQ6VXNlcjgwNzg5Njg=",
                "organizations_url": "https://api.github.com/users/jbrockmendel/orgs",
                "received_events_url": "https://api.github.com/users/jbrockmendel/received_events",
                "repos_url": "https://api.github.com/users/jbrockmendel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jbrockmendel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jbrockmendel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jbrockmendel"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> there is an accompanying .pxd file that was unchanged throughout all these iterations with \"cdef bint is_null_datetime64(v)`\r\n\r\nAh, yes, I'd be surprised if that didn't make a difference. But if you have a `.pxd` file with the types in it, why do you still need to define them in the actual source file?\r\n\r\n> part of the code responsible for this\r\n\r\nThere are different aspects to this. One is the `AdjustDefByDirectives` transform, which adapts Python declarations to overrides provided in an external `.pxd` file, in decorators, or in annotations. Other tasks are done directly by certain syntax tree nodes, e.g. declaring a variable on an expression like `x: int`. Look for `annotation_typing` in the `Cython.Compiler` package.\r\n\r\nTests for this ended up in the pure Python mode tests (`pure_*.py`), in `cython3.pyx`, in `pep526_variable_annotations.py`, and in `annotation_typing.pyx`. The pure mode tests focus on anything cythonic that can run in Python, and the last one focusses on static typing with PEP 484. `.py` files are also tested in Python.\r\n\r\n> `re.sub('^cp?def ', 'def', source).replace('cimport', 'import')`\r\n\r\nFor the first part, use `def` with decorators.\r\n\r\nFor the second, there isn't currently a way to use `cimport` in Python syntax. The only use case I can see is sharing declarations, and for that, it's probably best to require `.pxd` files – in which case you can get pretty far with having your implementation in `.py` files and [override](http://docs.cython.org/en/latest/src/tutorial/pure.html#augmenting-pxd) the Python declarations with C data types/functions/classes in the corresponding `.pxd` file.",
            "created_at": "2018-08-03T20:44:16Z",
            "html_url": "https://github.com/cython/cython/issues/2529#issuecomment-410371269",
            "id": 410371269,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2529",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQxMDM3MTI2OQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/410371269/reactions"
            },
            "updated_at": "2018-08-03T20:44:16Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/410371269",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> But if you have a .pxd file with the types in it, why do you still need to define them in the actual source file?\r\n\r\nNot sure how this status quo developed; presumably easier for contributors/reviewers if they match.  \r\n\r\n>> re.sub('^cp?def ', 'def', source).replace('cimport', 'import')\r\n>\r\n> For the first part, use def with decorators.\r\n>\r\n> For the second, there isn't currently a way to use cimport in Python syntax. \r\n\r\nThis runs into a \"if it were up to me...\" issue where its hard to predict what maintainers will or won't have a strong opinion about.  Last time I tried to move to the decorator syntax the idea was shot down.  It's totally reasonable if you want to declare that Not Cython's Problem.\r\n\r\nAs for the `source.replace(\"cimport\", \"import\")`, that's just a hack to trick a linter into think its valid python.  Feel free to ignore.\r\n\r\nI'll install from master and update results in a bit.",
            "created_at": "2018-08-04T00:58:20Z",
            "html_url": "https://github.com/cython/cython/issues/2529#issuecomment-410410168",
            "id": 410410168,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2529",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQxMDQxMDE2OA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/410410168/reactions"
            },
            "updated_at": "2018-08-04T01:04:45Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/410410168",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8078968?v=4",
                "events_url": "https://api.github.com/users/jbrockmendel/events{/privacy}",
                "followers_url": "https://api.github.com/users/jbrockmendel/followers",
                "following_url": "https://api.github.com/users/jbrockmendel/following{/other_user}",
                "gists_url": "https://api.github.com/users/jbrockmendel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jbrockmendel",
                "id": 8078968,
                "login": "jbrockmendel",
                "node_id": "MDQ6VXNlcjgwNzg5Njg=",
                "organizations_url": "https://api.github.com/users/jbrockmendel/orgs",
                "received_events_url": "https://api.github.com/users/jbrockmendel/received_events",
                "repos_url": "https://api.github.com/users/jbrockmendel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jbrockmendel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jbrockmendel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jbrockmendel"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Installed from master, no apparent change:\r\n\r\n```\r\ncpdef get_rule_month(source: object, default: object='DEC') -> object:\r\n# still breaks --> Syntax error in C variable declaration\r\n\r\n@cython.ccall\r\ndef get_rule_month(source: object, default: object='DEC') -> object:\r\n# still breaks --> Exception clause not allowed for function returning Python object\r\n\r\ncdef inline is_null_datetime64(v) -> bint:\r\n# still breaks --> Syntax error in C variable declaration\r\n\r\n@cython.cfunc\r\ndef inline is_null_datetime64(v) -> bint:\r\n# still breaks --> Expected '(', found 'is_null_datetime64\r\n\r\n@cython.cfunc\r\n@cython.inline\r\ndef is_null_datetime64(v) -> bint:\r\n# still breaks --> Function signature does not match previous declaration\r\n```\r\n\r\nSome more cases, these _without_ an accompanying pxd file:\r\n\r\n```\r\n@cython.cfunc\r\n@cython.inline\r\ndef median_linear(a: float64_t*, n: int) -> float64_t nogil:\r\n# breaks --> Expected an identifier or literal\r\n\r\n@cython.cfunc\r\n@cython.inline\r\n@cython.nogil\r\ndef median_linear(a: float64_t*, n: int) -> float64_t:\r\n# breaks --> Expected an identifier or literal\r\n\r\n@cython.cfunc\r\n@cython.inline\r\n@cython.nogil\r\ndef median_linear(a: cython.pointer(float64_t), n: int) -> float64_t:\r\n# breaks --> Invalid directive: 'nogil'.  (+1 on the error message)\r\n```\r\n\r\nSo it looks like there exists no valid way to use type annotations on this function.\r\n\r\nA weird thing a user might do is mix/match (here using type annotation only for the `labels` kwarg:\r\n```\r\n@cython.boundscheck(False)\r\n@cython.wraparound(False)\r\ndef group_median_float64(ndarray[float64_t, ndim=2] out,\r\n                         ndarray[int64_t] counts,\r\n                         ndarray[float64_t, ndim=2] values,\r\n                         labels: ndarray[int64_t],\r\n                         Py_ssize_t min_count=-1):\r\n# breaks --> 'int64_t' is not a constant, variable or function identifier\r\n```\r\n\r\nOf course the `ndim=2` bit isn't valid python (we're in the process of converting these to `foo[:, :]`), so trying to put that in the new format:\r\n\r\n```\r\n@cython.boundscheck(False)\r\n@cython.wraparound(False)\r\ndef group_median_float64(out ndarray[float64_t, ndim=2],\r\n                         counts: ndarray[int64_t],\r\n                         values: ndarray[float64_t, ndim=2],\r\n                         labels: ndarray[int64_t],\r\n                         min_count: Py_ssize_t=-1):\r\n# breaks --> Expected ']', found '='\r\n```\r\n\r\nBut even with the memoryview syntax it chokes:\r\n\r\n```\r\n@cython.boundscheck(False)\r\n@cython.wraparound(False)\r\ndef group_cumsum(out: numeric[:, :],\r\n                 values: numeric[:, :],\r\n                 labels: int64_t[:],\r\n                 is_datetimelike,\r\n                 skipna: bint=True):\r\n# breaks --> Compiler crash in AnalyseDeclarationsTransform\r\n```\r\n\r\nNow one with an `except? -1` clause (some of these I now know will break, but listing them for thoroughness)\r\n\r\n```\r\ncdef inline get_datetime64_nanos(val: object) -> int64_t except? -1:\r\n# Syntax error in C variable declaration\r\n\r\n@cython.cfunc\r\n@cython.inline\r\n@cython.exceptval(-1)\r\ndef get_datetime64_nanos(val: object) -> int64_t:\r\n# OK!  Even with an accompanying pxd file\r\n\r\ncdef inline int64_t get_datetime64_nanos(val: object) except? -1:\r\n# OK\r\n\r\n@cython.inline\r\ncdef int64_t get_datetime64_nanos(val: object) except? -1:\r\n# OK\r\n\r\n@cython.exceptval(-1)\r\ncdef inline int64_t get_datetime64_nanos(val: object):\r\n# breaks --> Function signature does not match previous declaration\r\n\r\n@cython.exceptval(-1)\r\n@cython.inline\r\ncdef int64_t get_datetime64_nanos(val: object):\r\n# breaks --> Function signature does not match previous declaration\r\n\r\n@cython.inline\r\n@cython.cfunc\r\ndef int64_t get_datetime64_nanos(val: object) except? -1:\r\n# breaks --> Expected '(', found 'get_datetime64_nanos'\r\n\r\n@cython.inline\r\n@cython.cfunc\r\n@cython.exceptval(-1)\r\ndef int64_t get_datetime64_nanos(val: object):\r\n# breaks --> Expected '(', found 'get_datetime64_nanos'\r\n```",
            "created_at": "2018-08-04T01:24:26Z",
            "html_url": "https://github.com/cython/cython/issues/2529#issuecomment-410412181",
            "id": 410412181,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2529",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQxMDQxMjE4MQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/410412181/reactions"
            },
            "updated_at": "2018-08-04T01:24:26Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/410412181",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8078968?v=4",
                "events_url": "https://api.github.com/users/jbrockmendel/events{/privacy}",
                "followers_url": "https://api.github.com/users/jbrockmendel/followers",
                "following_url": "https://api.github.com/users/jbrockmendel/following{/other_user}",
                "gists_url": "https://api.github.com/users/jbrockmendel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jbrockmendel",
                "id": 8078968,
                "login": "jbrockmendel",
                "node_id": "MDQ6VXNlcjgwNzg5Njg=",
                "organizations_url": "https://api.github.com/users/jbrockmendel/orgs",
                "received_events_url": "https://api.github.com/users/jbrockmendel/received_events",
                "repos_url": "https://api.github.com/users/jbrockmendel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jbrockmendel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jbrockmendel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jbrockmendel"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Thanks for testing these.\r\n```\r\ncpdef get_rule_month(source: object, default: object='DEC') -> object:\r\n# still breaks --> Syntax error in C variable declaration\r\n\r\n@cython.cfunc\r\ndef inline is_null_datetime64(v) -> bint:\r\n# still breaks --> Expected '(', found 'is_null_datetime64\r\n```\r\nI improved the error message for these.\r\n```\r\n@cython.cfunc\r\n@cython.inline\r\ndef is_null_datetime64(v) -> bint:\r\n# still breaks --> Function signature does not match previous declaration\r\n```\r\n**This is a bug and should work.**\r\n```\r\n@cython.cfunc\r\ndef inline is_null_datetime64(v) -> bint:\r\n# still breaks --> Expected '(', found 'is_null_datetime64\r\n\r\n@cython.cfunc\r\n@cython.inline\r\ndef median_linear(a: float64_t*, n: int) -> float64_t nogil:\r\n# breaks --> Expected an identifier or literal\r\n```\r\nThese are not valid Python syntax (note that you say `def`) and are correctly rejected.\r\nUsing pointer types in Python syntax requires a typedef. Improving that error is difficult, because it would be perfectly ok to write `a: int * 5`, but `a: int*` is only … half of an expression.\r\n```\r\n@cython.cfunc\r\n@cython.inline\r\n@cython.nogil\r\ndef median_linear(a: cython.pointer(float64_t), n: int) -> float64_t:\r\n# breaks --> Invalid directive: 'nogil'.  (+1 on the error message)\r\n```\r\n**This is a missing feature.** I created #2557 for it.\r\n```\r\n@cython.boundscheck(False)\r\n@cython.wraparound(False)\r\ndef group_cumsum(out: numeric[:, :],\r\n                 values: numeric[:, :],\r\n                 labels: int64_t[:],\r\n                 is_datetimelike,\r\n                 skipna: bint=True):\r\n# breaks --> Compiler crash in AnalyseDeclarationsTransform\r\n```\r\n**This is a bug and should work.** (fixed in 7bebbddd061fad77765cd77c6a9207b8bda17cc5)\r\n```\r\n@cython.inline\r\n@cython.cfunc\r\ndef int64_t get_datetime64_nanos(val: object) except? -1:\r\n# breaks --> Expected '(', found 'get_datetime64_nanos'\r\n```\r\nI improved the error message for this one.\r\n",
            "created_at": "2018-08-15T11:06:52Z",
            "html_url": "https://github.com/cython/cython/issues/2529#issuecomment-413165635",
            "id": 413165635,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2529",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzE2NTYzNQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/413165635/reactions"
            },
            "updated_at": "2018-08-15T14:15:51Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/413165635",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I implemented support for memoryviews in type annotations.",
            "created_at": "2018-08-15T13:36:56Z",
            "html_url": "https://github.com/cython/cython/issues/2529#issuecomment-413199628",
            "id": 413199628,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2529",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzE5OTYyOA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/413199628/reactions"
            },
            "updated_at": "2018-08-15T13:37:08Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/413199628",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Thanks, I'll give this a try on master and report back.",
            "created_at": "2018-08-15T16:53:33Z",
            "html_url": "https://github.com/cython/cython/issues/2529#issuecomment-413261497",
            "id": 413261497,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2529",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzI2MTQ5Nw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/413261497/reactions"
            },
            "updated_at": "2018-08-15T16:53:33Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/413261497",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8078968?v=4",
                "events_url": "https://api.github.com/users/jbrockmendel/events{/privacy}",
                "followers_url": "https://api.github.com/users/jbrockmendel/followers",
                "following_url": "https://api.github.com/users/jbrockmendel/following{/other_user}",
                "gists_url": "https://api.github.com/users/jbrockmendel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jbrockmendel",
                "id": 8078968,
                "login": "jbrockmendel",
                "node_id": "MDQ6VXNlcjgwNzg5Njg=",
                "organizations_url": "https://api.github.com/users/jbrockmendel/orgs",
                "received_events_url": "https://api.github.com/users/jbrockmendel/received_events",
                "repos_url": "https://api.github.com/users/jbrockmendel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jbrockmendel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jbrockmendel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jbrockmendel"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Trying out 0.29\r\n\r\n```\r\n@cython.cfunc\r\n@cython.inline\r\ndef is_null_datetimelike(val : object) -> bint:\r\n# breaks --> pandas/_libs/tslibs/nattype.pyx:627:0: Function signature does not match previous declaration\r\n```\r\n\r\nTried changing this in the accompanying pxd to match\r\n\r\n```\r\n@cython.cfunc\r\ndef is_null_datetimelike(val : object) -> bint\r\n# breaks --> pandas/_libs/tslibs/nattype.pxd:14:0: def statement not allowed here\r\n```",
            "created_at": "2018-10-16T17:49:31Z",
            "html_url": "https://github.com/cython/cython/issues/2529#issuecomment-430332893",
            "id": 430332893,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2529",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQzMDMzMjg5Mw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/430332893/reactions"
            },
            "updated_at": "2018-10-16T17:49:31Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/430332893",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8078968?v=4",
                "events_url": "https://api.github.com/users/jbrockmendel/events{/privacy}",
                "followers_url": "https://api.github.com/users/jbrockmendel/followers",
                "following_url": "https://api.github.com/users/jbrockmendel/following{/other_user}",
                "gists_url": "https://api.github.com/users/jbrockmendel/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jbrockmendel",
                "id": 8078968,
                "login": "jbrockmendel",
                "node_id": "MDQ6VXNlcjgwNzg5Njg=",
                "organizations_url": "https://api.github.com/users/jbrockmendel/orgs",
                "received_events_url": "https://api.github.com/users/jbrockmendel/received_events",
                "repos_url": "https://api.github.com/users/jbrockmendel/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jbrockmendel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jbrockmendel/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jbrockmendel"
            }
        },
        {
            "author_association": "NONE",
            "body": "I'm having the similar issues on cython V0.29 with return types in the .pyx file. Any python object return type breaks compilation in python compatible mode. Cython types work for returns (int, float, cython.int, cython.void, etc), np.ndarray and python builtins don't.\r\n\r\n```\r\n@cython.ccall\r\ndef get_object() -> object:  ...\r\n# -> Exception clause not allowed for function returning Python object\r\n```\r\n\r\n```\r\n@cython.cfunc\r\ndef get_str() -> str:  ...\r\n# -> Exception clause not allowed for function returning Python object\r\n```\r\n\r\n\r\nAlso returning None gives a different error:\r\n\r\n```\r\n@cython.ccall\r\ndef do_something_without_return() -> None:  ...\r\n# -> Not a type\r\n```\r\n\r\n which makes it not compatible with typed python even with just builtin types. If returning None is redundant, can cython just ignore it? or alias it to a cython void / NULL? (Should this be a separate issue?)",
            "created_at": "2018-10-18T16:48:13Z",
            "html_url": "https://github.com/cython/cython/issues/2529#issuecomment-431081856",
            "id": 431081856,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2529",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQzMTA4MTg1Ng==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 2,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/431081856/reactions"
            },
            "updated_at": "2018-10-18T16:54:31Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/431081856",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/22235459?v=4",
                "events_url": "https://api.github.com/users/Yobmod/events{/privacy}",
                "followers_url": "https://api.github.com/users/Yobmod/followers",
                "following_url": "https://api.github.com/users/Yobmod/following{/other_user}",
                "gists_url": "https://api.github.com/users/Yobmod/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Yobmod",
                "id": 22235459,
                "login": "Yobmod",
                "node_id": "MDQ6VXNlcjIyMjM1NDU5",
                "organizations_url": "https://api.github.com/users/Yobmod/orgs",
                "received_events_url": "https://api.github.com/users/Yobmod/received_events",
                "repos_url": "https://api.github.com/users/Yobmod/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Yobmod/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Yobmod/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Yobmod"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "@Yobmod It looks like that there is a workaround for `-> object` case: If we add a decorator `@cython.exceptval(check=False)` it works fine. The generated code still checks the return value for exceptions. ",
            "created_at": "2019-12-04T01:01:01Z",
            "html_url": "https://github.com/cython/cython/issues/2529#issuecomment-561427009",
            "id": 561427009,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2529",
            "node_id": "MDEyOklzc3VlQ29tbWVudDU2MTQyNzAwOQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 1,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/561427009/reactions"
            },
            "updated_at": "2019-12-04T01:01:01Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/561427009",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/3925065?v=4",
                "events_url": "https://api.github.com/users/black-square/events{/privacy}",
                "followers_url": "https://api.github.com/users/black-square/followers",
                "following_url": "https://api.github.com/users/black-square/following{/other_user}",
                "gists_url": "https://api.github.com/users/black-square/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/black-square",
                "id": 3925065,
                "login": "black-square",
                "node_id": "MDQ6VXNlcjM5MjUwNjU=",
                "organizations_url": "https://api.github.com/users/black-square/orgs",
                "received_events_url": "https://api.github.com/users/black-square/received_events",
                "repos_url": "https://api.github.com/users/black-square/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/black-square/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/black-square/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/black-square"
            }
        },
        {
            "author_association": "NONE",
            "body": "@Yobmod  I'm encountering this too.",
            "created_at": "2020-07-31T13:51:40Z",
            "html_url": "https://github.com/cython/cython/issues/2529#issuecomment-667130380",
            "id": 667130380,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2529",
            "node_id": "MDEyOklzc3VlQ29tbWVudDY2NzEzMDM4MA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/667130380/reactions"
            },
            "updated_at": "2020-07-31T13:51:40Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/667130380",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5846309?v=4",
                "events_url": "https://api.github.com/users/JesseRMeyer/events{/privacy}",
                "followers_url": "https://api.github.com/users/JesseRMeyer/followers",
                "following_url": "https://api.github.com/users/JesseRMeyer/following{/other_user}",
                "gists_url": "https://api.github.com/users/JesseRMeyer/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/JesseRMeyer",
                "id": 5846309,
                "login": "JesseRMeyer",
                "node_id": "MDQ6VXNlcjU4NDYzMDk=",
                "organizations_url": "https://api.github.com/users/JesseRMeyer/orgs",
                "received_events_url": "https://api.github.com/users/JesseRMeyer/received_events",
                "repos_url": "https://api.github.com/users/JesseRMeyer/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/JesseRMeyer/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/JesseRMeyer/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/JesseRMeyer"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Marking this as a blocker for 3.0 since we're aiming at making the pure Python mode generally usable in that version.",
            "created_at": "2021-07-13T21:44:30Z",
            "html_url": "https://github.com/cython/cython/issues/2529#issuecomment-879423452",
            "id": 879423452,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2529",
            "node_id": "MDEyOklzc3VlQ29tbWVudDg3OTQyMzQ1Mg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/879423452/reactions"
            },
            "updated_at": "2021-07-13T21:44:30Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/879423452",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "It's mention in the [docs](https://cython.readthedocs.io/en/latest/src/tutorial/strings.html#accepting-strings-from-python-code) (or rather inspired by `to_unicode.pyx`), so:\r\n\r\n```python\r\n@cython.cfunc\r\ndef foo(s) -> unicode:\r\n    return unicode(s)\r\n```\r\n\r\ndoesn't work, while this does:\r\n\r\n```cython\r\ncdef unicode foo(s):\r\n    return unicode(s)\r\n```\r\n\r\nAlso\r\n\r\n```python\r\ndef foo(s) -> unicode:\r\n    return unicode(s)\r\n```\r\n\r\ncompiles fine, and to the same code as `pyx`.\r\n\r\nThe same goes with \r\n```python\r\n@cython.cfunc\r\ndef foo(s) -> str:\r\n    return str(s)\r\n```\r\n---\r\n\r\nAll of that shouldn't be a new info, but rather additional use/test cases\r\nThis also should serve as a reminder to come back to the documentation and correct everything when the issue will be fixed.",
            "created_at": "2021-10-09T14:32:06Z",
            "html_url": "https://github.com/cython/cython/issues/2529#issuecomment-939306653",
            "id": 939306653,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2529",
            "node_id": "IC_kwDOABDGAc43_K6d",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/939306653/reactions"
            },
            "updated_at": "2021-10-09T14:51:53Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/939306653",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/52697657?v=4",
                "events_url": "https://api.github.com/users/0dminnimda/events{/privacy}",
                "followers_url": "https://api.github.com/users/0dminnimda/followers",
                "following_url": "https://api.github.com/users/0dminnimda/following{/other_user}",
                "gists_url": "https://api.github.com/users/0dminnimda/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/0dminnimda",
                "id": 52697657,
                "login": "0dminnimda",
                "node_id": "MDQ6VXNlcjUyNjk3NjU3",
                "organizations_url": "https://api.github.com/users/0dminnimda/orgs",
                "received_events_url": "https://api.github.com/users/0dminnimda/received_events",
                "repos_url": "https://api.github.com/users/0dminnimda/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/0dminnimda/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/0dminnimda/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/0dminnimda"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "OK all cases raising exception: `Exception clause not allowed for function returning Python object` are caused by annotating return type as python object:\r\n\r\n```python\r\n@cython.ccall\r\ndef get_rule_month(source: object, default: object='DEC') -> object:\r\n\r\n@cython.cfunc\r\ndef foo(s) -> str:\r\n\r\n@cython.cfunc\r\ndef foo(s) -> unicode:\r\n```\r\netc...\r\n\r\nException is raised here:\r\nhttps://github.com/cython/cython/blob/09cbf492dfcf1ad022e79660d6aec0be3f444244/Cython/Compiler/Nodes.py#L715-L718\r\n\r\nbecause `self.exception_check` is set to `True`.\r\n\r\nThe root cause of it is following (`self.exception_check` is set to `True` based on second item in tuple):\r\nhttps://github.com/cython/cython/blob/09cbf492dfcf1ad022e79660d6aec0be3f444244/Cython/Compiler/ParseTreeTransforms.py#L2508-L2510\r\n\r\nAnd basically it boils down to principle:\r\n1. cython language defaults to no exception checking and hence is not affected by this bug\r\n2. pure python defautls to exception checking and hence by default it causes this bug.\r\n\r\nI have pretty simple solution for this issue, PR will be created.",
            "created_at": "2021-10-29T19:52:32Z",
            "html_url": "https://github.com/cython/cython/issues/2529#issuecomment-955010245",
            "id": 955010245,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2529",
            "node_id": "IC_kwDOABDGAc447EzF",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/955010245/reactions"
            },
            "updated_at": "2021-10-29T19:52:32Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/955010245",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/827060?v=4",
                "events_url": "https://api.github.com/users/matusvalo/events{/privacy}",
                "followers_url": "https://api.github.com/users/matusvalo/followers",
                "following_url": "https://api.github.com/users/matusvalo/following{/other_user}",
                "gists_url": "https://api.github.com/users/matusvalo/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/matusvalo",
                "id": 827060,
                "login": "matusvalo",
                "node_id": "MDQ6VXNlcjgyNzA2MA==",
                "organizations_url": "https://api.github.com/users/matusvalo/orgs",
                "received_events_url": "https://api.github.com/users/matusvalo/received_events",
                "repos_url": "https://api.github.com/users/matusvalo/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/matusvalo/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/matusvalo/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/matusvalo"
            }
        }
    ],
    "comments": 15,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/2529/comments",
    "created_at": "2018-08-03T03:19:18Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": "271d2505675654ce94081d5fcbd09b85757db5fd",
            "commit_url": "https://api.github.com/repos/cython/cython/commits/271d2505675654ce94081d5fcbd09b85757db5fd",
            "created_at": "2018-08-15T11:07:00Z",
            "event": "referenced",
            "id": 1789796097,
            "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE3ODk3OTYwOTc=",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/1789796097"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": "6005320d50f114da754e5dcd7c9d4e2e0a9193a8",
            "commit_url": "https://api.github.com/repos/cython/cython/commits/6005320d50f114da754e5dcd7c9d4e2e0a9193a8",
            "created_at": "2018-08-15T11:07:00Z",
            "event": "referenced",
            "id": 1789796099,
            "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE3ODk3OTYwOTk=",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/1789796099"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": "7bebbddd061fad77765cd77c6a9207b8bda17cc5",
            "commit_url": "https://api.github.com/repos/cython/cython/commits/7bebbddd061fad77765cd77c6a9207b8bda17cc5",
            "created_at": "2018-08-15T13:36:23Z",
            "event": "referenced",
            "id": 1790029417,
            "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE3OTAwMjk0MTc=",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/1790029417"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": "bcdcd9fbad15ab2cfeb5ba5e43b98dba88e9890d",
            "commit_url": "https://api.github.com/repos/cython/cython/commits/bcdcd9fbad15ab2cfeb5ba5e43b98dba88e9890d",
            "created_at": "2018-08-15T13:59:18Z",
            "event": "referenced",
            "id": 1790077743,
            "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE3OTAwNzc3NDM=",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/1790077743"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/22235459?v=4",
                "events_url": "https://api.github.com/users/Yobmod/events{/privacy}",
                "followers_url": "https://api.github.com/users/Yobmod/followers",
                "following_url": "https://api.github.com/users/Yobmod/following{/other_user}",
                "gists_url": "https://api.github.com/users/Yobmod/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Yobmod",
                "id": 22235459,
                "login": "Yobmod",
                "node_id": "MDQ6VXNlcjIyMjM1NDU5",
                "organizations_url": "https://api.github.com/users/Yobmod/orgs",
                "received_events_url": "https://api.github.com/users/Yobmod/received_events",
                "repos_url": "https://api.github.com/users/Yobmod/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Yobmod/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Yobmod/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Yobmod"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2019-12-04T01:01:01Z",
            "event": "mentioned",
            "id": 2852230258,
            "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50Mjg1MjIzMDI1OA==",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/2852230258"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/22235459?v=4",
                "events_url": "https://api.github.com/users/Yobmod/events{/privacy}",
                "followers_url": "https://api.github.com/users/Yobmod/followers",
                "following_url": "https://api.github.com/users/Yobmod/following{/other_user}",
                "gists_url": "https://api.github.com/users/Yobmod/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Yobmod",
                "id": 22235459,
                "login": "Yobmod",
                "node_id": "MDQ6VXNlcjIyMjM1NDU5",
                "organizations_url": "https://api.github.com/users/Yobmod/orgs",
                "received_events_url": "https://api.github.com/users/Yobmod/received_events",
                "repos_url": "https://api.github.com/users/Yobmod/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Yobmod/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Yobmod/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Yobmod"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2019-12-04T01:01:01Z",
            "event": "subscribed",
            "id": 2852230260,
            "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDI4NTIyMzAyNjA=",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/2852230260"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/22235459?v=4",
                "events_url": "https://api.github.com/users/Yobmod/events{/privacy}",
                "followers_url": "https://api.github.com/users/Yobmod/followers",
                "following_url": "https://api.github.com/users/Yobmod/following{/other_user}",
                "gists_url": "https://api.github.com/users/Yobmod/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Yobmod",
                "id": 22235459,
                "login": "Yobmod",
                "node_id": "MDQ6VXNlcjIyMjM1NDU5",
                "organizations_url": "https://api.github.com/users/Yobmod/orgs",
                "received_events_url": "https://api.github.com/users/Yobmod/received_events",
                "repos_url": "https://api.github.com/users/Yobmod/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Yobmod/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Yobmod/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Yobmod"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2020-07-31T13:51:40Z",
            "event": "mentioned",
            "id": 3608615112,
            "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzYwODYxNTExMg==",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/3608615112"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/22235459?v=4",
                "events_url": "https://api.github.com/users/Yobmod/events{/privacy}",
                "followers_url": "https://api.github.com/users/Yobmod/followers",
                "following_url": "https://api.github.com/users/Yobmod/following{/other_user}",
                "gists_url": "https://api.github.com/users/Yobmod/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Yobmod",
                "id": 22235459,
                "login": "Yobmod",
                "node_id": "MDQ6VXNlcjIyMjM1NDU5",
                "organizations_url": "https://api.github.com/users/Yobmod/orgs",
                "received_events_url": "https://api.github.com/users/Yobmod/received_events",
                "repos_url": "https://api.github.com/users/Yobmod/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Yobmod/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Yobmod/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Yobmod"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2020-07-31T13:51:40Z",
            "event": "subscribed",
            "id": 3608615115,
            "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM2MDg2MTUxMTU=",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/3608615115"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2021-07-13T21:42:40Z",
            "event": "labeled",
            "id": 5016411426,
            "label": {
                "color": "444444",
                "name": "defect"
            },
            "node_id": "MDEyOkxhYmVsZWRFdmVudDUwMTY0MTE0MjY=",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/5016411426"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2021-07-13T21:42:40Z",
            "event": "labeled",
            "id": 5016411428,
            "label": {
                "color": "444444",
                "name": "P: blocker"
            },
            "node_id": "MDEyOkxhYmVsZWRFdmVudDUwMTY0MTE0Mjg=",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/5016411428"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2021-07-13T21:42:40Z",
            "event": "labeled",
            "id": 5016411430,
            "label": {
                "color": "444444",
                "name": "Pure Python Mode"
            },
            "node_id": "MDEyOkxhYmVsZWRFdmVudDUwMTY0MTE0MzA=",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/5016411430"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2021-07-13T21:42:46Z",
            "event": "milestoned",
            "id": 5016411783,
            "milestone": {
                "title": "3.0"
            },
            "node_id": "MDE1Ok1pbGVzdG9uZWRFdmVudDUwMTY0MTE3ODM=",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/5016411783"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/2529/events",
    "html_url": "https://github.com/cython/cython/issues/2529",
    "id": 347245131,
    "labels": [
        {
            "color": "444444",
            "default": false,
            "description": null,
            "id": 425553654,
            "name": "defect",
            "node_id": "MDU6TGFiZWw0MjU1NTM2NTQ=",
            "url": "https://api.github.com/repos/cython/cython/labels/defect"
        },
        {
            "color": "444444",
            "default": false,
            "description": null,
            "id": 425557145,
            "name": "P: blocker",
            "node_id": "MDU6TGFiZWw0MjU1NTcxNDU=",
            "url": "https://api.github.com/repos/cython/cython/labels/P:%20blocker"
        },
        {
            "color": "444444",
            "default": false,
            "description": null,
            "id": 425558499,
            "name": "Pure Python Mode",
            "node_id": "MDU6TGFiZWw0MjU1NTg0OTk=",
            "url": "https://api.github.com/repos/cython/cython/labels/Pure%20Python%20Mode"
        }
    ],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/2529/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 474,
        "created_at": "2018-08-18T06:33:08Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
            "events_url": "https://api.github.com/users/scoder/events{/privacy}",
            "followers_url": "https://api.github.com/users/scoder/followers",
            "following_url": "https://api.github.com/users/scoder/following{/other_user}",
            "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/scoder",
            "id": 491659,
            "login": "scoder",
            "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
            "organizations_url": "https://api.github.com/users/scoder/orgs",
            "received_events_url": "https://api.github.com/users/scoder/received_events",
            "repos_url": "https://api.github.com/users/scoder/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/scoder"
        },
        "description": "Goals:\r\n– New version scheme: 3.x instead of 0.x.\r\n– Change default `language_level` from `2` to `3`.\r\n– Change default for `binding` directive from `False` to `True`.\r\n– Fix some Python compatibility issues (if possible, allowing for breaking changes).\r\n",
        "due_on": null,
        "html_url": "https://github.com/cython/cython/milestone/58",
        "id": 3580387,
        "labels_url": "https://api.github.com/repos/cython/cython/milestones/58/labels",
        "node_id": "MDk6TWlsZXN0b25lMzU4MDM4Nw==",
        "number": 58,
        "open_issues": 32,
        "state": "open",
        "title": "3.0",
        "updated_at": "2021-10-29T07:55:59Z",
        "url": "https://api.github.com/repos/cython/cython/milestones/58"
    },
    "node_id": "MDU6SXNzdWUzNDcyNDUxMzE=",
    "number": 2529,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 2,
        "-1": 0,
        "confused": 0,
        "eyes": 1,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 1,
        "total_count": 4,
        "url": "https://api.github.com/repos/cython/cython/issues/2529/reactions"
    },
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "timeline_url": "https://api.github.com/repos/cython/cython/issues/2529/timeline",
    "title": "(@cython.cfunc + Type Annotation) Fragility",
    "updated_at": "2021-10-29T19:52:33Z",
    "url": "https://api.github.com/repos/cython/cython/issues/2529",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/8078968?v=4",
        "events_url": "https://api.github.com/users/jbrockmendel/events{/privacy}",
        "followers_url": "https://api.github.com/users/jbrockmendel/followers",
        "following_url": "https://api.github.com/users/jbrockmendel/following{/other_user}",
        "gists_url": "https://api.github.com/users/jbrockmendel/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/jbrockmendel",
        "id": 8078968,
        "login": "jbrockmendel",
        "node_id": "MDQ6VXNlcjgwNzg5Njg=",
        "organizations_url": "https://api.github.com/users/jbrockmendel/orgs",
        "received_events_url": "https://api.github.com/users/jbrockmendel/received_events",
        "repos_url": "https://api.github.com/users/jbrockmendel/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/jbrockmendel/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jbrockmendel/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/jbrockmendel"
    }
}