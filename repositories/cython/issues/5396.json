{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Describe the bug\n\nWhen cythonize is passed an `include_path` that contains a directory with the following files, it crashes in the following way\r\n\r\nsimon@tek-top /var/tmp/build-root/openSUSE_Tumbleweed-x86_64/home/abuild/rpmbuild/BUILD/python-efl-1.26.0/include âž¤   ls\r\nefl.c_eo.pxd               efl.ecore_input.pxd      efl.edje.pxd              efl.eo.pxd             efl.utils.conversions.pxd\r\nefl.c_ethumb.pxd           efl.ecore.pxd            efl.eina.pxd              efl.ethumb_client.pxd  efl.utils.deprecated.pxd\r\nefl.ecore_con.enums.pxd    efl.ecore_x.pxd          efl.elementary.enums.pxd  efl.ethumb.enums.pxd   efl.utils.logger.pxd\r\nefl.ecore_con.pxd          efl.edje_edit.enums.pxd  efl.elementary.pxd        efl.ethumb.pxd\r\nefl.ecore.enums.pxd        efl.edje_edit.pxd        efl.emotion.enums.pxd     efl.evas.enums.pxd\r\nefl.ecore_input.enums.pxd  efl.edje.enums.pxd       efl.emotion.pxd           efl.evas.pxd\r\n\r\n\r\n[    5s]   File \"/home/abuild/rpmbuild/BUILD/python-efl-1.26.0/setup.py\", line 304, in <module>\r\n[    5s]     ext_modules = cythonize(\r\n[    5s]   File \"/usr/lib64/python3.10/site-packages/Cython/Build/Dependencies.py\", line 985, in cythonize\r\n[    5s]     module_list, module_metadata = create_extension_list(\r\n[    5s]   File \"/usr/lib64/python3.10/site-packages/Cython/Build/Dependencies.py\", line 834, in create_extension_list\r\n[    5s]     kwds = deps.distutils_info(file, aliases, base).values\r\n[    5s]   File \"/usr/lib64/python3.10/site-packages/Cython/Build/Dependencies.py\", line 687, in distutils_info\r\n[    5s]     return (self.transitive_merge(filename, self.distutils_info0, DistutilsInfo.merge)\r\n[    5s]   File \"/usr/lib64/python3.10/site-packages/Cython/Build/Dependencies.py\", line 696, in transitive_merge\r\n[    5s]     return self.transitive_merge_helper(\r\n[    5s]   File \"/usr/lib64/python3.10/site-packages/Cython/Build/Dependencies.py\", line 708, in transitive_merge_helper\r\n[    5s]     for next in outgoing(node):\r\n[    5s]   File \"Cython/Utils.py\", line 129, in Cython.Utils.cached_method.wrapper\r\n[    5s]   File \"/usr/lib64/python3.10/site-packages/Cython/Build/Dependencies.py\", line 609, in cimported_files\r\n[    5s]     pxd_file = self.find_pxd(module, filename)\r\n[    5s]   File \"Cython/Utils.py\", line 129, in Cython.Utils.cached_method.wrapper\r\n[    5s]   File \"/usr/lib64/python3.10/site-packages/Cython/Build/Dependencies.py\", line 590, in find_pxd\r\n[    5s]     pxd = self.context.find_pxd_file(relative, source_file_path=filename)\r\n[    5s]   File \"/usr/lib64/python3.10/site-packages/Cython/Compiler/Main.py\", line 245, in find_pxd_file\r\n[    5s]     pxd = self.search_include_directories(\r\n[    5s]   File \"/usr/lib64/python3.10/site-packages/Cython/Compiler/Main.py\", line 273, in search_include_directories\r\n[    5s]     return search_include_directories(\r\n[    5s]   File \"Cython/Utils.py\", line 90, in Cython.Utils.cached_function.wrapper\r\n[    5s]   File \"/usr/lib64/python3.10/site-packages/Cython/Compiler/Main.py\", line 669, in search_include_directories\r\n[    5s]     warning(pos, \"Dotted filenames ('%s') are deprecated.\"\r\n[    5s]   File \"/usr/lib64/python3.10/site-packages/Cython/Compiler/Errors.py\", line 215, in warning\r\n[    5s]     listing_file = threadlocal.cython_errors_listing_file\r\n[    5s] AttributeError: '_thread._local' object has no attribute 'cython_errors_listing_file'\r\n\r\nA full copy of the setup.py can be found at http://git.enlightenment.org/enlightenment/python-efl/src/branch/master/setup.py and a build log for openSUSE Tumbleweed can be found at https://build.opensuse.org/package/live_build_log/home:simotek:branches:X11:Enlightenment:Factory/python-efl/openSUSE_Tumbleweed/x86_64\n\n### Code to reproduce the behaviour:\n\nAs above\n\n### Expected behaviour\n\nThe code to comple correctly as it did with python3.8\n\n### OS\n\nLinux\n\n### Python version\n\n3.9,3.10,3.11\n\n### Cython version\n\n3.0.0a11\n\n### Additional context\n\n_No response_",
    "closed_at": null,
    "comment_data": [],
    "comments": 0,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/5396/comments",
    "created_at": "2023-04-20T06:23:41Z",
    "event_data": [],
    "events_url": "https://api.github.com/repos/cython/cython/issues/5396/events",
    "html_url": "https://github.com/cython/cython/issues/5396",
    "id": 1676076980,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/5396/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOABDGAc5j5ue0",
    "number": 5396,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/cython/cython/issues/5396/reactions"
    },
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/cython/cython/issues/5396/timeline",
    "title": "[BUG] cythonize crashes when an include directory contains files with extra . characters",
    "updated_at": "2023-04-20T06:23:41Z",
    "url": "https://api.github.com/repos/cython/cython/issues/5396",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/3827011?v=4",
        "events_url": "https://api.github.com/users/simotek/events{/privacy}",
        "followers_url": "https://api.github.com/users/simotek/followers",
        "following_url": "https://api.github.com/users/simotek/following{/other_user}",
        "gists_url": "https://api.github.com/users/simotek/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/simotek",
        "id": 3827011,
        "login": "simotek",
        "node_id": "MDQ6VXNlcjM4MjcwMTE=",
        "organizations_url": "https://api.github.com/users/simotek/orgs",
        "received_events_url": "https://api.github.com/users/simotek/received_events",
        "repos_url": "https://api.github.com/users/simotek/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/simotek/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/simotek/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/simotek"
    }
}