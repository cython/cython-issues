{
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "I'm getting \"Compiler crash in PostParse\" when trying initialize a pointer variable to NULL in a cdef struct, as in this code snippet: https://gist.github.com/LinAGKar/e1d02d73ce6fcbe010b18d6c2592576b\r\n\r\nFull output is as follows:\r\n```\r\n\r\nError compiling Cython file:\r\n------------------------------------------------------------\r\n...\r\ncdef struct S:\r\n        pass\r\n\r\ncdef class X:\r\n        cdef S *y = NULL\r\n     ^\r\n------------------------------------------------------------\r\n\r\ntest.pyx:5:6: Compiler crash in PostParse\r\n\r\nModuleNode.body = StatListNode(test.pyx:1:0)\r\nStatListNode.stats[1] = CClassDefNode(test.pyx:4:5,\r\n    as_name = u'X',\r\n    class_name = u'X',\r\n    module_name = u'',\r\n    visibility = u'private')\r\nCClassDefNode.body = StatListNode(test.pyx:5:6)\r\nStatListNode.stats[0] = CVarDefNode(test.pyx:5:6,\r\n    modifiers = [...]/0,\r\n    visibility = u'private')\r\n\r\nCompiler crash traceback from this point on:\r\n  File \"Cython/Compiler/Visitor.py\", line 180, in Cython.Compiler.Visitor.TreeVisitor._visit\r\n    return handler_method(obj)\r\n  File \"/usr/lib64/python2.7/site-packages/Cython/Compiler/ParseTreeTransforms.py\", line 254, in visit_CVarDefNode\r\n    handler = self.specialattribute_handlers.get(decl.name)\r\nAttributeError: 'CPtrDeclaratorNode' object has no attribute 'name'\r\n```\r\n\r\nNot sure if the code is valid, but it probably shouldn't crash the parser.\r\n\r\nCython 0.27.3, OpenSUSE Leap 15.0",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "CONTRIBUTOR",
            "body": "I reproduced it and can confirm that this bug is present in the latest commit in master (gcc 7.2.0, python 3.6, Ubuntu).",
            "created_at": "2018-06-20T16:25:04Z",
            "html_url": "https://github.com/cython/cython/issues/2383#issuecomment-398811888",
            "id": 398811888,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2383",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODgxMTg4OA==",
            "updated_at": "2018-06-20T16:25:04Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/398811888",
            "user": {
                "avatar_url": "https://avatars1.githubusercontent.com/u/12891691?v=4",
                "events_url": "https://api.github.com/users/gabrieldemarmiesse/events{/privacy}",
                "followers_url": "https://api.github.com/users/gabrieldemarmiesse/followers",
                "following_url": "https://api.github.com/users/gabrieldemarmiesse/following{/other_user}",
                "gists_url": "https://api.github.com/users/gabrieldemarmiesse/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/gabrieldemarmiesse",
                "id": 12891691,
                "login": "gabrieldemarmiesse",
                "node_id": "MDQ6VXNlcjEyODkxNjkx",
                "organizations_url": "https://api.github.com/users/gabrieldemarmiesse/orgs",
                "received_events_url": "https://api.github.com/users/gabrieldemarmiesse/received_events",
                "repos_url": "https://api.github.com/users/gabrieldemarmiesse/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/gabrieldemarmiesse/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/gabrieldemarmiesse/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/gabrieldemarmiesse"
            }
        },
        {
            "author_association": "NONE",
            "body": "I encounter the same error on mac OS. \r\nIt is supposed that NULL pointer initialization is not allowed in Cython?",
            "created_at": "2019-04-29T02:07:23Z",
            "html_url": "https://github.com/cython/cython/issues/2383#issuecomment-487435882",
            "id": 487435882,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2383",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NzQzNTg4Mg==",
            "updated_at": "2019-04-29T02:07:23Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/487435882",
            "user": {
                "avatar_url": "https://avatars3.githubusercontent.com/u/6441333?v=4",
                "events_url": "https://api.github.com/users/ludlows/events{/privacy}",
                "followers_url": "https://api.github.com/users/ludlows/followers",
                "following_url": "https://api.github.com/users/ludlows/following{/other_user}",
                "gists_url": "https://api.github.com/users/ludlows/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ludlows",
                "id": 6441333,
                "login": "ludlows",
                "node_id": "MDQ6VXNlcjY0NDEzMzM=",
                "organizations_url": "https://api.github.com/users/ludlows/orgs",
                "received_events_url": "https://api.github.com/users/ludlows/received_events",
                "repos_url": "https://api.github.com/users/ludlows/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ludlows/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ludlows/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ludlows"
            }
        }
    ],
    "comments": 2,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/2383/comments",
    "created_at": "2018-06-20T13:43:10Z",
    "event_data": [],
    "events_url": "https://api.github.com/repos/cython/cython/issues/2383/events",
    "html_url": "https://github.com/cython/cython/issues/2383",
    "id": 334084640,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/2383/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWUzMzQwODQ2NDA=",
    "number": 2383,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "title": "\"Compiler crash in PostParse\" when initializing pointer in cdef class to NULL",
    "updated_at": "2019-04-29T02:07:23Z",
    "url": "https://api.github.com/repos/cython/cython/issues/2383",
    "user": {
        "avatar_url": "https://avatars3.githubusercontent.com/u/3390621?v=4",
        "events_url": "https://api.github.com/users/LinAGKar/events{/privacy}",
        "followers_url": "https://api.github.com/users/LinAGKar/followers",
        "following_url": "https://api.github.com/users/LinAGKar/following{/other_user}",
        "gists_url": "https://api.github.com/users/LinAGKar/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/LinAGKar",
        "id": 3390621,
        "login": "LinAGKar",
        "node_id": "MDQ6VXNlcjMzOTA2MjE=",
        "organizations_url": "https://api.github.com/users/LinAGKar/orgs",
        "received_events_url": "https://api.github.com/users/LinAGKar/received_events",
        "repos_url": "https://api.github.com/users/LinAGKar/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/LinAGKar/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/LinAGKar/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/LinAGKar"
    }
}