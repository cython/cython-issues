{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "### Describe the bug\n\nI get the following `Cython.Compiler.Errors.CompileError` when trying to compile below minimal code example. The error only happens if fused types are used in both functions and both functions are present. The order of the functions doesn't matter.\r\n\r\n```python-traceback\r\nufunc_fused.pyx:7:11: trying to coerce sequence to ctuple of wrong length, expected 2, got 3\r\nTraceback (most recent call last):\r\n  File \"D:\\ufunc\\setup.py\", line 4, in <module>\r\n    setup(\r\n  File \"X:\\Python312\\Lib\\site-packages\\setuptools\\__init__.py\", line 108, in setup\r\n    return distutils.core.setup(**attrs)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"X:\\Python312\\Lib\\site-packages\\setuptools\\_distutils\\core.py\", line 184, in setup\r\n    return run_commands(dist)\r\n           ^^^^^^^^^^^^^^^^^^\r\n  File \"X:\\Python312\\Lib\\site-packages\\setuptools\\_distutils\\core.py\", line 200, in run_commands\r\n    dist.run_commands()\r\n  File \"X:\\Python312\\Lib\\site-packages\\setuptools\\_distutils\\dist.py\", line 970, in run_commands\r\n    self.run_command(cmd)\r\n  File \"X:\\Python312\\Lib\\site-packages\\setuptools\\dist.py\", line 945, in run_command\r\n    super().run_command(command)\r\n  File \"X:\\Python312\\Lib\\site-packages\\setuptools\\_distutils\\dist.py\", line 989, in run_command\r\n    cmd_obj.run()\r\n  File \"X:\\Python312\\Lib\\site-packages\\setuptools\\command\\build_ext.py\", line 93, in run\r\n    _build_ext.run(self)\r\n  File \"X:\\Python312\\Lib\\site-packages\\setuptools\\_distutils\\command\\build_ext.py\", line 359, in run\r\n    self.build_extensions()\r\n  File \"X:\\Python312\\Lib\\site-packages\\setuptools\\_distutils\\command\\build_ext.py\", line 479, in build_extensions\r\n    self._build_extensions_serial()\r\n  File \"X:\\Python312\\Lib\\site-packages\\setuptools\\_distutils\\command\\build_ext.py\", line 505, in _build_extensions_serial\r\n    self.build_extension(ext)\r\n  File \"X:\\Python312\\Lib\\site-packages\\setuptools\\command\\build_ext.py\", line 254, in build_extension\r\n    _build_ext.build_extension(self, ext)\r\n  File \"X:\\Python312\\Lib\\site-packages\\Cython\\Distutils\\build_ext.py\", line 130, in build_extension\r\n    new_ext = cythonize(\r\n              ^^^^^^^^^^\r\n  File \"X:\\Python312\\Lib\\site-packages\\Cython\\Build\\Dependencies.py\", line 1154, in cythonize\r\n    cythonize_one(*args)\r\n  File \"X:\\Python312\\Lib\\site-packages\\Cython\\Build\\Dependencies.py\", line 1321, in cythonize_one\r\n    raise CompileError(None, pyx_file)\r\nCython.Compiler.Errors.CompileError: ufunc_fused.pyx\r\n```\r\n\r\n> \n\n### Code to reproduce the behaviour:\n\n```cython\r\nfrom cython cimport floating\r\n\r\ncdef (floating, floating) two(floating a):\r\n    return a, a\r\n\r\ncdef (floating, floating, floating) three(floating a):\r\n    return a, a, a\r\n```\r\n\n\n### Expected behaviour\n\nThe code compiles without error.\n\n### OS\n\nWindows\n\n### Python version\n\n3.12.4\n\n### Cython version\n\n3.0.11 and git main branch\n\n### Additional context\n\n_No response_",
    "closed_at": null,
    "comment_data": [],
    "comments": 0,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/6328/comments",
    "created_at": "2024-08-05T22:58:55Z",
    "event_data": [],
    "events_url": "https://api.github.com/repos/cython/cython/issues/6328/events",
    "html_url": "https://github.com/cython/cython/issues/6328",
    "id": 2449611669,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/6328/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOABDGAc6SAhuV",
    "number": 6328,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/cython/cython/issues/6328/reactions"
    },
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/cython/cython/issues/6328/timeline",
    "title": "[BUG] fused types: trying to coerce sequence to ctuple of wrong length",
    "updated_at": "2024-08-05T22:58:55Z",
    "url": "https://api.github.com/repos/cython/cython/issues/6328",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/483428?v=4",
        "events_url": "https://api.github.com/users/cgohlke/events{/privacy}",
        "followers_url": "https://api.github.com/users/cgohlke/followers",
        "following_url": "https://api.github.com/users/cgohlke/following{/other_user}",
        "gists_url": "https://api.github.com/users/cgohlke/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/cgohlke",
        "id": 483428,
        "login": "cgohlke",
        "node_id": "MDQ6VXNlcjQ4MzQyOA==",
        "organizations_url": "https://api.github.com/users/cgohlke/orgs",
        "received_events_url": "https://api.github.com/users/cgohlke/received_events",
        "repos_url": "https://api.github.com/users/cgohlke/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/cgohlke/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/cgohlke/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/cgohlke"
    }
}