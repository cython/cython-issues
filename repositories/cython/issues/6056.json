{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "### Describe the bug\r\n\r\nI've been trying to add some more support for Python Limited API and I ran into one case that I don't know how to handle. There is a part of [ModuleNode.py](https://github.com/cython/cython/blob/master/Cython/Compiler/ModuleNode.py#L3878) where the size of a struct is computed, and there is some logic for mapping objects to other objects when we really need the `sizeof` a different object. The problem I'm observing is that when the core `cpython.type` module is cimported, the code is attempting to do `sizeof(PyTypeObject)` and `alignof(PyTypeObject)`, which is invalid because [the API defines it as only available as an opaque object](https://docs.python.org/3/c-api/type.html#c.PyTypeObject). In other words, its size cannot be determined because at this stage only a declaration is involved, not a definition. I don't really understand this part of the Cython code and would appreciate some pointers on what the right solution here would be.\r\n\r\n### Code to reproduce the behaviour:\r\n\r\n```cython\r\n# test.pyx\r\ncimport cpython.type\r\n```\r\n\r\n```\r\n# setup.py\r\nfrom setuptools import setup, Extension\r\nfrom Cython.Build import cythonize\r\n\r\nsetup(\r\n    ext_modules = cythonize(\r\n        Extension(\r\n            \"test\",\r\n            [\"test.pyx\"],\r\n            define_macros=[(\"Py_LIMITED_API\", \"0x03030000\"), (\"CYTHON_LIMITED_API\", None)]\r\n        )\r\n    )\r\n)\r\n```\r\n\r\nResults in this compilation error:\r\n```\r\ntest.c: In function '__Pyx_modinit_type_import_code':\r\ntest.c:1999:10: error: invalid application of 'sizeof' to incomplete type 'PyTypeObject' {aka 'struct _typeobject'}\r\n 1999 |   sizeof(PyTypeObject), __PYX_GET_STRUCT_ALIGNMENT_3_1_0a0(PyTypeObject),\r\n      |          ^~~~~~~~~~~~\r\ntest.c:1999:60: error: invalid application of '__alignof__' to incomplete type 'PyTypeObject' {aka 'struct _typeobject'}\r\n 1999 |   sizeof(PyTypeObject), __PYX_GET_STRUCT_ALIGNMENT_3_1_0a0(PyTypeObject),\r\n      |                                                            ^~~~~~~~~~~~\r\ntest.c:1442:55: note: in definition of macro '__PYX_GET_STRUCT_ALIGNMENT_3_1_0a0'\r\n 1442 | #define __PYX_GET_STRUCT_ALIGNMENT_3_1_0a0(s) alignof(s)\r\n```\r\n\r\n### Expected behaviour\r\n\r\nThis code should compile. I'm happy to put up a PR with a bit of guidance.\r\n\r\n### OS\r\n\r\nLinux\r\n\r\n### Python version\r\n\r\n3.11.8\r\n\r\n### Cython version\r\n\r\nmaster branch as of https://github.com/cython/cython/commit/05fd757b1161052291785f80863435a38f8d8674\r\n\r\n### Additional context\r\n\r\n_No response_",
    "closed_at": "2024-03-04T08:17:31Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "This'll be fixed in https://github.com/cython/cython/pull/5871 I think",
            "created_at": "2024-03-04T07:03:20Z",
            "html_url": "https://github.com/cython/cython/issues/6056#issuecomment-1975860741",
            "id": 1975860741,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/6056",
            "node_id": "IC_kwDOABDGAc51xT4F",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1975860741/reactions"
            },
            "updated_at": "2024-03-04T07:03:20Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1975860741",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "The current limited API PRs are sufficient to get Cython itself to compile so it'll actually be in a pretty usable state when those are all finished.\r\n\r\nhttps://github.com/cython/cython/pulls?q=is%3Apr+is%3Aopen+sort%3Aupdated-desc+label%3A%22limited+api%22",
            "created_at": "2024-03-04T07:05:01Z",
            "html_url": "https://github.com/cython/cython/issues/6056#issuecomment-1975862582",
            "id": 1975862582,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/6056",
            "node_id": "IC_kwDOABDGAc51xUU2",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1975862582/reactions"
            },
            "updated_at": "2024-03-04T07:06:58Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1975862582",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Duplicate of https://github.com/cython/cython/issues/5634",
            "created_at": "2024-03-04T08:17:31Z",
            "html_url": "https://github.com/cython/cython/issues/6056#issuecomment-1975969490",
            "id": 1975969490,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/6056",
            "node_id": "IC_kwDOABDGAc51xubS",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1975969490/reactions"
            },
            "updated_at": "2024-03-04T08:17:31Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1975969490",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Ah I'm sorry It took me long enough to zero in on the exact error that I didn't have the presence of mind to check for duplicates once I'd come up with a true MWE. Glad to see the progress, though! Looking forward to those PRs getting in. I'll look through them and see if all my local changes are covered; if not, I can submit a PR with what remains.",
            "created_at": "2024-03-04T23:44:35Z",
            "html_url": "https://github.com/cython/cython/issues/6056#issuecomment-1977663398",
            "id": 1977663398,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/6056",
            "node_id": "IC_kwDOABDGAc514L-m",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1977663398/reactions"
            },
            "updated_at": "2024-03-04T23:44:35Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1977663398",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1538165?v=4",
                "events_url": "https://api.github.com/users/vyasr/events{/privacy}",
                "followers_url": "https://api.github.com/users/vyasr/followers",
                "following_url": "https://api.github.com/users/vyasr/following{/other_user}",
                "gists_url": "https://api.github.com/users/vyasr/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/vyasr",
                "id": 1538165,
                "login": "vyasr",
                "node_id": "MDQ6VXNlcjE1MzgxNjU=",
                "organizations_url": "https://api.github.com/users/vyasr/orgs",
                "received_events_url": "https://api.github.com/users/vyasr/received_events",
                "repos_url": "https://api.github.com/users/vyasr/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/vyasr/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/vyasr/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/vyasr"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Any local changes you have would be welcome - thanks. I'd largely stopped work on the limited API after getting Cython to compile itself because it was getting hard to work and test things in standalone branches.",
            "created_at": "2024-03-05T08:34:55Z",
            "html_url": "https://github.com/cython/cython/issues/6056#issuecomment-1978217042",
            "id": 1978217042,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/6056",
            "node_id": "IC_kwDOABDGAc516TJS",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1978217042/reactions"
            },
            "updated_at": "2024-03-05T08:34:55Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1978217042",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Could you elaborate a bit more on that? Were you running into problems with trying to create modular PRs that addressed specific gaps in the limited API coverage in Cython? I agree, that sounds difficult. IMO the best path forward is likely that once you get your PRs merged we go for a while where people make whatever contributions are needed to get their own projects to compile until coverage increases enough over time that a larger scale effort can be made. In the long run I think the only way for Cython to claim full support is probably running the whole test suite with the limited API on, but that is a heavy ask that is presumably a long ways away.\r\n\r\nSpeaking of which, let me know if there's anything I can do to help your PRs along. Unfortunately they are touching deeper parts of the Cython internals and using more of the Python C API than I have expertise with, but happy to test and I'm hopefully building some expertise by reading through them to let me help in the future.",
            "created_at": "2024-03-06T01:47:50Z",
            "html_url": "https://github.com/cython/cython/issues/6056#issuecomment-1979932344",
            "id": 1979932344,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/6056",
            "node_id": "IC_kwDOABDGAc52A164",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1979932344/reactions"
            },
            "updated_at": "2024-03-06T01:51:45Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1979932344",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1538165?v=4",
                "events_url": "https://api.github.com/users/vyasr/events{/privacy}",
                "followers_url": "https://api.github.com/users/vyasr/followers",
                "following_url": "https://api.github.com/users/vyasr/following{/other_user}",
                "gists_url": "https://api.github.com/users/vyasr/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/vyasr",
                "id": 1538165,
                "login": "vyasr",
                "node_id": "MDQ6VXNlcjE1MzgxNjU=",
                "organizations_url": "https://api.github.com/users/vyasr/orgs",
                "received_events_url": "https://api.github.com/users/vyasr/received_events",
                "repos_url": "https://api.github.com/users/vyasr/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/vyasr/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/vyasr/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/vyasr"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "I opened https://github.com/cython/cython/pull/6061. I checked that it didn't overlap with any of yours (it only overlaps in one file the ModuleSetupCode.c file, but I'm changing different lines than all your PRs I think) so hopefully they can go in independently.",
            "created_at": "2024-03-06T02:33:28Z",
            "html_url": "https://github.com/cython/cython/issues/6056#issuecomment-1979969071",
            "id": 1979969071,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/6056",
            "node_id": "IC_kwDOABDGAc52A-4v",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1979969071/reactions"
            },
            "updated_at": "2024-03-06T02:33:28Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1979969071",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1538165?v=4",
                "events_url": "https://api.github.com/users/vyasr/events{/privacy}",
                "followers_url": "https://api.github.com/users/vyasr/followers",
                "following_url": "https://api.github.com/users/vyasr/following{/other_user}",
                "gists_url": "https://api.github.com/users/vyasr/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/vyasr",
                "id": 1538165,
                "login": "vyasr",
                "node_id": "MDQ6VXNlcjE1MzgxNjU=",
                "organizations_url": "https://api.github.com/users/vyasr/orgs",
                "received_events_url": "https://api.github.com/users/vyasr/received_events",
                "repos_url": "https://api.github.com/users/vyasr/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/vyasr/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/vyasr/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/vyasr"
            }
        },
        {
            "author_association": "MEMBER",
            "body": ">  Could you elaborate a bit more on that?\r\n\r\nIt was mostly about testing meaningfully and finding specific gaps.\r\n\r\nIf the initial work on it I'd created `tests/run/isolated_limited_api.srctree` as a way of testing the little bits that were working.  I think the isolated tests were beginning to outlive their usefulness because it was getting harder to say \"I've fixed this specific feature\". And because some of the PRs depended on other PRs to actually be usable.\r\n\r\n> In the long run I think the only way for Cython to claim full support is probably running the whole test suite with the limited API on, [...]\r\n\r\nYes - we all agree on that. It wasn't really possible to use the full Cython test suite because it was crashing a bit unpredictably (there were/are almost certainly reference counting errors somewhere). Tests failing is OK, but if they crash the test runner doesn't detect it and ends up just timing out.\r\n\r\n> [...] but that is a heavy ask that is presumably a long ways away.\r\n\r\nMy plan for the next thing to do on the limited API was to start turning the tests on. Probably initially going one at a time with a known list of good tests.\r\n\r\n> Speaking of which, let me know if there's anything I can do to help your PRs along.\r\n\r\nAny review would obviously be helpful. At some point I'm going to get a little more pro-active about just merging some of them myself.\r\n\r\nA lot of it is pretty mechanical translation, but some of them have design decisions in that maybe need to be discussed (e.g. #5871 adds ways of conditionally compiling cdef functions. I think that's needed but there might be other ways to solve the underlying problems).\r\n\r\nThe other thing I'm considering is adding a \"limited-api-preview\" branch just containing all the unmerged limited API PRs. That would make it easier for anyone interested to test. (I wouldn't release anything, or keep it strictly updated with \"master\"; it'd just be a branch for anyone interested). I'll do that in a few days - just waiting for one other change before fixing some conflicts.",
            "created_at": "2024-03-06T07:35:51Z",
            "html_url": "https://github.com/cython/cython/issues/6056#issuecomment-1980253179",
            "id": 1980253179,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/6056",
            "node_id": "IC_kwDOABDGAc52CEP7",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1980253179/reactions"
            },
            "updated_at": "2024-03-06T07:35:51Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1980253179",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Sounds good. I am happy to try reviewing, but fair warning that it'll probably be a while before my reviews are of any real use since I have limited familiarity with Cython internals (beyond my limited prior contributions) especially on the actual code genor the Python C API. Neither is particularly hard to pick up on as I go, but I'll probably be starting from a place of asking very naive questions as a reviewer.\r\n\r\nI do think having a limited API preview branch would be helpful, especially if you foresee your open limited API PRs taking a while to get fully reviewed and merged. I'm currently testing in my own local integration branch and then cherry-picking/rebasing commits into more self-contained PRs to upstream because I need some of the fixes in your open PRs in order to be able to test compiling my code with my additional changes.",
            "created_at": "2024-03-13T22:39:55Z",
            "html_url": "https://github.com/cython/cython/issues/6056#issuecomment-1996011793",
            "id": 1996011793,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/6056",
            "node_id": "IC_kwDOABDGAc52-LkR",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1996011793/reactions"
            },
            "updated_at": "2024-03-13T22:39:55Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1996011793",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1538165?v=4",
                "events_url": "https://api.github.com/users/vyasr/events{/privacy}",
                "followers_url": "https://api.github.com/users/vyasr/followers",
                "following_url": "https://api.github.com/users/vyasr/following{/other_user}",
                "gists_url": "https://api.github.com/users/vyasr/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/vyasr",
                "id": 1538165,
                "login": "vyasr",
                "node_id": "MDQ6VXNlcjE1MzgxNjU=",
                "organizations_url": "https://api.github.com/users/vyasr/orgs",
                "received_events_url": "https://api.github.com/users/vyasr/received_events",
                "repos_url": "https://api.github.com/users/vyasr/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/vyasr/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/vyasr/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/vyasr"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Right - as discussed I've created a preview branch - https://github.com/cython/cython/issues/6082\r\n\r\nIt doesn't yet included your in progress PR since I'd like to tidy that up a bit more first.\r\n\r\nHopefully it's of some use.",
            "created_at": "2024-03-16T09:47:53Z",
            "html_url": "https://github.com/cython/cython/issues/6056#issuecomment-2001931515",
            "id": 2001931515,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/6056",
            "node_id": "IC_kwDOABDGAc53Uwz7",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/2001931515/reactions"
            },
            "updated_at": "2024-03-16T09:47:53Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/2001931515",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Great thanks! That is helpful. And I agree, no need to merge my branch yet. We can get that cleaned up and finalized first.",
            "created_at": "2024-03-17T17:10:13Z",
            "html_url": "https://github.com/cython/cython/issues/6056#issuecomment-2002542248",
            "id": 2002542248,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/6056",
            "node_id": "IC_kwDOABDGAc53XF6o",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/2002542248/reactions"
            },
            "updated_at": "2024-03-17T17:10:13Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/2002542248",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1538165?v=4",
                "events_url": "https://api.github.com/users/vyasr/events{/privacy}",
                "followers_url": "https://api.github.com/users/vyasr/followers",
                "following_url": "https://api.github.com/users/vyasr/following{/other_user}",
                "gists_url": "https://api.github.com/users/vyasr/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/vyasr",
                "id": 1538165,
                "login": "vyasr",
                "node_id": "MDQ6VXNlcjE1MzgxNjU=",
                "organizations_url": "https://api.github.com/users/vyasr/orgs",
                "received_events_url": "https://api.github.com/users/vyasr/received_events",
                "repos_url": "https://api.github.com/users/vyasr/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/vyasr/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/vyasr/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/vyasr"
            }
        }
    ],
    "comments": 11,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/6056/comments",
    "created_at": "2024-03-03T22:26:13Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2024-03-04T08:17:31Z",
            "event": "marked_as_duplicate",
            "id": 11994966062,
            "node_id": "MADE_lADOABDGAc6BFGYqzwAAAALK9Kgu",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/11994966062"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2024-03-04T08:17:31Z",
            "event": "closed",
            "id": 11994966074,
            "node_id": "CE_lADOABDGAc6BFGYqzwAAAALK9Kg6",
            "performed_via_github_app": null,
            "state_reason": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/11994966074"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2024-03-04T08:17:40Z",
            "event": "labeled",
            "id": 11994967969,
            "label": {
                "color": "444444",
                "name": "R: duplicate"
            },
            "node_id": "LE_lADOABDGAc6BFGYqzwAAAALK9K-h",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/11994967969"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/6056/events",
    "html_url": "https://github.com/cython/cython/issues/6056",
    "id": 2165597738,
    "labels": [
        {
            "color": "444444",
            "default": false,
            "description": null,
            "id": 425556894,
            "name": "R: duplicate",
            "node_id": "MDU6TGFiZWw0MjU1NTY4OTQ=",
            "url": "https://api.github.com/repos/cython/cython/labels/R:%20duplicate"
        }
    ],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/6056/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOABDGAc6BFGYq",
    "number": 6056,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/cython/cython/issues/6056/reactions"
    },
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/cython/cython/issues/6056/timeline",
    "title": "[BUG] Enabling limited API attempts to take the size of an opaque object",
    "updated_at": "2024-03-17T17:10:14Z",
    "url": "https://api.github.com/repos/cython/cython/issues/6056",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/1538165?v=4",
        "events_url": "https://api.github.com/users/vyasr/events{/privacy}",
        "followers_url": "https://api.github.com/users/vyasr/followers",
        "following_url": "https://api.github.com/users/vyasr/following{/other_user}",
        "gists_url": "https://api.github.com/users/vyasr/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/vyasr",
        "id": 1538165,
        "login": "vyasr",
        "node_id": "MDQ6VXNlcjE1MzgxNjU=",
        "organizations_url": "https://api.github.com/users/vyasr/orgs",
        "received_events_url": "https://api.github.com/users/vyasr/received_events",
        "repos_url": "https://api.github.com/users/vyasr/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/vyasr/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/vyasr/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/vyasr"
    }
}