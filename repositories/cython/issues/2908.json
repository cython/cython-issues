{
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "```cython\r\ncdef public api char* __stdcall hello(char* url):\r\n    return requests.get(url).text\r\n```\r\ncythonize -a -i -3 a.pyx\r\n\r\nOn this command line, how do I add compiler options and def files?\r\nTo export DLL or so library symbols correctly",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Not sure what you mean, but you are probably on Windows. :)\r\n\r\nYou can set the `CFLAGS` environment variable to pass C compiler arguments. \"def files\" are windows specific, not sure what they do, but you can set them up in the same way you would when compiling a `.c` file.",
            "created_at": "2019-04-30T16:34:56Z",
            "html_url": "https://github.com/cython/cython/issues/2908#issuecomment-488023426",
            "id": 488023426,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2908",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ4ODAyMzQyNg==",
            "updated_at": "2019-04-30T16:34:56Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/488023426",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "That command will generate a C file that you can then use in whatever build system you want to build a Python extension module containing the function you've written. Usually people use distutils, but not always. Because you marked it public, \"hello\" will be automatically marked using \"__declspec(dllexport)\" with Python 2, so no def file should be needed. I don't think the \"public\" symbol exporting machinery works on Python 3 right now though, so if you want to export the actual symbol you'll need to write the def file yourself and be sure to include the module initialization routine. In practice, I'd recommend just using the api declaration. An API header should also be generated since you marked the function as \"api\". You should be able to use that to get roughly the same effect in almost every case. It'll provide you a static pointer to the function even though the function won't be a part of the module's dll interface.",
            "created_at": "2019-04-30T17:47:59Z",
            "html_url": "https://github.com/cython/cython/issues/2908#issuecomment-488048723",
            "id": 488048723,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2908",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ4ODA0ODcyMw==",
            "updated_at": "2019-04-30T17:47:59Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/488048723",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/1847484?v=4",
                "events_url": "https://api.github.com/users/insertinterestingnamehere/events{/privacy}",
                "followers_url": "https://api.github.com/users/insertinterestingnamehere/followers",
                "following_url": "https://api.github.com/users/insertinterestingnamehere/following{/other_user}",
                "gists_url": "https://api.github.com/users/insertinterestingnamehere/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/insertinterestingnamehere",
                "id": 1847484,
                "login": "insertinterestingnamehere",
                "node_id": "MDQ6VXNlcjE4NDc0ODQ=",
                "organizations_url": "https://api.github.com/users/insertinterestingnamehere/orgs",
                "received_events_url": "https://api.github.com/users/insertinterestingnamehere/received_events",
                "repos_url": "https://api.github.com/users/insertinterestingnamehere/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/insertinterestingnamehere/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/insertinterestingnamehere/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/insertinterestingnamehere"
            }
        }
    ],
    "comments": 2,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/2908/comments",
    "created_at": "2019-03-28T23:04:31Z",
    "event_data": [],
    "events_url": "https://api.github.com/repos/cython/cython/issues/2908/events",
    "html_url": "https://github.com/cython/cython/issues/2908",
    "id": 426744239,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/2908/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU0MjY3NDQyMzk=",
    "number": 2908,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "title": "How to export dll symbol",
    "updated_at": "2019-04-30T17:47:59Z",
    "url": "https://api.github.com/repos/cython/cython/issues/2908",
    "user": {
        "avatar_url": "https://avatars1.githubusercontent.com/u/46029824?v=4",
        "events_url": "https://api.github.com/users/crud-boy/events{/privacy}",
        "followers_url": "https://api.github.com/users/crud-boy/followers",
        "following_url": "https://api.github.com/users/crud-boy/following{/other_user}",
        "gists_url": "https://api.github.com/users/crud-boy/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/crud-boy",
        "id": 46029824,
        "login": "crud-boy",
        "node_id": "MDQ6VXNlcjQ2MDI5ODI0",
        "organizations_url": "https://api.github.com/users/crud-boy/orgs",
        "received_events_url": "https://api.github.com/users/crud-boy/received_events",
        "repos_url": "https://api.github.com/users/crud-boy/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/crud-boy/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/crud-boy/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/crud-boy"
    }
}