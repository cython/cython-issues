{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Describe the bug\r\n\r\nI upgraded Cython to version 3.0.0b2 today from 3.0.0a11.\r\n3.0 Ì‡0a11 works fine, but when I try to import any module.py file (that exists in the same directory) I get the error in the title.\r\nSpecifically 'import config' in my case with a Python file existing called config.py.\r\n\r\n### Code to reproduce the behaviour:\r\n\r\nmodule.py:\r\n```cython\r\nprint(123)\r\n```\r\n\r\nmain.pyx\r\n```cython\r\nimport module\r\n```\r\n\r\n\r\n### Expected behaviour\r\n\r\n_No response_\r\n\r\n### OS\r\n\r\nDebian 12 (WSL)\r\n\r\n### Python version\r\n\r\n3.11.2\r\n\r\n### Cython version\r\n\r\n3.0.0b2\r\n\r\n### Additional context\r\n\r\nI noticed there was another similar bug report to this mentioning trying to import encodings here https://github.com/cython/cython/issues/5218#issuecomment-1397414894 but in my case it's a custom module that in fact exists in the same directory.\r\nI am using --embed as well and I'm compiling the standalone using g++ manually, not using distutils.\r\nThis method has been practically faultfree for years though.\r\nAnd if that's \"not something I'm supposed to do\" with these beta versions then I'm just gonna have to stick with v3.0.0a11 for the rest of my life. :/",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "What happens if you set the PYTHONPATH env variable to include the current directory (or \".\") explicitly?\n",
            "created_at": "2023-04-16T05:35:32Z",
            "html_url": "https://github.com/cython/cython/issues/5387#issuecomment-1510085459",
            "id": 1510085459,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/5387",
            "node_id": "IC_kwDOABDGAc5aAhNT",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1510085459/reactions"
            },
            "updated_at": "2023-04-16T05:35:32Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1510085459",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "author_association": "NONE",
            "body": "> What happens if you set the PYTHONPATH env variable to include the current directory (or \".\") explicitly?\r\n\r\nSame error. I tried '.' and the full path with or without a ';' at the end, neither did anything.\r\nInterestingly it didn't do anything for Python either, but Python is able to import modules in the same directory, just not outside of its own directory.\r\n```bash\r\necho $PYTHONPATH\r\n> /mnt/c/Users/gamedev33/work/project\r\n./test2.py\r\n> Traceback (most recent call last):\r\n>  File \"/home/john/./test2.py\", line 2, in <module>\r\n>    import config\r\n> ModuleNotFoundError: No module named 'config'\r\ncd /mnt/c/Users/gamedev33/work/project/\r\npython3 -c \"import config\"\r\n> No output\r\n```",
            "created_at": "2023-04-16T12:54:32Z",
            "html_url": "https://github.com/cython/cython/issues/5387#issuecomment-1510372339",
            "id": 1510372339,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/5387",
            "node_id": "IC_kwDOABDGAc5aBnPz",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1510372339/reactions"
            },
            "updated_at": "2023-04-16T12:57:04Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1510372339",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/130873742?v=4",
                "events_url": "https://api.github.com/users/gamedev33/events{/privacy}",
                "followers_url": "https://api.github.com/users/gamedev33/followers",
                "following_url": "https://api.github.com/users/gamedev33/following{/other_user}",
                "gists_url": "https://api.github.com/users/gamedev33/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/gamedev33",
                "id": 130873742,
                "login": "gamedev33",
                "node_id": "U_kgDOB8z5jg",
                "organizations_url": "https://api.github.com/users/gamedev33/orgs",
                "received_events_url": "https://api.github.com/users/gamedev33/received_events",
                "repos_url": "https://api.github.com/users/gamedev33/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/gamedev33/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/gamedev33/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/gamedev33"
            }
        },
        {
            "author_association": "NONE",
            "body": "Edit: Does NOT work with old Python version 3.9.2 either.\r\n@scoder\r\nI thought it worked because it compiled with a segfault (a new bug I just discovered with Cython), forgetting that this current issue happens at runtime.",
            "created_at": "2023-05-21T19:25:57Z",
            "html_url": "https://github.com/cython/cython/issues/5387#issuecomment-1556268033",
            "id": 1556268033,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/5387",
            "node_id": "IC_kwDOABDGAc5cwsQB",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1556268033/reactions"
            },
            "updated_at": "2023-05-21T19:48:03Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1556268033",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/130873742?v=4",
                "events_url": "https://api.github.com/users/gamedev33/events{/privacy}",
                "followers_url": "https://api.github.com/users/gamedev33/followers",
                "following_url": "https://api.github.com/users/gamedev33/following{/other_user}",
                "gists_url": "https://api.github.com/users/gamedev33/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/gamedev33",
                "id": 130873742,
                "login": "gamedev33",
                "node_id": "U_kgDOB8z5jg",
                "organizations_url": "https://api.github.com/users/gamedev33/orgs",
                "received_events_url": "https://api.github.com/users/gamedev33/received_events",
                "repos_url": "https://api.github.com/users/gamedev33/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/gamedev33/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/gamedev33/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/gamedev33"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Might be related to https://github.com/cython/cython/pull/5210",
            "created_at": "2023-05-23T06:29:07Z",
            "html_url": "https://github.com/cython/cython/issues/5387#issuecomment-1558613605",
            "id": 1558613605,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/5387",
            "node_id": "IC_kwDOABDGAc5c5o5l",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1558613605/reactions"
            },
            "updated_at": "2023-05-23T06:29:07Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1558613605",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Could you `print(sys.path)` from within the embedded module to see if `PYTHONPATH` is properly evaluated there?",
            "created_at": "2023-05-23T06:31:14Z",
            "html_url": "https://github.com/cython/cython/issues/5387#issuecomment-1558615617",
            "id": 1558615617,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/5387",
            "node_id": "IC_kwDOABDGAc5c5pZB",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1558615617/reactions"
            },
            "updated_at": "2023-05-23T06:31:14Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1558615617",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "author_association": "NONE",
            "body": "> Could you `print(sys.path)` from within the embedded module to see if `PYTHONPATH` is properly evaluated there?\r\n\r\nSure. I compiled config.py and here's the results:\r\n```python\r\n['/usr/lib/python39.zip', '/usr/lib/python3.9', '/usr/lib/python3.9/lib-dynload', '/home/john/.local/lib/python3.9/site-packages', '/usr/local/lib/python3.9/dist-packages', '/usr/lib/python3/dist-packages']\r\n```\r\n\r\nWhen calling config.py with Python the results are:\r\n```python\r\n['/home/john/dev/python', '/usr/lib/python39.zip', '/usr/lib/python3.9', '/usr/lib/python3.9/lib-dynload', '/home/john/.local/lib/python3.9/site-packages', '/usr/local/lib/python3.9/dist-packages', '/usr/lib/python3/dist-packages']\r\n```\r\n/home/john/dev/python is the CWD.",
            "created_at": "2023-05-25T14:22:10Z",
            "html_url": "https://github.com/cython/cython/issues/5387#issuecomment-1562999996",
            "id": 1562999996,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/5387",
            "node_id": "IC_kwDOABDGAc5dKXy8",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1562999996/reactions"
            },
            "updated_at": "2023-05-25T14:33:01Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1562999996",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/130873742?v=4",
                "events_url": "https://api.github.com/users/gamedev33/events{/privacy}",
                "followers_url": "https://api.github.com/users/gamedev33/followers",
                "following_url": "https://api.github.com/users/gamedev33/following{/other_user}",
                "gists_url": "https://api.github.com/users/gamedev33/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/gamedev33",
                "id": 130873742,
                "login": "gamedev33",
                "node_id": "U_kgDOB8z5jg",
                "organizations_url": "https://api.github.com/users/gamedev33/orgs",
                "received_events_url": "https://api.github.com/users/gamedev33/received_events",
                "repos_url": "https://api.github.com/users/gamedev33/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/gamedev33/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/gamedev33/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/gamedev33"
            }
        }
    ],
    "comments": 6,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/5387/comments",
    "created_at": "2023-04-15T23:11:59Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2023-05-21T19:48:04Z",
            "event": "mentioned",
            "id": 9296501505,
            "node_id": "MEE_lADOABDGAc5jhBdlzwAAAAIqHVsB",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/9296501505"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2023-05-21T19:48:04Z",
            "event": "subscribed",
            "id": 9296501508,
            "node_id": "SE_lADOABDGAc5jhBdlzwAAAAIqHVsE",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/9296501508"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/5387/events",
    "html_url": "https://github.com/cython/cython/issues/5387",
    "id": 1669601125,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/5387/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOABDGAc5jhBdl",
    "number": 5387,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/cython/cython/issues/5387/reactions"
    },
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/cython/cython/issues/5387/timeline",
    "title": "[BUG] ModuleNotFoundError: No module name [yourmodule]",
    "updated_at": "2023-05-25T14:33:01Z",
    "url": "https://api.github.com/repos/cython/cython/issues/5387",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/130873742?v=4",
        "events_url": "https://api.github.com/users/gamedev33/events{/privacy}",
        "followers_url": "https://api.github.com/users/gamedev33/followers",
        "following_url": "https://api.github.com/users/gamedev33/following{/other_user}",
        "gists_url": "https://api.github.com/users/gamedev33/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/gamedev33",
        "id": 130873742,
        "login": "gamedev33",
        "node_id": "U_kgDOB8z5jg",
        "organizations_url": "https://api.github.com/users/gamedev33/orgs",
        "received_events_url": "https://api.github.com/users/gamedev33/received_events",
        "repos_url": "https://api.github.com/users/gamedev33/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/gamedev33/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/gamedev33/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/gamedev33"
    }
}