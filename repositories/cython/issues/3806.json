{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "**Describe the bug**\r\n\r\nCurrently it does not appear to be possible to assign a `tuple` (or other sequence) to a Cython `struct`. It would be useful to perform this kind of assignment for succinctness.  It also aligns with the behavior of [`ctuple`s]( https://cython.readthedocs.io/en/latest/src/userguide/language_basics.html?highlight=ctuple#types ), which also use `struct`s under-the-hood.\r\n\r\n**To Reproduce**\r\n\r\nCode to reproduce the behavior:\r\n\r\n```cython\r\ncdef struct bar_t:\r\n    double d\r\n    int i\r\n\r\ncdef bar_t bar = (3.0, 2)  # <--- compiler error here\r\n```\r\n\r\n1st Workaround (use `dict`):\r\n\r\n```cython\r\ncdef struct bar_t:\r\n    double d\r\n    int i\r\n\r\ncdef bar_t bar = {\"d\": 3.0, \"i\": 2}\r\n```\r\n\r\n2nd Workaround (use `ctuple`):\r\n\r\n```cython\r\nctypedef (double, int) bar_t\r\n\r\ncdef bar_t bar = (3.0, 2)\r\n```\r\n\r\n**Expected behavior**\r\n\r\nIt would be useful to allow sequences (like `tuple`s) to be coerced to `struct`s analogous to how `ctuple`s allow this behavior.\r\n\r\n**Environment (please complete the following information):**\r\n - OS: macOS\r\n - Python version 3.8.5\r\n - Cython version 0.29.21\r\n\r\n**Additional context**\r\n\r\nNA",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "You can already write\r\n```cython\r\nb = bar_t(3.0, 2)\r\n```\r\n\r\nThis request seems reasonable for non-literals, though. C structs have ordered attributes, we can allow an assignment from an ordered iterable, similar to how we support assignments from dicts. But it would also mean that we'd have to generate a lot more code for a simple statement like\r\n```cython\r\ncdef bar_t b = x\r\n```\r\nsince we can't know whether `x` will be an iterable, sequence or dict at runtime. So we'd end up having to support all three in the C code (or, at least two, but sequences are faster than iterables, so we'd still want all three). Difficult to say if that is worth it.",
            "created_at": "2020-09-03T19:50:50Z",
            "html_url": "https://github.com/cython/cython/issues/3806#issuecomment-686720393",
            "id": 686720393,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/3806",
            "node_id": "MDEyOklzc3VlQ29tbWVudDY4NjcyMDM5Mw==",
            "performed_via_github_app": null,
            "updated_at": "2020-09-03T19:50:50Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/686720393",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Yeah in the use case where this came up, we know there is a `tuple`, but we don't know its contents. So I suppose we could do things like this...\r\n\r\n```cython\r\ncdef tuple o = ...\r\ncdef bar_t v = bar_t(o[0], o[1])\r\n```\r\n\r\nWound up going with something like this for now...\r\n\r\n```cython\r\ncdef tuple o = ...\r\ncdef bar_t v\r\nv.d, v.i = o\r\n```",
            "created_at": "2020-09-03T20:18:43Z",
            "html_url": "https://github.com/cython/cython/issues/3806#issuecomment-686732677",
            "id": 686732677,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/3806",
            "node_id": "MDEyOklzc3VlQ29tbWVudDY4NjczMjY3Nw==",
            "performed_via_github_app": null,
            "updated_at": "2020-09-03T20:18:43Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/686732677",
            "user": {
                "avatar_url": "https://avatars1.githubusercontent.com/u/3019665?v=4",
                "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
                "followers_url": "https://api.github.com/users/jakirkham/followers",
                "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
                "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jakirkham",
                "id": 3019665,
                "login": "jakirkham",
                "node_id": "MDQ6VXNlcjMwMTk2NjU=",
                "organizations_url": "https://api.github.com/users/jakirkham/orgs",
                "received_events_url": "https://api.github.com/users/jakirkham/received_events",
                "repos_url": "https://api.github.com/users/jakirkham/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jakirkham"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "What about potentially supporting `bar_t(*iterable)` or `bar_t(**dict)`? Then you can explicitly request either conversion type.",
            "created_at": "2020-09-03T21:25:13Z",
            "html_url": "https://github.com/cython/cython/issues/3806#issuecomment-686772536",
            "id": 686772536,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/3806",
            "node_id": "MDEyOklzc3VlQ29tbWVudDY4Njc3MjUzNg==",
            "performed_via_github_app": null,
            "updated_at": "2020-09-03T21:25:13Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/686772536",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/8453732?v=4",
                "events_url": "https://api.github.com/users/TeamSpen210/events{/privacy}",
                "followers_url": "https://api.github.com/users/TeamSpen210/followers",
                "following_url": "https://api.github.com/users/TeamSpen210/following{/other_user}",
                "gists_url": "https://api.github.com/users/TeamSpen210/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/TeamSpen210",
                "id": 8453732,
                "login": "TeamSpen210",
                "node_id": "MDQ6VXNlcjg0NTM3MzI=",
                "organizations_url": "https://api.github.com/users/TeamSpen210/orgs",
                "received_events_url": "https://api.github.com/users/TeamSpen210/received_events",
                "repos_url": "https://api.github.com/users/TeamSpen210/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/TeamSpen210/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/TeamSpen210/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/TeamSpen210"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Yeah those would be good as well. The first doesnâ€™t work today though the latter works just through assignment as noted in the OP.",
            "created_at": "2020-09-03T21:56:37Z",
            "html_url": "https://github.com/cython/cython/issues/3806#issuecomment-686784426",
            "id": 686784426,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/3806",
            "node_id": "MDEyOklzc3VlQ29tbWVudDY4Njc4NDQyNg==",
            "performed_via_github_app": null,
            "updated_at": "2020-09-03T21:56:37Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/686784426",
            "user": {
                "avatar_url": "https://avatars1.githubusercontent.com/u/3019665?v=4",
                "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
                "followers_url": "https://api.github.com/users/jakirkham/followers",
                "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
                "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jakirkham",
                "id": 3019665,
                "login": "jakirkham",
                "node_id": "MDQ6VXNlcjMwMTk2NjU=",
                "organizations_url": "https://api.github.com/users/jakirkham/orgs",
                "received_events_url": "https://api.github.com/users/jakirkham/received_events",
                "repos_url": "https://api.github.com/users/jakirkham/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jakirkham"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> What about potentially supporting `bar_t(*iterable)` or `bar_t(**dict)`? Then you can explicitly request either conversion type.\r\n\r\nI think this is a good way to do it, yes. Can probably be done by (internally) spelling out the first argument list as index access with the fixed number of struct fields, and the second as a cast to the struct type (which already works).\r\n\r\nOne issue: for nested structs, sequences that contain themselves sequences would then still fail to assign since there is no way to make their way of conversion explicit. It's equally likely to find a dict in a tuple item as another tuple.",
            "created_at": "2020-09-04T06:01:11Z",
            "html_url": "https://github.com/cython/cython/issues/3806#issuecomment-686929556",
            "id": 686929556,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/3806",
            "node_id": "MDEyOklzc3VlQ29tbWVudDY4NjkyOTU1Ng==",
            "performed_via_github_app": null,
            "updated_at": "2020-09-04T06:01:11Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/686929556",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        }
    ],
    "comments": 5,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/3806/comments",
    "created_at": "2020-09-02T23:34:25Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2020-09-03T19:40:20Z",
            "event": "renamed",
            "id": 3726342144,
            "node_id": "MDE3OlJlbmFtZWRUaXRsZUV2ZW50MzcyNjM0MjE0NA==",
            "performed_via_github_app": null,
            "rename": {
                "from": "[BUG] Assigning `struct` with `tuple`",
                "to": "[ENH] Assigning `struct` with `tuple`"
            },
            "url": "https://api.github.com/repos/cython/cython/issues/events/3726342144"
        },
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2020-09-03T19:41:23Z",
            "event": "labeled",
            "id": 3726346202,
            "label": {
                "color": "444444",
                "name": "Code Generation"
            },
            "node_id": "MDEyOkxhYmVsZWRFdmVudDM3MjYzNDYyMDI=",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/3726346202"
        },
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2020-09-03T19:41:23Z",
            "event": "labeled",
            "id": 3726346203,
            "label": {
                "color": "444444",
                "name": "Cython Language Feature"
            },
            "node_id": "MDEyOkxhYmVsZWRFdmVudDM3MjYzNDYyMDM=",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/3726346203"
        },
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2020-09-03T19:41:23Z",
            "event": "labeled",
            "id": 3726346204,
            "label": {
                "color": "c2e0c6",
                "name": "feature"
            },
            "node_id": "MDEyOkxhYmVsZWRFdmVudDM3MjYzNDYyMDQ=",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/3726346204"
        },
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2020-09-03T19:41:23Z",
            "event": "labeled",
            "id": 3726346206,
            "label": {
                "color": "444444",
                "name": "Type Analysis"
            },
            "node_id": "MDEyOkxhYmVsZWRFdmVudDM3MjYzNDYyMDY=",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/3726346206"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/3806/events",
    "html_url": "https://github.com/cython/cython/issues/3806",
    "id": 691505975,
    "labels": [
        {
            "color": "444444",
            "default": false,
            "description": null,
            "id": 425556330,
            "name": "Code Generation",
            "node_id": "MDU6TGFiZWw0MjU1NTYzMzA=",
            "url": "https://api.github.com/repos/cython/cython/labels/Code%20Generation"
        },
        {
            "color": "444444",
            "default": false,
            "description": null,
            "id": 425559948,
            "name": "Cython Language Feature",
            "node_id": "MDU6TGFiZWw0MjU1NTk5NDg=",
            "url": "https://api.github.com/repos/cython/cython/labels/Cython%20Language%20Feature"
        },
        {
            "color": "444444",
            "default": false,
            "description": null,
            "id": 425558824,
            "name": "Type Analysis",
            "node_id": "MDU6TGFiZWw0MjU1NTg4MjQ=",
            "url": "https://api.github.com/repos/cython/cython/labels/Type%20Analysis"
        },
        {
            "color": "c2e0c6",
            "default": false,
            "description": null,
            "id": 414805463,
            "name": "feature",
            "node_id": "MDU6TGFiZWw0MTQ4MDU0NjM=",
            "url": "https://api.github.com/repos/cython/cython/labels/feature"
        }
    ],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/3806/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU2OTE1MDU5NzU=",
    "number": 3806,
    "performed_via_github_app": null,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "title": "[ENH] Assigning `struct` with `tuple`",
    "updated_at": "2020-09-04T06:01:11Z",
    "url": "https://api.github.com/repos/cython/cython/issues/3806",
    "user": {
        "avatar_url": "https://avatars1.githubusercontent.com/u/3019665?v=4",
        "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
        "followers_url": "https://api.github.com/users/jakirkham/followers",
        "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
        "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/jakirkham",
        "id": 3019665,
        "login": "jakirkham",
        "node_id": "MDQ6VXNlcjMwMTk2NjU=",
        "organizations_url": "https://api.github.com/users/jakirkham/orgs",
        "received_events_url": "https://api.github.com/users/jakirkham/received_events",
        "repos_url": "https://api.github.com/users/jakirkham/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/jakirkham"
    }
}