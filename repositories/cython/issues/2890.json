{
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "Sometimes it is useful to read the C code that is generated from Cython. Unfortuantely, it really looks bad.\r\n\r\nFor example, all variables are prefixed by `__pyx_`? \r\n\r\nSimple for loops, create temporary variables and assign then to the variable that we actually want to iterate over.\r\n\r\n```\r\n  /* \"_shared/interpolation.pxd\":179\r\n * \r\n *     # row-wise cubic interpolation\r\n *     for pr in range(3):             # <<<<<<<<<<<<<<\r\n *         for pc in range(3):\r\n *             fc[pc] = get_pixel2d(image, rows, cols,\r\n */\r\n  for (__pyx_t_1 = 0; __pyx_t_1 < 3; __pyx_t_1+=1) {\r\n    __pyx_v_pr = __pyx_t_1;\r\n```\r\n\r\nIs there a way to make this code more natural?\r\n\r\nIs there a good reason to prefix every single variable?\r\n\r\nThanks for the awesome stuff?",
    "closed_at": "2019-03-09T14:31:05Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "> Is there a good reason to prefix every single variable?\r\n\r\nIt's C, so there is only one global namespace and the function namespaces. We prefix everything in order to prevent collisions with names defined outside of Cython code.\r\n\r\nPersonally, I would say: once you get used to ignoring the prefixes, it's actually not that bad.\r\n\r\n> Is there a way to make this code more natural?\r\n\r\nWell, it's generated code, with the intention of covering several different cases. We often generate more code, and then let the C compiler cut it down again, e.g. when inlining helper functions. It's really good at doing these things. :)\r\n\r\nSpecifically for the case of chained conditions, though, e.g. \"a or b and c or d\", the generated code is often excessively verbose. I wouldn't mind improving that. PR welcome, although also in that case, there are several different code patterns that the generated code covers, so it's not like _everything_ that looks complex can be easily simplified.",
            "created_at": "2019-03-09T06:48:36Z",
            "html_url": "https://github.com/cython/cython/issues/2890#issuecomment-471152052",
            "id": 471152052,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2890",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MTE1MjA1Mg==",
            "updated_at": "2019-03-09T06:48:36Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/471152052",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "author_association": "NONE",
            "body": "gah the global namespace thing makes sense.\r\n\r\nReading the c code is really helpful to understand where things might be optimized, thanks for the reply!!!!",
            "created_at": "2019-03-09T14:31:03Z",
            "html_url": "https://github.com/cython/cython/issues/2890#issuecomment-471182657",
            "id": 471182657,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2890",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MTE4MjY1Nw==",
            "updated_at": "2019-03-09T14:31:03Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/471182657",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/90008?v=4",
                "events_url": "https://api.github.com/users/hmaarrfk/events{/privacy}",
                "followers_url": "https://api.github.com/users/hmaarrfk/followers",
                "following_url": "https://api.github.com/users/hmaarrfk/following{/other_user}",
                "gists_url": "https://api.github.com/users/hmaarrfk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/hmaarrfk",
                "id": 90008,
                "login": "hmaarrfk",
                "node_id": "MDQ6VXNlcjkwMDA4",
                "organizations_url": "https://api.github.com/users/hmaarrfk/orgs",
                "received_events_url": "https://api.github.com/users/hmaarrfk/received_events",
                "repos_url": "https://api.github.com/users/hmaarrfk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/hmaarrfk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/hmaarrfk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/hmaarrfk"
            }
        }
    ],
    "comments": 2,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/2890/comments",
    "created_at": "2019-03-09T06:28:03Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/90008?v=4",
                "events_url": "https://api.github.com/users/hmaarrfk/events{/privacy}",
                "followers_url": "https://api.github.com/users/hmaarrfk/followers",
                "following_url": "https://api.github.com/users/hmaarrfk/following{/other_user}",
                "gists_url": "https://api.github.com/users/hmaarrfk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/hmaarrfk",
                "id": 90008,
                "login": "hmaarrfk",
                "node_id": "MDQ6VXNlcjkwMDA4",
                "organizations_url": "https://api.github.com/users/hmaarrfk/orgs",
                "received_events_url": "https://api.github.com/users/hmaarrfk/received_events",
                "repos_url": "https://api.github.com/users/hmaarrfk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/hmaarrfk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/hmaarrfk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/hmaarrfk"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2019-03-09T14:31:05Z",
            "event": "closed",
            "id": 2191813783,
            "node_id": "MDExOkNsb3NlZEV2ZW50MjE5MTgxMzc4Mw==",
            "url": "https://api.github.com/repos/cython/cython/issues/events/2191813783"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/2890/events",
    "html_url": "https://github.com/cython/cython/issues/2890",
    "id": 419040064,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/2890/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU0MTkwNDAwNjQ=",
    "number": 2890,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "closed",
    "title": "Better readability?",
    "updated_at": "2019-03-09T14:31:05Z",
    "url": "https://api.github.com/repos/cython/cython/issues/2890",
    "user": {
        "avatar_url": "https://avatars0.githubusercontent.com/u/90008?v=4",
        "events_url": "https://api.github.com/users/hmaarrfk/events{/privacy}",
        "followers_url": "https://api.github.com/users/hmaarrfk/followers",
        "following_url": "https://api.github.com/users/hmaarrfk/following{/other_user}",
        "gists_url": "https://api.github.com/users/hmaarrfk/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/hmaarrfk",
        "id": 90008,
        "login": "hmaarrfk",
        "node_id": "MDQ6VXNlcjkwMDA4",
        "organizations_url": "https://api.github.com/users/hmaarrfk/orgs",
        "received_events_url": "https://api.github.com/users/hmaarrfk/received_events",
        "repos_url": "https://api.github.com/users/hmaarrfk/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/hmaarrfk/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/hmaarrfk/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/hmaarrfk"
    }
}