{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Describe the bug\n\nWith the release of Cython 3.0.0, my Cython-dependent project is now giving this error when `coverage xml` is run on GitHub Actions:\r\nFor py39, py310, py311 (all OS, Windows error shown):\r\n```\r\nNo source for code: 'D:\\a\\pycalphad\\pycalphad\\__init__.cython-30.pxd'.\r\n```\r\nFor py37 and py38 (all OS, Windows error shown):\r\n```\r\nNo source for code: 'D:\\a\\pycalphad\\pycalphad\\__init__.pxd'.\r\n```\r\nPrototypical example here: https://github.com/richardotis/pycalphad/actions/runs/5708548169/job/15466332182\r\nThis pxd file does not exist anywhere in the build pipeline, neither in the built wheels nor the source working directory, which I have confirmed with list-dir operations.\r\nDowngrading to 0.29.x makes the error go away, and (according to debug logs) coverage does not detect this spurious file.\n\n### Code to reproduce the behaviour:\n\nNone available unfortunately as I cannot reproduce locally\n\n### Expected behaviour\n\nThis spurious file should not be detected.\n\n### OS\n\nLinux, Windows, and Mac OS\n\n### Python version\n\n3.7, 3.8, 3.9, 3.10, 3.11\n\n### Cython version\n\n3.0.0\n\n### Additional context\n\nI am struggling to reproduce this bug in my local environment, but I'm seeing it on all platforms for CI ( https://github.com/pycalphad/pycalphad/pull/484 ). I am admittedly not sure if this is a bug in Cython's Coverage plugin, or in Coverage.py itself.\r\n\r\nInterestingly, if I adjust to use `Cython<3` as a build dependency in my `pyproject.toml`, so PEP517 wheels are built in an isolated environment with 0.29.x, but leave Cython 3.0.0 in my main environment where `pytest` and `coverage xml` runs (so the 3.0.0 coverage plugin is used for the report generation), the spurious file is not detected and everything works.\r\n\r\nThis is speculation, but I suspect that something in the coverage metadata for the Cython-generated source files (`.cpp`, `.h`, etc) changed between 0.29.x and 3.0.0, and this is causing the Cython coverage plugin to attribute some change in coverage to a non-existent pxd file.\r\n\r\nAgain, everything is working for me in my local development environment, even when I try to follow all steps. If there's a suggestion on how I might be able to piece together a reproducer for GHA, it would be greatly appreciated.",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "As a workaround, you can tell Coverage.py to turn the error into a warning by adding this configuration to `pyproject.toml`:\r\n```toml\r\n[tool.coverage.report]\r\nignore_errors = true\r\n```",
            "created_at": "2023-07-31T23:21:58Z",
            "html_url": "https://github.com/cython/cython/issues/5581#issuecomment-1659338950",
            "id": 1659338950,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/5581",
            "node_id": "IC_kwDOABDGAc5i54DG",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1659338950/reactions"
            },
            "updated_at": "2023-07-31T23:21:58Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1659338950",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6405510?v=4",
                "events_url": "https://api.github.com/users/richardotis/events{/privacy}",
                "followers_url": "https://api.github.com/users/richardotis/followers",
                "following_url": "https://api.github.com/users/richardotis/following{/other_user}",
                "gists_url": "https://api.github.com/users/richardotis/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/richardotis",
                "id": 6405510,
                "login": "richardotis",
                "node_id": "MDQ6VXNlcjY0MDU1MTA=",
                "organizations_url": "https://api.github.com/users/richardotis/orgs",
                "received_events_url": "https://api.github.com/users/richardotis/received_events",
                "repos_url": "https://api.github.com/users/richardotis/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/richardotis/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/richardotis/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/richardotis"
            }
        }
    ],
    "comments": 1,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/5581/comments",
    "created_at": "2023-07-30T23:35:39Z",
    "event_data": [],
    "events_url": "https://api.github.com/repos/cython/cython/issues/5581/events",
    "html_url": "https://github.com/cython/cython/issues/5581",
    "id": 1828128430,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/5581/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOABDGAc5s9wau",
    "number": 5581,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/cython/cython/issues/5581/reactions"
    },
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/cython/cython/issues/5581/timeline",
    "title": "[BUG] Coverage plugin finds non-existent files in Cython 3.0.0",
    "updated_at": "2023-07-31T23:21:58Z",
    "url": "https://api.github.com/repos/cython/cython/issues/5581",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/6405510?v=4",
        "events_url": "https://api.github.com/users/richardotis/events{/privacy}",
        "followers_url": "https://api.github.com/users/richardotis/followers",
        "following_url": "https://api.github.com/users/richardotis/following{/other_user}",
        "gists_url": "https://api.github.com/users/richardotis/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/richardotis",
        "id": 6405510,
        "login": "richardotis",
        "node_id": "MDQ6VXNlcjY0MDU1MTA=",
        "organizations_url": "https://api.github.com/users/richardotis/orgs",
        "received_events_url": "https://api.github.com/users/richardotis/received_events",
        "repos_url": "https://api.github.com/users/richardotis/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/richardotis/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/richardotis/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/richardotis"
    }
}