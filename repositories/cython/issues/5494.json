{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Describe the bug\r\n\r\ni write some cython code to find the largest palindromic between 100 and 999, the parallel version got error code -1160725808 all the time\r\n```\r\n@boundscheck(False)\r\n@wraparound(False)\r\ndef max_palindromic_v3():\r\n    cdef int i, j\r\n    cdef int max_palindromic = 0\r\n    cdef int prod = 0\r\n    for i in prange(100, 1000, nogil=True):\r\n        for j in range(100, 1000):\r\n            prod = i * j\r\n            if is_palindromic_v3(prod) == 1 and prod > max_palindromic:\r\n                max_palindromic = prod\r\n    return max_palindromic\r\n```\r\nwhen i change the code to\r\n```\r\n@boundscheck(False)\r\n@wraparound(False)\r\ndef max_palindromic_v3():\r\n    cdef int i, j\r\n    cdef int max_palindromic = 0\r\n    cdef int prod = 0\r\n    for i in prange(100, 101, nogil=True):\r\n        for j in range(100, 101):\r\n            prod = i * j\r\n            if is_palindromic_v3(prod) == 1 and prod > max_palindromic:\r\n                max_palindromic = prod\r\n    return max_palindromic\r\n```\r\nthe result is suppose to be 0, as it only loop 100*100 which is not palindromic, but still got -1160725808\r\n\r\ni found a similiar [issue ](https://mail.python.org/pipermail/cython-devel/2011-July/001139.html)here, which said it is a gcc 4.5 bug, i compile my code with msvc v143\r\n\r\n### Code to reproduce the behaviour:\r\n\r\n```\r\nfrom cython cimport boundscheck, wraparound\r\nfrom cython.parallel import prange\r\n\r\n\r\ncdef is_palindromic(n):\r\n    cdef str n_str = str(n)\r\n    return n_str == n_str[::-1]\r\n\r\n\r\ncdef is_palindromic_v2(int n):\r\n    cdef int original_n = n\r\n    cdef int reversed_n = 0\r\n    cdef int rem\r\n    while n > 0:\r\n        rem = n % 10\r\n        reversed_n = reversed_n * 10 + rem\r\n        n /= 10\r\n    return original_n == reversed_n\r\n\r\n\r\ncdef int is_palindromic_v3(int n) nogil:\r\n    cdef int original_n = n\r\n    cdef int reversed_n = 0\r\n    cdef int rem\r\n    while n > 0:\r\n        rem = n % 10\r\n        reversed_n = reversed_n * 10 + rem\r\n        n /= 10\r\n    return original_n == reversed_n\r\n\r\n\r\n@boundscheck(False)\r\n@wraparound(False)\r\ndef max_palindromic():\r\n    cdef int max_palindromic = 0\r\n    cdef int i, j, prod\r\n    for i in range(100, 1000):\r\n        for j in range(100, 1000):\r\n            prod = i * j\r\n            if is_palindromic(prod) and prod > max_palindromic:\r\n                max_palindromic = prod\r\n    return max_palindromic\r\n\r\n\r\n@boundscheck(False)\r\n@wraparound(False)\r\ndef max_palindromic_v2():\r\n    cdef int max_palindromic = 0\r\n    cdef int i, j, prod\r\n    for i in range(100, 1000):\r\n        for j in range(100, 1000):\r\n            prod = i * j\r\n            if is_palindromic_v2(prod) and prod > max_palindromic:\r\n                max_palindromic = prod\r\n    return max_palindromic\r\n\r\n\r\n@boundscheck(False)\r\n@wraparound(False)\r\ndef max_palindromic_v3():\r\n    cdef int i, j\r\n    cdef int max_palindromic = 0\r\n    cdef int prod = 0\r\n    for i in prange(100, 1000, nogil=True):\r\n        for j in range(100, 1000):\r\n            prod = i * j\r\n            if is_palindromic_v3(prod) == 1 and prod > max_palindromic:\r\n                max_palindromic = prod\r\n    return max_palindromic\r\n```\r\n\r\n### Expected behaviour\r\n\r\nmax_palindromic_v3 get same result as max_palindromic and max_palindromic_v2, which is 906609\r\n\r\n### OS\r\n\r\nwindows 11\r\n\r\n### Python version\r\n\r\n3.10.11\r\n\r\n### Cython version\r\n\r\n3.0.0b3\r\n\r\n### Additional context\r\n\r\n_No response_\r\n",
    "closed_at": "2023-06-20T17:57:41Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "1. `max_palindromic = prod` - that's a data race\r\n2.  This almost certainly isn't a bug in Cython:\r\n\r\n> I NEED HELP or I have a question/comment\r\n> The [Cython-users mailing list](https://groups.google.com/g/cython-users) is a place to ask and answer support questions.\r\n",
            "created_at": "2023-06-20T17:57:41Z",
            "html_url": "https://github.com/cython/cython/issues/5494#issuecomment-1599259141",
            "id": 1599259141,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/5494",
            "node_id": "IC_kwDOABDGAc5fUsIF",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1599259141/reactions"
            },
            "updated_at": "2023-06-20T17:57:41Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1599259141",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        }
    ],
    "comments": 1,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/5494/comments",
    "created_at": "2023-06-20T07:53:23Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/30603261?v=4",
                "events_url": "https://api.github.com/users/BoundsCheck/events{/privacy}",
                "followers_url": "https://api.github.com/users/BoundsCheck/followers",
                "following_url": "https://api.github.com/users/BoundsCheck/following{/other_user}",
                "gists_url": "https://api.github.com/users/BoundsCheck/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/BoundsCheck",
                "id": 30603261,
                "login": "BoundsCheck",
                "node_id": "MDQ6VXNlcjMwNjAzMjYx",
                "organizations_url": "https://api.github.com/users/BoundsCheck/orgs",
                "received_events_url": "https://api.github.com/users/BoundsCheck/received_events",
                "repos_url": "https://api.github.com/users/BoundsCheck/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/BoundsCheck/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/BoundsCheck/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/BoundsCheck"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2023-06-20T07:53:24Z",
            "event": "mentioned",
            "id": 9576263556,
            "node_id": "MEE_lADOABDGAc5pMZRRzwAAAAI6yi-E",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/9576263556"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/30603261?v=4",
                "events_url": "https://api.github.com/users/BoundsCheck/events{/privacy}",
                "followers_url": "https://api.github.com/users/BoundsCheck/followers",
                "following_url": "https://api.github.com/users/BoundsCheck/following{/other_user}",
                "gists_url": "https://api.github.com/users/BoundsCheck/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/BoundsCheck",
                "id": 30603261,
                "login": "BoundsCheck",
                "node_id": "MDQ6VXNlcjMwNjAzMjYx",
                "organizations_url": "https://api.github.com/users/BoundsCheck/orgs",
                "received_events_url": "https://api.github.com/users/BoundsCheck/received_events",
                "repos_url": "https://api.github.com/users/BoundsCheck/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/BoundsCheck/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/BoundsCheck/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/BoundsCheck"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2023-06-20T07:53:24Z",
            "event": "subscribed",
            "id": 9576263568,
            "node_id": "SE_lADOABDGAc5pMZRRzwAAAAI6yi-Q",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/9576263568"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/17410349?v=4",
                "events_url": "https://api.github.com/users/Wraparound/events{/privacy}",
                "followers_url": "https://api.github.com/users/Wraparound/followers",
                "following_url": "https://api.github.com/users/Wraparound/following{/other_user}",
                "gists_url": "https://api.github.com/users/Wraparound/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Wraparound",
                "id": 17410349,
                "login": "Wraparound",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3NDEwMzQ5",
                "organizations_url": "https://api.github.com/users/Wraparound/orgs",
                "received_events_url": "https://api.github.com/users/Wraparound/received_events",
                "repos_url": "https://api.github.com/users/Wraparound/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Wraparound/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Wraparound/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/Wraparound"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2023-06-20T07:53:24Z",
            "event": "mentioned",
            "id": 9576263590,
            "node_id": "MEE_lADOABDGAc5pMZRRzwAAAAI6yi-m",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/9576263590"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/30603261?v=4",
                "events_url": "https://api.github.com/users/BoundsCheck/events{/privacy}",
                "followers_url": "https://api.github.com/users/BoundsCheck/followers",
                "following_url": "https://api.github.com/users/BoundsCheck/following{/other_user}",
                "gists_url": "https://api.github.com/users/BoundsCheck/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/BoundsCheck",
                "id": 30603261,
                "login": "BoundsCheck",
                "node_id": "MDQ6VXNlcjMwNjAzMjYx",
                "organizations_url": "https://api.github.com/users/BoundsCheck/orgs",
                "received_events_url": "https://api.github.com/users/BoundsCheck/received_events",
                "repos_url": "https://api.github.com/users/BoundsCheck/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/BoundsCheck/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/BoundsCheck/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/BoundsCheck"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2023-06-20T08:44:16Z",
            "event": "unsubscribed",
            "id": 9576800116,
            "node_id": "UE_lADOABDGAc5pMZRRzwAAAAI60l90",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/9576800116"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/17410349?v=4",
                "events_url": "https://api.github.com/users/Wraparound/events{/privacy}",
                "followers_url": "https://api.github.com/users/Wraparound/followers",
                "following_url": "https://api.github.com/users/Wraparound/following{/other_user}",
                "gists_url": "https://api.github.com/users/Wraparound/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Wraparound",
                "id": 17410349,
                "login": "Wraparound",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3NDEwMzQ5",
                "organizations_url": "https://api.github.com/users/Wraparound/orgs",
                "received_events_url": "https://api.github.com/users/Wraparound/received_events",
                "repos_url": "https://api.github.com/users/Wraparound/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Wraparound/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Wraparound/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/Wraparound"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2023-06-20T08:44:16Z",
            "event": "unsubscribed",
            "id": 9576800137,
            "node_id": "UE_lADOABDGAc5pMZRRzwAAAAI60l-J",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/9576800137"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2023-06-20T17:57:41Z",
            "event": "closed",
            "id": 9582648370,
            "node_id": "CE_lADOABDGAc5pMZRRzwAAAAI7K5wy",
            "performed_via_github_app": null,
            "state_reason": "not_planned",
            "url": "https://api.github.com/repos/cython/cython/issues/events/9582648370"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2023-06-20T17:57:52Z",
            "event": "labeled",
            "id": 9582649801,
            "label": {
                "color": "fef2c0",
                "name": "support question"
            },
            "node_id": "LE_lADOABDGAc5pMZRRzwAAAAI7K6HJ",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/9582649801"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/5494/events",
    "html_url": "https://github.com/cython/cython/issues/5494",
    "id": 1764856913,
    "labels": [
        {
            "color": "fef2c0",
            "default": false,
            "description": null,
            "id": 414800623,
            "name": "support question",
            "node_id": "MDU6TGFiZWw0MTQ4MDA2MjM=",
            "url": "https://api.github.com/repos/cython/cython/labels/support%20question"
        }
    ],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/5494/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOABDGAc5pMZRR",
    "number": 5494,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/cython/cython/issues/5494/reactions"
    },
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "closed",
    "state_reason": "not_planned",
    "timeline_url": "https://api.github.com/repos/cython/cython/issues/5494/timeline",
    "title": "[BUG] cython parallelism got error code -1160725808",
    "updated_at": "2023-06-20T17:57:52Z",
    "url": "https://api.github.com/repos/cython/cython/issues/5494",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/23504604?v=4",
        "events_url": "https://api.github.com/users/zhusihan-python/events{/privacy}",
        "followers_url": "https://api.github.com/users/zhusihan-python/followers",
        "following_url": "https://api.github.com/users/zhusihan-python/following{/other_user}",
        "gists_url": "https://api.github.com/users/zhusihan-python/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/zhusihan-python",
        "id": 23504604,
        "login": "zhusihan-python",
        "node_id": "MDQ6VXNlcjIzNTA0NjA0",
        "organizations_url": "https://api.github.com/users/zhusihan-python/orgs",
        "received_events_url": "https://api.github.com/users/zhusihan-python/received_events",
        "repos_url": "https://api.github.com/users/zhusihan-python/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/zhusihan-python/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/zhusihan-python/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/zhusihan-python"
    }
}