{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "I am getting a compiler crash trying to install a python project:\r\n```\r\nCompiler crash traceback from this point on:\r\n  File \"Cython/Compiler/Visitor.py\", line 180, in Cython.Compiler.Visitor.TreeVisitor._visit\r\n  File \"/home/ellie/.local/lib/python3.8/site-packages/Cython/Compiler/Optimize.py\", line 2012, in visit_SimpleCallNode\r\n    function = self.get_constant_value_node(function_name)\r\n  File \"/home/ellie/.local/lib/python3.8/site-packages/Cython/Compiler/Optimize.py\", line 1996, in get_constant_value_node\r\n    if name_node.cf_state.cf_is_null:\r\nAttributeError: 'set' object has no attribute 'cf_is_null'\r\n```\r\nThis is the crashing line:\r\nhttps://github.com/wobblui/wobblui/blob/master/src/wobblui/filedialog.pyx#L365\r\nThis is the version of Cython I'm using:\r\n```\r\n$ pip3 show Cython\r\nName: Cython\r\nVersion: 0.29.20\r\nSummary: The Cython compiler for writing C extensions for the Python language.\r\nHome-page: http://cython.org/\r\nAuthor: Robert Bradshaw, Stefan Behnel, Dag Seljebotn, Greg Ewing, et al.\r\nAuthor-email: cython-devel@python.org\r\nLicense: Apache\r\nLocation: /home/user/.local/lib/python3.8/site-packages\r\nRequires: \r\nRequired-by:\r\n```\r\n\r\nPretty sure it worked with a previous Cython version many months ago, so possibly a regression...? Not sure",
    "closed_at": "2020-06-29T14:54:21Z",
    "comment_data": [
        {
            "author_association": "COLLABORATOR",
            "body": "It definitely looks like a bug. Here's a simplified version of your code that reproduces it:\r\n\r\n```\r\ndef run(done_callback):\r\n    try:\r\n        [] # anything\r\n    finally:\r\n       done_callback()\r\n```\r\n\r\nAs far as I can tell being in the `finally` block is needed for the bug to trigger. If it's in try/except/else/not-in-a-try-block then you don't see it.\r\n\r\n`cf_state` looks to be initially made a `set`, then replaced with a `ControlFlowState` object in `FlowControl.check_definitions`. It seems like in this case it isn't be replaced correctly.\r\n\r\nUnfortunately this is where I'm outsmarted, so I don't think I can fix it.",
            "created_at": "2020-06-28T12:23:03Z",
            "html_url": "https://github.com/cython/cython/issues/3712#issuecomment-650745115",
            "id": 650745115,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/3712",
            "node_id": "MDEyOklzc3VlQ29tbWVudDY1MDc0NTExNQ==",
            "updated_at": "2020-06-28T12:23:26Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/650745115",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "If it works for older versions, then `git bisect` could help to find how this was introduced.",
            "created_at": "2020-06-28T14:59:24Z",
            "html_url": "https://github.com/cython/cython/issues/3712#issuecomment-650775290",
            "id": 650775290,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/3712",
            "node_id": "MDEyOklzc3VlQ29tbWVudDY1MDc3NTI5MA==",
            "updated_at": "2020-06-28T14:59:24Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/650775290",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "author_association": "COLLABORATOR",
            "body": "bbef4d74841b7e979a45d9bbb59c5a1c733a55d7 - which makes sense because it was changing flow-control and finally",
            "created_at": "2020-06-28T15:05:36Z",
            "html_url": "https://github.com/cython/cython/issues/3712#issuecomment-650776369",
            "id": 650776369,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/3712",
            "node_id": "MDEyOklzc3VlQ29tbWVudDY1MDc3NjM2OQ==",
            "updated_at": "2020-06-28T15:05:36Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/650776369",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        }
    ],
    "comments": 3,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/3712/comments",
    "created_at": "2020-06-28T00:50:49Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2020-06-28T12:14:45Z",
            "event": "labeled",
            "id": 3490175196,
            "label": {
                "color": "444444",
                "name": "defect"
            },
            "node_id": "MDEyOkxhYmVsZWRFdmVudDM0OTAxNzUxOTY=",
            "url": "https://api.github.com/repos/cython/cython/issues/events/3490175196"
        },
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "commit_id": "128777007dd09c5bf8a50bf4dcc527d68f6fc249",
            "commit_url": "https://api.github.com/repos/da-woods/cython/commits/128777007dd09c5bf8a50bf4dcc527d68f6fc249",
            "created_at": "2020-06-28T17:45:04Z",
            "event": "referenced",
            "id": 3490532166,
            "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDM0OTA1MzIxNjY=",
            "url": "https://api.github.com/repos/cython/cython/issues/events/3490532166"
        },
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2020-06-29T14:54:21Z",
            "event": "closed",
            "id": 3493137029,
            "node_id": "MDExOkNsb3NlZEV2ZW50MzQ5MzEzNzAyOQ==",
            "url": "https://api.github.com/repos/cython/cython/issues/events/3493137029"
        },
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": "dccf841d9ed0d1bdfb1b3b8bbb66e65d1532b57c",
            "commit_url": "https://api.github.com/repos/cython/cython/commits/dccf841d9ed0d1bdfb1b3b8bbb66e65d1532b57c",
            "created_at": "2020-06-29T14:54:24Z",
            "event": "referenced",
            "id": 3493137253,
            "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDM0OTMxMzcyNTM=",
            "url": "https://api.github.com/repos/cython/cython/issues/events/3493137253"
        },
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": "ee8c3ac4cd5f998a1cff0698e2f48ba648fd84ec",
            "commit_url": "https://api.github.com/repos/cython/cython/commits/ee8c3ac4cd5f998a1cff0698e2f48ba648fd84ec",
            "created_at": "2020-06-29T14:56:29Z",
            "event": "referenced",
            "id": 3493147262,
            "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDM0OTMxNDcyNjI=",
            "url": "https://api.github.com/repos/cython/cython/issues/events/3493147262"
        },
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2020-06-29T17:43:25Z",
            "event": "milestoned",
            "id": 3493829940,
            "milestone": {
                "title": "0.29.21"
            },
            "node_id": "MDE1Ok1pbGVzdG9uZWRFdmVudDM0OTM4Mjk5NDA=",
            "url": "https://api.github.com/repos/cython/cython/issues/events/3493829940"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/3712/events",
    "html_url": "https://github.com/cython/cython/issues/3712",
    "id": 646802518,
    "labels": [
        {
            "color": "444444",
            "default": false,
            "description": null,
            "id": 425553654,
            "name": "defect",
            "node_id": "MDU6TGFiZWw0MjU1NTM2NTQ=",
            "url": "https://api.github.com/repos/cython/cython/labels/defect"
        }
    ],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/3712/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 7,
        "created_at": "2020-06-11T05:59:42Z",
        "creator": {
            "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
            "events_url": "https://api.github.com/users/scoder/events{/privacy}",
            "followers_url": "https://api.github.com/users/scoder/followers",
            "following_url": "https://api.github.com/users/scoder/following{/other_user}",
            "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/scoder",
            "id": 491659,
            "login": "scoder",
            "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
            "organizations_url": "https://api.github.com/users/scoder/orgs",
            "received_events_url": "https://api.github.com/users/scoder/received_events",
            "repos_url": "https://api.github.com/users/scoder/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/scoder"
        },
        "description": "",
        "due_on": null,
        "html_url": "https://github.com/cython/cython/milestone/81",
        "id": 5530362,
        "labels_url": "https://api.github.com/repos/cython/cython/milestones/81/labels",
        "node_id": "MDk6TWlsZXN0b25lNTUzMDM2Mg==",
        "number": 81,
        "open_issues": 4,
        "state": "open",
        "title": "0.29.21",
        "updated_at": "2020-06-30T11:45:42Z",
        "url": "https://api.github.com/repos/cython/cython/milestones/81"
    },
    "node_id": "MDU6SXNzdWU2NDY4MDI1MTg=",
    "number": 3712,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "closed",
    "title": "Compiler crash: `AttributeError: 'set' object has no attribute 'cf_is_null'`",
    "updated_at": "2020-06-29T17:43:25Z",
    "url": "https://api.github.com/repos/cython/cython/issues/3712",
    "user": {
        "avatar_url": "https://avatars1.githubusercontent.com/u/64124388?v=4",
        "events_url": "https://api.github.com/users/ell1e/events{/privacy}",
        "followers_url": "https://api.github.com/users/ell1e/followers",
        "following_url": "https://api.github.com/users/ell1e/following{/other_user}",
        "gists_url": "https://api.github.com/users/ell1e/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/ell1e",
        "id": 64124388,
        "login": "ell1e",
        "node_id": "MDQ6VXNlcjY0MTI0Mzg4",
        "organizations_url": "https://api.github.com/users/ell1e/orgs",
        "received_events_url": "https://api.github.com/users/ell1e/received_events",
        "repos_url": "https://api.github.com/users/ell1e/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/ell1e/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ell1e/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/ell1e"
    }
}