{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Describe the bug\r\n\r\nPip added build isolation, and sadly this broke painless source code dependencies for Cython for cross-project `.pxd` import because now every such dependency needs to be fully built (which if it's Cython can take forever) *again* for each install due to build isolation. Pip has also decided that build isolation is always force-enabled for all packages now, so this makes it impossible to make a Cython package depend on another Cython package for `.pxd` import without causing the user potentially really extreme and untenable build times. There needs to be a way to do this that works in practice, more concretely, how to specify a Cython dep in `pyproject.toml` as a build dependency in a way where the package is put in place for import mechanisms to find it but isn't actually built.\r\n\r\nFrom my previous interactions with the pip developers they're pretty clueless and overwhelmed with finding any way to address this and just won't, so this might require some pushing and suggestions from the Cython project side.\r\n\r\n### Code to reproduce the behaviour:\r\n\r\n1. Make two packages that can be installed via setuptools `setup.py` or similar. One of them, let's call it package A, should have `.pxd` packages that end up being installed (via `MANIFEST.in` or such) into where the final module folder then is in site packages or alike.\r\n\r\n2. Make the other package, package B, then depend on package A by 1. adding to its `setup.py` a mechanism that uses python's standard mechanisms, currently this would be importlib's `importlib.util.find_spec` I believe, to locate package A, then 2. use `cythonize`'s `include_path` option to specify that as a search path for `.pxd` files, then 3. `cimport` some `.pxd` from package A in package B somewhere. Please note you might run into #2886 and somehow need to work around that if your project also uses `.pyx`/`.pxd` for the `__init__.pyx` main module file.\r\n\r\n3. You'll find that you'll need to add package A to package B's `pyproject.toml` as a build dependency or it won't be found with build isolation enabled. But that will also cause package A to be built even when the build may take hours (that's not an exaggeration for what I've run into on some devices). You'll probably also find out like me that there doesn't seem to be any mechanism to avoid this, e.g. some \"this is a build dependency but don't build it itself\" flag in `pyproject.toml`. You'll find that otherwise you'll need to tell end users to use `--no-build-isolation` which they won't understand why they need it, and also it might cause other issues down the line, like less reproducible and clean builds hiding other bugs, etc.\r\n\r\n### Expected behaviour\r\n\r\nThere should be an obvious way how to specify a Cython project as a build dependency in `pyproject.toml` with some standardized flag that e.g. makes all `cythonize` calls a no-op by default or something, or something else that requires as little modifications to be widely supported by Cython projects as possible.\r\n\r\n### OS\r\n\r\nAll OSes affected\r\n\r\n### Python version\r\n\r\nAll Python versions affected if your pip is new enough to enforce build isolation\r\n\r\n### Cython version\r\n\r\nAll Cython versions affected\r\n\r\n### Additional context\r\n\r\n_No response_",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "(Maybe I should note the kind of severity on this. Basically I sunk literal days into trying to make my project not a pain to install that I planned to open-source, a pretty big multiple thousands of lines graphical program of a few years, and I failed. Because I don't want to require pages of extra ways for a normal user to even try to get it running, I gave up on it for now, waiting for the Cython and pip ecosystem to somehow figure out a non-painful way to do this for both the dev and the user where I feel comfortable subjecting others to my code and the process of getting it to run.)",
            "created_at": "2023-09-14T18:10:02Z",
            "html_url": "https://github.com/cython/cython/issues/5701#issuecomment-1719917991",
            "id": 1719917991,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/5701",
            "node_id": "IC_kwDOABDGAc5mg92n",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1719917991/reactions"
            },
            "updated_at": "2023-09-14T18:10:02Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1719917991",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/64124388?v=4",
                "events_url": "https://api.github.com/users/ell1e/events{/privacy}",
                "followers_url": "https://api.github.com/users/ell1e/followers",
                "following_url": "https://api.github.com/users/ell1e/following{/other_user}",
                "gists_url": "https://api.github.com/users/ell1e/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ell1e",
                "id": 64124388,
                "login": "ell1e",
                "node_id": "MDQ6VXNlcjY0MTI0Mzg4",
                "organizations_url": "https://api.github.com/users/ell1e/orgs",
                "received_events_url": "https://api.github.com/users/ell1e/received_events",
                "repos_url": "https://api.github.com/users/ell1e/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ell1e/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ell1e/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ell1e"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Thanks for the report. Let me try to understand what goes wrong here.\r\n\r\n> that will also cause package A to be built even when the build may take hours\r\n\r\nDoesn't pip install the other project as wheel? Or does this only apply to packages that do not provide wheels (for a given architecture)?",
            "created_at": "2023-09-14T18:37:38Z",
            "html_url": "https://github.com/cython/cython/issues/5701#issuecomment-1719954319",
            "id": 1719954319,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/5701",
            "node_id": "IC_kwDOABDGAc5mhGuP",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1719954319/reactions"
            },
            "updated_at": "2023-09-14T18:37:38Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1719954319",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "author_association": "NONE",
            "body": "Thanks for the response! As for wheels, yeah, this is my own stuff and I don't know how to provide wheels. :laughing:  It's also not on pypi. And wheels wouldn't solve it for my own installs of the dev versions to debug stuff, I think.\r\n\r\nAlso, pip hates cross compilation from last time I've tried it since it doesn't seem to understand when it's pointed at using a cross compiler and can't be made to, if I'm not entirely misremembering, which at least from what I've gathered they also intend never to solve (which I think combined with build isolation is a mistake but that's a whole other can of worms and less so connected to Cython), so that alone would get in the way of me ever reliably providing wheels.\r\n\r\nBut if all that means as a result people can't reasonably install it at all without facing potentially hours of extra time and hangs that I really can't put up with myself either when working on it, that's not really a way I can ever dare release this to others. Right now you basically need to specify `--no-build-isolation` and if you don't it breaks, but no regular user is going to understand that, so this is kind of untenable.",
            "created_at": "2023-09-14T18:45:56Z",
            "html_url": "https://github.com/cython/cython/issues/5701#issuecomment-1719965064",
            "id": 1719965064,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/5701",
            "node_id": "IC_kwDOABDGAc5mhJWI",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1719965064/reactions"
            },
            "updated_at": "2023-09-14T18:48:05Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1719965064",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/64124388?v=4",
                "events_url": "https://api.github.com/users/ell1e/events{/privacy}",
                "followers_url": "https://api.github.com/users/ell1e/followers",
                "following_url": "https://api.github.com/users/ell1e/following{/other_user}",
                "gists_url": "https://api.github.com/users/ell1e/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ell1e",
                "id": 64124388,
                "login": "ell1e",
                "node_id": "MDQ6VXNlcjY0MTI0Mzg4",
                "organizations_url": "https://api.github.com/users/ell1e/orgs",
                "received_events_url": "https://api.github.com/users/ell1e/received_events",
                "repos_url": "https://api.github.com/users/ell1e/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ell1e/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ell1e/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ell1e"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Wheels are relatively easy to build with cibuildwheel, e.g. on a Github Actions workflow. See [what Cython does](https://github.com/cython/cython/blob/master/.github/workflows/wheels.yml), for example. You can also cross-compile them for Arm64 and others. That would probably solve your problem, because installing wheels is quick.\r\n\r\nAs for a development workflow, maybe you can get away with not making your own packages (for which you have a local checkout) build dependencies of your project at all, but to just include their pxd directories in your PYTHONPATH, so that Cython can pick them up? You don't really have to build a package with pip while you are locally working on it.",
            "created_at": "2023-09-14T20:06:38Z",
            "html_url": "https://github.com/cython/cython/issues/5701#issuecomment-1720070644",
            "id": 1720070644,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/5701",
            "node_id": "IC_kwDOABDGAc5mhjH0",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1720070644/reactions"
            },
            "updated_at": "2023-09-14T20:06:38Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1720070644",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "author_association": "NONE",
            "body": "Thanks for the idea! I think the problem is that the `setup.py` would need to do that, right? So how would I do that in some friendly maintainable way when I just have the `requirements.txt` entry to pick up?\r\n\r\nI'm not looking to find yet another barely maintainable hack (like the one to work around #2886 ) that for this one even has the potential to make it unbuildable for others. Basically if someone gets it from Github or Gitlab via pip, the install should then work as intended, otherwise I don't see a point in even publishing it, I would consider that a broken package.",
            "created_at": "2023-09-14T20:11:34Z",
            "html_url": "https://github.com/cython/cython/issues/5701#issuecomment-1720077007",
            "id": 1720077007,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/5701",
            "node_id": "IC_kwDOABDGAc5mhkrP",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1720077007/reactions"
            },
            "updated_at": "2023-09-14T20:14:41Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1720077007",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/64124388?v=4",
                "events_url": "https://api.github.com/users/ell1e/events{/privacy}",
                "followers_url": "https://api.github.com/users/ell1e/followers",
                "following_url": "https://api.github.com/users/ell1e/following{/other_user}",
                "gists_url": "https://api.github.com/users/ell1e/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ell1e",
                "id": 64124388,
                "login": "ell1e",
                "node_id": "MDQ6VXNlcjY0MTI0Mzg4",
                "organizations_url": "https://api.github.com/users/ell1e/orgs",
                "received_events_url": "https://api.github.com/users/ell1e/received_events",
                "repos_url": "https://api.github.com/users/ell1e/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ell1e/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ell1e/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ell1e"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Others will probably not have your other packages checked out to build together with those locally. If you provide binary wheels, your users (and collaborators on each single package) will be fine. Probably you as well, as long as you're not making changes to the pxd files compared to what the binary wheels include. If you make change there, you'll have to point Cython to the local directory where you keep the updated versions.",
            "created_at": "2023-09-14T20:23:40Z",
            "html_url": "https://github.com/cython/cython/issues/5701#issuecomment-1720093597",
            "id": 1720093597,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/5701",
            "node_id": "IC_kwDOABDGAc5mhoud",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1720093597/reactions"
            },
            "updated_at": "2023-09-14T20:24:14Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1720093597",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "author_association": "NONE",
            "body": "So is the answer really \"sorry, the package just can't be built normally from source then\"? :cry: \r\n\r\nAs an additional note, I think expecting everyone in this situation to always provide wheels is also not a good way out. This is a pretty niche project so I'll probably not keep up well with releases, but that doesn't mean I want people to have huge trouble getting it to install instead.",
            "created_at": "2023-09-14T20:31:31Z",
            "html_url": "https://github.com/cython/cython/issues/5701#issuecomment-1720105820",
            "id": 1720105820,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/5701",
            "node_id": "IC_kwDOABDGAc5mhrtc",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1720105820/reactions"
            },
            "updated_at": "2023-09-14T20:32:59Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1720105820",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/64124388?v=4",
                "events_url": "https://api.github.com/users/ell1e/events{/privacy}",
                "followers_url": "https://api.github.com/users/ell1e/followers",
                "following_url": "https://api.github.com/users/ell1e/following{/other_user}",
                "gists_url": "https://api.github.com/users/ell1e/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ell1e",
                "id": 64124388,
                "login": "ell1e",
                "node_id": "MDQ6VXNlcjY0MTI0Mzg4",
                "organizations_url": "https://api.github.com/users/ell1e/orgs",
                "received_events_url": "https://api.github.com/users/ell1e/received_events",
                "repos_url": "https://api.github.com/users/ell1e/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ell1e/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ell1e/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ell1e"
            }
        },
        {
            "author_association": "NONE",
            "body": "I thought about this some more, and I think the main problem is that I don't understand why pip rebuilds something from scratch if it's already built and in the site packages. Doing so causes two big issues: 1. it risks for Cython in particular to rebuild with the wrong and not exact matching version causing crashes and corruption if there's e.g. `.pxd` importing going on but then with a binary incompatible variant, 2. it wastes lots of time even for non-Cython stuff, 3. it doesn't achieve anything of use if it was already just built or I can't see what. (There probably is something achieved by this but I just don't get why yet.)\r\n\r\nLike hypothetically, why couldn't it generate a wheel locally (I think it actually does, usually) when that dependency is first installed into site packages, and then just reuse that wheel without rebuilding when inside the build isolation venv for the next thing depending on it? I don't understand that, the blind refetching and rebuilding when the version needed already sits around in the local site packages ready for use.\r\n\r\nI'm probably missing something, but it's all really weird and cumbersome. But hacking around to search `.pxd` from a counter-intuitive third location that is neither `requirements.txt` or `pyproject.toml` manually sure doesn't sound like the correct way to deal with it.\r\n\r\nAnd my apologies for being so confused!",
            "created_at": "2023-09-15T00:11:43Z",
            "html_url": "https://github.com/cython/cython/issues/5701#issuecomment-1720311085",
            "id": 1720311085,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/5701",
            "node_id": "IC_kwDOABDGAc5mid0t",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1720311085/reactions"
            },
            "updated_at": "2023-09-15T00:14:10Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1720311085",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/64124388?v=4",
                "events_url": "https://api.github.com/users/ell1e/events{/privacy}",
                "followers_url": "https://api.github.com/users/ell1e/followers",
                "following_url": "https://api.github.com/users/ell1e/following{/other_user}",
                "gists_url": "https://api.github.com/users/ell1e/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ell1e",
                "id": 64124388,
                "login": "ell1e",
                "node_id": "MDQ6VXNlcjY0MTI0Mzg4",
                "organizations_url": "https://api.github.com/users/ell1e/orgs",
                "received_events_url": "https://api.github.com/users/ell1e/received_events",
                "repos_url": "https://api.github.com/users/ell1e/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ell1e/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ell1e/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ell1e"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Not really a cython issue, maybe we should continue this on the mailing list and not here.\r\n\r\npip is a package manager. It passes the build task on to a build backend, which in your case is setuptools/setup.py. When you tell pip to invoke the backend to build your package, it wants to do so in a reproducible way. That means creating an isolated environment to build in. (You can override this with `--no-build-isolation`). Now if your package has dependencies, and those dependencies are wheels, and your internet connection is OK, this isolation is not that painful: it will download and install a handful of wheels (which pip even caches locally to make it faster next time) and then pass the build task off to the build backend. But if you do not have wheels, pip, as a package manager, will look at the dependencies and build each one separately from source. You cannot really tell pip \"hey, this is a dependency but it is not a package\". If you want something like that, maybe you should not declare dependencies in your pyproject.toml. There are other choices:\r\n- add them to your source tree as a submodule\r\n- use a build system that knows about dependencies like bazel\r\n\r\nSo you have to choose: if you use pip to manage your dependencies, you have to buy into their model. I use \"buy\" intentionally: there is a cost to using the standard.",
            "created_at": "2023-09-15T05:05:23Z",
            "html_url": "https://github.com/cython/cython/issues/5701#issuecomment-1720682673",
            "id": 1720682673,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/5701",
            "node_id": "IC_kwDOABDGAc5mj4ix",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1720682673/reactions"
            },
            "updated_at": "2023-09-15T05:05:23Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1720682673",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/823911?v=4",
                "events_url": "https://api.github.com/users/mattip/events{/privacy}",
                "followers_url": "https://api.github.com/users/mattip/followers",
                "following_url": "https://api.github.com/users/mattip/following{/other_user}",
                "gists_url": "https://api.github.com/users/mattip/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mattip",
                "id": 823911,
                "login": "mattip",
                "node_id": "MDQ6VXNlcjgyMzkxMQ==",
                "organizations_url": "https://api.github.com/users/mattip/orgs",
                "received_events_url": "https://api.github.com/users/mattip/received_events",
                "repos_url": "https://api.github.com/users/mattip/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mattip/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mattip/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mattip"
            }
        },
        {
            "author_association": "NONE",
            "body": "> You cannot really tell pip \"hey, this is a dependency but it is not a package\".\r\n\r\nBut couldn't this be solved? All that would be needed is a `pyproject.toml` flag that tells pip that it should still fetch this, place it somewhere, but just not build it. Or alternatively, to make it not rebuild it if it's already in the site packages but simply copy it over. Or maybe teach setuptools to fetch something picked from a `requirements.txt` line of choice into a folder alike how pip would do it? That's all solutions I can think of.\r\n\r\nThe problem with submodules is it won't match what you have in site packages, and also it won't necessarily match what's in `requirements.txt` or `pyproject.toml`, hence yet again introducing a third confusing non-standard place to configure this, risking using the wrong version and a build with binary incompatible `.pxd` and a whole mess with crashes etc. for people who were predictably caught off-guard.\r\n\r\nThe problem with buying into their model is that pip used to not have build isolation, which is when I started this project. None of this used to be an issue. I honestly currently regret a little using Python & Cython now given how things have developed, but it feels like a fixable state.\r\n\r\nI filed a ticket here because I just hoped Cython developers would have a better idea what exactly would be a good fix on the pip or setuptools side for this. My apologies if that wasn't useful.",
            "created_at": "2023-09-15T06:58:36Z",
            "html_url": "https://github.com/cython/cython/issues/5701#issuecomment-1720774351",
            "id": 1720774351,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/5701",
            "node_id": "IC_kwDOABDGAc5mkO7P",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/issues/comments/1720774351/reactions"
            },
            "updated_at": "2023-09-15T07:09:30Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/1720774351",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/64124388?v=4",
                "events_url": "https://api.github.com/users/ell1e/events{/privacy}",
                "followers_url": "https://api.github.com/users/ell1e/followers",
                "following_url": "https://api.github.com/users/ell1e/following{/other_user}",
                "gists_url": "https://api.github.com/users/ell1e/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ell1e",
                "id": 64124388,
                "login": "ell1e",
                "node_id": "MDQ6VXNlcjY0MTI0Mzg4",
                "organizations_url": "https://api.github.com/users/ell1e/orgs",
                "received_events_url": "https://api.github.com/users/ell1e/received_events",
                "repos_url": "https://api.github.com/users/ell1e/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ell1e/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ell1e/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ell1e"
            }
        }
    ],
    "comments": 10,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/5701/comments",
    "created_at": "2023-09-14T11:29:10Z",
    "event_data": [],
    "events_url": "https://api.github.com/repos/cython/cython/issues/5701/events",
    "html_url": "https://github.com/cython/cython/issues/5701",
    "id": 1896370034,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/5701/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOABDGAc5xCE9y",
    "number": 5701,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/cython/cython/issues/5701/reactions"
    },
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/cython/cython/issues/5701/timeline",
    "title": "[BUG] pip broke painless source code dependencies for Cython, there needs to be a way to do this that works in practice",
    "updated_at": "2023-09-15T07:09:30Z",
    "url": "https://api.github.com/repos/cython/cython/issues/5701",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/64124388?v=4",
        "events_url": "https://api.github.com/users/ell1e/events{/privacy}",
        "followers_url": "https://api.github.com/users/ell1e/followers",
        "following_url": "https://api.github.com/users/ell1e/following{/other_user}",
        "gists_url": "https://api.github.com/users/ell1e/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/ell1e",
        "id": 64124388,
        "login": "ell1e",
        "node_id": "MDQ6VXNlcjY0MTI0Mzg4",
        "organizations_url": "https://api.github.com/users/ell1e/orgs",
        "received_events_url": "https://api.github.com/users/ell1e/received_events",
        "repos_url": "https://api.github.com/users/ell1e/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/ell1e/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ell1e/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/ell1e"
    }
}