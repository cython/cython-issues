{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "**Is your feature request related to a problem? Please describe.**\r\nMany static type checkers have issues finding Cython's stubs.\r\nHere is from running mypy on my current project:\r\n```\r\nerror: Skipping analyzing \"cython\": found module but no type hints or library stubs\r\n```\r\nThe same issue can be seen when using `import Cython as cython`:\r\n```\r\nerror: Skipping analyzing \"Cython\": found module but no type hints or library stubs\r\n```\r\n\r\n**Describe the solution you'd like**\r\nBeing able to take advantage of static type checkers when developing.\r\n\r\n**Additional context**\r\nInspecting my installation of Cython, it doesn't appear that Shadow.pyi is included:\r\n![image](https://user-images.githubusercontent.com/38372706/128610271-81d9f237-65fd-4dda-8973-162c5046b559.png)\r\nThis could have to do with the issues experienced.",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Are you using Cython 3.0?",
            "created_at": "2021-08-07T20:03:39Z",
            "html_url": "https://github.com/cython/cython/issues/4327#issuecomment-894701153",
            "id": 894701153,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4327",
            "node_id": "IC_kwDOABDGAc41VA5h",
            "performed_via_github_app": null,
            "updated_at": "2021-08-07T20:03:39Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/894701153",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> Are you using Cython 3.0?\r\n\r\nIf the problem persists after this comment, we could probably add `.pyi`s to the typeshed repo .. but it seems to be better to limit the solution to this repo. (moreover, we very likely can)",
            "created_at": "2021-08-07T20:49:45Z",
            "html_url": "https://github.com/cython/cython/issues/4327#issuecomment-894705388",
            "id": 894705388,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4327",
            "node_id": "IC_kwDOABDGAc41VB7s",
            "performed_via_github_app": null,
            "updated_at": "2021-08-07T23:32:31Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/894705388",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/52697657?v=4",
                "events_url": "https://api.github.com/users/0dminnimda/events{/privacy}",
                "followers_url": "https://api.github.com/users/0dminnimda/followers",
                "following_url": "https://api.github.com/users/0dminnimda/following{/other_user}",
                "gists_url": "https://api.github.com/users/0dminnimda/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/0dminnimda",
                "id": 52697657,
                "login": "0dminnimda",
                "node_id": "MDQ6VXNlcjUyNjk3NjU3",
                "organizations_url": "https://api.github.com/users/0dminnimda/orgs",
                "received_events_url": "https://api.github.com/users/0dminnimda/received_events",
                "repos_url": "https://api.github.com/users/0dminnimda/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/0dminnimda/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/0dminnimda/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/0dminnimda"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Cython needs to also include a blank `py.typed` file in the package root, to mark it as directly supplying type hints (see [PEP 561](https://www.python.org/dev/peps/pep-0561/#packaging-type-information)). Otherwise type checkers will assume the package doesn't support hinting and look for a seperate stubs package or in typeshed.",
            "created_at": "2021-08-07T21:32:32Z",
            "html_url": "https://github.com/cython/cython/issues/4327#issuecomment-894709012",
            "id": 894709012,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4327",
            "node_id": "IC_kwDOABDGAc41VC0U",
            "performed_via_github_app": null,
            "updated_at": "2021-08-07T21:32:32Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/894709012",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8453732?v=4",
                "events_url": "https://api.github.com/users/TeamSpen210/events{/privacy}",
                "followers_url": "https://api.github.com/users/TeamSpen210/followers",
                "following_url": "https://api.github.com/users/TeamSpen210/following{/other_user}",
                "gists_url": "https://api.github.com/users/TeamSpen210/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/TeamSpen210",
                "id": 8453732,
                "login": "TeamSpen210",
                "node_id": "MDQ6VXNlcjg0NTM3MzI=",
                "organizations_url": "https://api.github.com/users/TeamSpen210/orgs",
                "received_events_url": "https://api.github.com/users/TeamSpen210/received_events",
                "repos_url": "https://api.github.com/users/TeamSpen210/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/TeamSpen210/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/TeamSpen210/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/TeamSpen210"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> Are you using Cython 3.0?\r\n\r\nYes, this is from my venv's Shadow.py file:\r\n```py\r\n# cython.* namespace for pure mode.\r\nfrom __future__ import absolute_import\r\n\r\n__version__ = \"3.0.0a9\"\r\n\r\ntry:\r\n    from __builtin__ import basestring\r\nexcept ImportError:\r\n    basestring = str\r\n```",
            "created_at": "2021-08-07T22:31:37Z",
            "html_url": "https://github.com/cython/cython/issues/4327#issuecomment-894713708",
            "id": 894713708,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4327",
            "node_id": "IC_kwDOABDGAc41VD9s",
            "performed_via_github_app": null,
            "updated_at": "2021-08-07T22:31:37Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/894713708",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/38372706?v=4",
                "events_url": "https://api.github.com/users/Bluenix2/events{/privacy}",
                "followers_url": "https://api.github.com/users/Bluenix2/followers",
                "following_url": "https://api.github.com/users/Bluenix2/following{/other_user}",
                "gists_url": "https://api.github.com/users/Bluenix2/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Bluenix2",
                "id": 38372706,
                "login": "Bluenix2",
                "node_id": "MDQ6VXNlcjM4MzcyNzA2",
                "organizations_url": "https://api.github.com/users/Bluenix2/orgs",
                "received_events_url": "https://api.github.com/users/Bluenix2/received_events",
                "repos_url": "https://api.github.com/users/Bluenix2/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Bluenix2/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Bluenix2/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Bluenix2"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> Cython needs to also include a blank `py.typed` file in the package root, to mark it as directly supplying type hints (see [PEP 561](https://www.python.org/dev/peps/pep-0561/#packaging-type-information)). Otherwise type checkers will assume the package doesn't support hinting and look for a seperate stubs package or in typeshed.\r\n\r\nAdding this to my venv I get a lot of errors, mainly about `cython.cclass`, `cython.declare` and `cython.cfunc` as these are not defined in Shadow.pyi that I copied into my venv.",
            "created_at": "2021-08-07T22:34:48Z",
            "html_url": "https://github.com/cython/cython/issues/4327#issuecomment-894713947",
            "id": 894713947,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4327",
            "node_id": "IC_kwDOABDGAc41VEBb",
            "performed_via_github_app": null,
            "updated_at": "2021-08-07T22:34:48Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/894713947",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/38372706?v=4",
                "events_url": "https://api.github.com/users/Bluenix2/events{/privacy}",
                "followers_url": "https://api.github.com/users/Bluenix2/followers",
                "following_url": "https://api.github.com/users/Bluenix2/following{/other_user}",
                "gists_url": "https://api.github.com/users/Bluenix2/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Bluenix2",
                "id": 38372706,
                "login": "Bluenix2",
                "node_id": "MDQ6VXNlcjM4MzcyNzA2",
                "organizations_url": "https://api.github.com/users/Bluenix2/orgs",
                "received_events_url": "https://api.github.com/users/Bluenix2/received_events",
                "repos_url": "https://api.github.com/users/Bluenix2/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Bluenix2/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Bluenix2/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Bluenix2"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> > Cython needs to also include a blank `py.typed` file in the package root, to mark it as directly supplying type hints (see [PEP 561](https://www.python.org/dev/peps/pep-0561/#packaging-type-information)). Otherwise type checkers will assume the package doesn't support hinting and look for a seperate stubs package or in typeshed.\r\n> \r\n> Adding this to my venv I get a lot of errors, mainly about `cython.cclass`, `cython.declare` and `cython.cfunc` as these are not defined in Shadow.pyi that I copied into my venv.\r\n\r\nIf you define it in `Shadow.pyi`:\r\n```python\r\nclass _EmptyDecoratorAndManager(object):\r\n    def __call__(self, x: _T) -> _T: ...\r\n    def __enter__(self) -> None: ...\r\n    def __exit__(self, exc_type: Any, exc_value: Any, traceback: Any) -> None: ...\r\n\r\ncclass = ccall = cfunc = _EmptyDecoratorAndManager()\r\n\r\ndef declare(t: Optional[Callable[..., _T]] = ..., value: Any = ..., **kwds: Any) -> Optional[_T]: ...\r\n```\r\nWill this solve your errors?",
            "created_at": "2021-08-08T00:05:10Z",
            "html_url": "https://github.com/cython/cython/issues/4327#issuecomment-894720758",
            "id": 894720758,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4327",
            "node_id": "IC_kwDOABDGAc41VFr2",
            "performed_via_github_app": null,
            "updated_at": "2021-08-08T00:12:06Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/894720758",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/52697657?v=4",
                "events_url": "https://api.github.com/users/0dminnimda/events{/privacy}",
                "followers_url": "https://api.github.com/users/0dminnimda/followers",
                "following_url": "https://api.github.com/users/0dminnimda/following{/other_user}",
                "gists_url": "https://api.github.com/users/0dminnimda/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/0dminnimda",
                "id": 52697657,
                "login": "0dminnimda",
                "node_id": "MDQ6VXNlcjUyNjk3NjU3",
                "organizations_url": "https://api.github.com/users/0dminnimda/orgs",
                "received_events_url": "https://api.github.com/users/0dminnimda/received_events",
                "repos_url": "https://api.github.com/users/0dminnimda/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/0dminnimda/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/0dminnimda/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/0dminnimda"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Keep in mind that this typing is only for the python version, there is no promise from me that the same typing will be relevant for the compiled version.",
            "created_at": "2021-08-08T00:10:29Z",
            "html_url": "https://github.com/cython/cython/issues/4327#issuecomment-894721378",
            "id": 894721378,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4327",
            "node_id": "IC_kwDOABDGAc41VF1i",
            "performed_via_github_app": null,
            "updated_at": "2021-08-08T00:10:29Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/894721378",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/52697657?v=4",
                "events_url": "https://api.github.com/users/0dminnimda/events{/privacy}",
                "followers_url": "https://api.github.com/users/0dminnimda/followers",
                "following_url": "https://api.github.com/users/0dminnimda/following{/other_user}",
                "gists_url": "https://api.github.com/users/0dminnimda/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/0dminnimda",
                "id": 52697657,
                "login": "0dminnimda",
                "node_id": "MDQ6VXNlcjUyNjk3NjU3",
                "organizations_url": "https://api.github.com/users/0dminnimda/orgs",
                "received_events_url": "https://api.github.com/users/0dminnimda/received_events",
                "repos_url": "https://api.github.com/users/0dminnimda/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/0dminnimda/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/0dminnimda/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/0dminnimda"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "This seems a perfect \"first issue\" to me. PR welcome that adds the missing type declarations from `Shadow.py` to `Shadow.pyi`.",
            "created_at": "2021-08-08T08:23:08Z",
            "html_url": "https://github.com/cython/cython/issues/4327#issuecomment-894762072",
            "id": 894762072,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/4327",
            "node_id": "IC_kwDOABDGAc41VPxY",
            "performed_via_github_app": null,
            "updated_at": "2021-08-08T08:23:08Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/894762072",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        }
    ],
    "comments": 8,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/4327/comments",
    "created_at": "2021-08-07T18:20:14Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2021-08-08T08:23:35Z",
            "event": "labeled",
            "id": 5126420322,
            "label": {
                "color": "444444",
                "name": "defect"
            },
            "node_id": "MDEyOkxhYmVsZWRFdmVudDUxMjY0MjAzMjI=",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/5126420322"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2021-08-08T08:23:35Z",
            "event": "labeled",
            "id": 5126420324,
            "label": {
                "color": "1d76db",
                "name": "good first issue"
            },
            "node_id": "MDEyOkxhYmVsZWRFdmVudDUxMjY0MjAzMjQ=",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/5126420324"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2021-08-08T08:23:35Z",
            "event": "labeled",
            "id": 5126420328,
            "label": {
                "color": "444444",
                "name": "Pure Python Mode"
            },
            "node_id": "MDEyOkxhYmVsZWRFdmVudDUxMjY0MjAzMjg=",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/cython/cython/issues/events/5126420328"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/4327/events",
    "html_url": "https://github.com/cython/cython/issues/4327",
    "id": 963279719,
    "labels": [
        {
            "color": "1d76db",
            "default": true,
            "description": null,
            "id": 414805682,
            "name": "good first issue",
            "node_id": "MDU6TGFiZWw0MTQ4MDU2ODI=",
            "url": "https://api.github.com/repos/cython/cython/labels/good%20first%20issue"
        },
        {
            "color": "444444",
            "default": false,
            "description": null,
            "id": 425553654,
            "name": "defect",
            "node_id": "MDU6TGFiZWw0MjU1NTM2NTQ=",
            "url": "https://api.github.com/repos/cython/cython/labels/defect"
        },
        {
            "color": "444444",
            "default": false,
            "description": null,
            "id": 425558499,
            "name": "Pure Python Mode",
            "node_id": "MDU6TGFiZWw0MjU1NTg0OTk=",
            "url": "https://api.github.com/repos/cython/cython/labels/Pure%20Python%20Mode"
        }
    ],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/4327/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU5NjMyNzk3MTk=",
    "number": 4327,
    "performed_via_github_app": null,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "title": "[ENH] Help type checkers find Shadow.pyi",
    "updated_at": "2021-08-08T08:23:35Z",
    "url": "https://api.github.com/repos/cython/cython/issues/4327",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/38372706?v=4",
        "events_url": "https://api.github.com/users/Bluenix2/events{/privacy}",
        "followers_url": "https://api.github.com/users/Bluenix2/followers",
        "following_url": "https://api.github.com/users/Bluenix2/following{/other_user}",
        "gists_url": "https://api.github.com/users/Bluenix2/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/Bluenix2",
        "id": 38372706,
        "login": "Bluenix2",
        "node_id": "MDQ6VXNlcjM4MzcyNzA2",
        "organizations_url": "https://api.github.com/users/Bluenix2/orgs",
        "received_events_url": "https://api.github.com/users/Bluenix2/received_events",
        "repos_url": "https://api.github.com/users/Bluenix2/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/Bluenix2/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Bluenix2/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/Bluenix2"
    }
}