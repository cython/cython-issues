{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/cython/cython/issues/4575/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/cython/cython/pulls/4575/commits"
        },
        "html": {
            "href": "https://github.com/cython/cython/pull/4575"
        },
        "issue": {
            "href": "https://api.github.com/repos/cython/cython/issues/4575"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/cython/cython/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/cython/cython/pulls/4575/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/cython/cython/pulls/4575"
        },
        "statuses": {
            "href": "https://api.github.com/repos/cython/cython/statuses/431b1608f2221d61c4b59f5608377a5087389fbc"
        }
    },
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "COLLABORATOR",
    "auto_merge": null,
    "base": {
        "label": "cython:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/cython/cython/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/cython/cython/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/cython/cython/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/cython/cython/branches{/branch}",
            "clone_url": "https://github.com/cython/cython.git",
            "collaborators_url": "https://api.github.com/repos/cython/cython/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/cython/cython/comments{/number}",
            "commits_url": "https://api.github.com/repos/cython/cython/commits{/sha}",
            "compare_url": "https://api.github.com/repos/cython/cython/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/cython/cython/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/cython/cython/contributors",
            "created_at": "2010-11-21T07:44:20Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/cython/cython/deployments",
            "description": "The most widely used Python to C compiler",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/cython/cython/downloads",
            "events_url": "https://api.github.com/repos/cython/cython/events",
            "fork": false,
            "forks": 1238,
            "forks_count": 1238,
            "forks_url": "https://api.github.com/repos/cython/cython/forks",
            "full_name": "cython/cython",
            "git_commits_url": "https://api.github.com/repos/cython/cython/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/cython/cython/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/cython/cython/git/tags{/sha}",
            "git_url": "git://github.com/cython/cython.git",
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://cython.org",
            "hooks_url": "https://api.github.com/repos/cython/cython/hooks",
            "html_url": "https://github.com/cython/cython",
            "id": 1099265,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/cython/cython/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/cython/cython/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/cython/cython/issues{/number}",
            "keys_url": "https://api.github.com/repos/cython/cython/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/cython/cython/labels{/name}",
            "language": "Python",
            "languages_url": "https://api.github.com/repos/cython/cython/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/cython/cython/merges",
            "milestones_url": "https://api.github.com/repos/cython/cython/milestones{/number}",
            "mirror_url": null,
            "name": "cython",
            "node_id": "MDEwOlJlcG9zaXRvcnkxMDk5MjY1",
            "notifications_url": "https://api.github.com/repos/cython/cython/notifications{?since,all,participating}",
            "open_issues": 1031,
            "open_issues_count": 1031,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/486082?v=4",
                "events_url": "https://api.github.com/users/cython/events{/privacy}",
                "followers_url": "https://api.github.com/users/cython/followers",
                "following_url": "https://api.github.com/users/cython/following{/other_user}",
                "gists_url": "https://api.github.com/users/cython/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/cython",
                "id": 486082,
                "login": "cython",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjQ4NjA4Mg==",
                "organizations_url": "https://api.github.com/users/cython/orgs",
                "received_events_url": "https://api.github.com/users/cython/received_events",
                "repos_url": "https://api.github.com/users/cython/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/cython/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/cython/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/cython"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/cython/cython/pulls{/number}",
            "pushed_at": "2022-01-28T12:05:09Z",
            "releases_url": "https://api.github.com/repos/cython/cython/releases{/id}",
            "size": 64119,
            "ssh_url": "git@github.com:cython/cython.git",
            "stargazers_count": 6741,
            "stargazers_url": "https://api.github.com/repos/cython/cython/stargazers",
            "statuses_url": "https://api.github.com/repos/cython/cython/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/cython/cython/subscribers",
            "subscription_url": "https://api.github.com/repos/cython/cython/subscription",
            "svn_url": "https://github.com/cython/cython",
            "tags_url": "https://api.github.com/repos/cython/cython/tags",
            "teams_url": "https://api.github.com/repos/cython/cython/teams",
            "topics": [
                "big-data",
                "c",
                "cpp",
                "cpython",
                "cpython-extensions",
                "cython",
                "performance",
                "python"
            ],
            "trees_url": "https://api.github.com/repos/cython/cython/git/trees{/sha}",
            "updated_at": "2022-01-28T00:18:13Z",
            "url": "https://api.github.com/repos/cython/cython",
            "visibility": "public",
            "watchers": 6741,
            "watchers_count": 6741
        },
        "sha": "79dd47049310c475ec24df9bd18928f6f52821a2",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/486082?v=4",
            "events_url": "https://api.github.com/users/cython/events{/privacy}",
            "followers_url": "https://api.github.com/users/cython/followers",
            "following_url": "https://api.github.com/users/cython/following{/other_user}",
            "gists_url": "https://api.github.com/users/cython/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/cython",
            "id": 486082,
            "login": "cython",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjQ4NjA4Mg==",
            "organizations_url": "https://api.github.com/users/cython/orgs",
            "received_events_url": "https://api.github.com/users/cython/received_events",
            "repos_url": "https://api.github.com/users/cython/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/cython/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cython/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/cython"
        }
    },
    "body": "Fixes https://github.com/cython/cython/issues/4092\r\n\r\nInner classes isn't tested because they don't officially work\r\nat this stage (see https://github.com/cython/cython/issues/4572).\r\nIt should be tested if/when they're fully supported",
    "closed_at": null,
    "comment_data": [
        {
            "_links": {
                "html": {
                    "href": "https://github.com/cython/cython/pull/4575#discussion_r785417562"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/4575"
                },
                "self": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/comments/785417562"
                }
            },
            "author_association": "MEMBER",
            "body": "Is this needed? You're not using `old_body` below (probably by accident).",
            "commit_id": "431b1608f2221d61c4b59f5608377a5087389fbc",
            "created_at": "2022-01-16T10:04:17Z",
            "diff_hunk": "@@ -2557,6 +2560,24 @@ def visit_CClassDefNode(self, node):\n         self.in_py_class = old_in_pyclass\n         return node\n \n+    def _body_without_directives(self, node, directives_to_remove):\n+        # For things like cclass, cfunc, etc the directives\n+        # should not keep propagating to nested funcs/classes\n+        # after they have been applied. This function creates\n+        # a CompilerDirectivesNode to ensure that\n+        new_directives = Options.copy_inherited_directives(self.directives)\n+        for d in directives_to_remove:\n+            del new_directives[d]\n+        old_body = node.body\n+        if not isinstance(node.body, Nodes.StatListNode):\n+            old_body = Nodes.StatListNode(node.pos, stats=[old_body])",
            "html_url": "https://github.com/cython/cython/pull/4575#discussion_r785417562",
            "id": 785417562,
            "line": null,
            "node_id": "PRRC_kwDOABDGAc4u0IVa",
            "original_commit_id": "5b1bb0f27acce071a8d03fd3d2fcbdd161594675",
            "original_line": 2573,
            "original_position": 38,
            "original_start_line": 2571,
            "path": "Cython/Compiler/ParseTreeTransforms.py",
            "position": null,
            "pull_request_review_id": 853654714,
            "pull_request_url": "https://api.github.com/repos/cython/cython/pulls/4575",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/pulls/comments/785417562/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "updated_at": "2022-01-16T10:07:14Z",
            "url": "https://api.github.com/repos/cython/cython/pulls/comments/785417562",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/cython/cython/pull/4575#discussion_r785417835"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/4575"
                },
                "self": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/comments/785417835"
                }
            },
            "author_association": "MEMBER",
            "body": "Not sure if this is enough. It probably is, currently, since we do not allow `cdef` functions as inner functions. But that may not be the case forever, and there's the auto-wrapping feature which might strike then. I think a tree assertion would make this safer.",
            "commit_id": "431b1608f2221d61c4b59f5608377a5087389fbc",
            "created_at": "2022-01-16T10:06:36Z",
            "diff_hunk": "@@ -319,6 +319,32 @@ def test_cdef_nogil(x):\n     return result\n \n \n+@cython.cfunc\n+@cython.inline\n+def has_inner_func1(x):\n+    # the inner function must remain a Python function\n+    # (and inline must not be applied to it)\n+    def inner():\n+        return x\n+    return inner\n+\n+\n+with cython.cfunc:\n+    def has_inner_func2(x):\n+        # cfunc is not applied to \"inner\"\n+        def inner():\n+            return x\n+        return inner",
            "html_url": "https://github.com/cython/cython/pull/4575#discussion_r785417835",
            "id": 785417835,
            "line": null,
            "node_id": "PRRC_kwDOABDGAc4u0IZr",
            "original_commit_id": "5b1bb0f27acce071a8d03fd3d2fcbdd161594675",
            "original_line": 337,
            "original_position": 19,
            "original_start_line": 335,
            "path": "tests/run/pure_py.py",
            "position": null,
            "pull_request_review_id": 853654714,
            "pull_request_url": "https://api.github.com/repos/cython/cython/pulls/4575",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/pulls/comments/785417835/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "updated_at": "2022-01-16T10:07:14Z",
            "url": "https://api.github.com/repos/cython/cython/pulls/comments/785417835",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/cython/cython/pull/4575#discussion_r785418339"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/4575"
                },
                "self": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/comments/785418339"
                }
            },
            "author_association": "COLLABORATOR",
            "body": "No - probably not. It looks like body is expected to be a StatListNode anyway so it should be safe. I'll remove it.",
            "commit_id": "431b1608f2221d61c4b59f5608377a5087389fbc",
            "created_at": "2022-01-16T10:10:46Z",
            "diff_hunk": "@@ -2557,6 +2560,24 @@ def visit_CClassDefNode(self, node):\n         self.in_py_class = old_in_pyclass\n         return node\n \n+    def _body_without_directives(self, node, directives_to_remove):\n+        # For things like cclass, cfunc, etc the directives\n+        # should not keep propagating to nested funcs/classes\n+        # after they have been applied. This function creates\n+        # a CompilerDirectivesNode to ensure that\n+        new_directives = Options.copy_inherited_directives(self.directives)\n+        for d in directives_to_remove:\n+            del new_directives[d]\n+        old_body = node.body\n+        if not isinstance(node.body, Nodes.StatListNode):\n+            old_body = Nodes.StatListNode(node.pos, stats=[old_body])",
            "html_url": "https://github.com/cython/cython/pull/4575#discussion_r785418339",
            "id": 785418339,
            "in_reply_to_id": 785417562,
            "line": null,
            "node_id": "PRRC_kwDOABDGAc4u0Ihj",
            "original_commit_id": "5b1bb0f27acce071a8d03fd3d2fcbdd161594675",
            "original_line": 2573,
            "original_position": 38,
            "original_start_line": 2571,
            "path": "Cython/Compiler/ParseTreeTransforms.py",
            "position": null,
            "pull_request_review_id": 853655358,
            "pull_request_url": "https://api.github.com/repos/cython/cython/pulls/4575",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/pulls/comments/785418339/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "updated_at": "2022-01-16T10:10:46Z",
            "url": "https://api.github.com/repos/cython/cython/pulls/comments/785418339",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/cython/cython/pull/4575#discussion_r785419937"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/4575"
                },
                "self": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/comments/785419937"
                }
            },
            "author_association": "MEMBER",
            "body": "Hmm. I wonder if that is the \"expected\" behaviour. I fully agree that a decorator should only apply to the decorated function, but the with-statement? I think one could argue both ways here. On the one hand, it should apply to the whole block, including everything that's in there. On the other hand, it is applied as part of the control flow, and the inner functions are not being defined in that context.\r\n\r\nI guess it's best to not inherit it. That feels the safest and should be most easy to handle for users.",
            "commit_id": "431b1608f2221d61c4b59f5608377a5087389fbc",
            "created_at": "2022-01-16T10:25:11Z",
            "diff_hunk": "@@ -319,6 +319,32 @@ def test_cdef_nogil(x):\n     return result\n \n \n+@cython.cfunc\n+@cython.inline\n+def has_inner_func1(x):\n+    # the inner function must remain a Python function\n+    # (and inline must not be applied to it)\n+    def inner():\n+        return x\n+    return inner\n+\n+\n+with cython.cfunc:\n+    def has_inner_func2(x):\n+        # cfunc is not applied to \"inner\"",
            "html_url": "https://github.com/cython/cython/pull/4575#discussion_r785419937",
            "id": 785419937,
            "line": null,
            "node_id": "PRRC_kwDOABDGAc4u0I6h",
            "original_commit_id": "5b1bb0f27acce071a8d03fd3d2fcbdd161594675",
            "original_line": 334,
            "original_position": 16,
            "original_start_line": 332,
            "path": "tests/run/pure_py.py",
            "position": null,
            "pull_request_review_id": 853656710,
            "pull_request_url": "https://api.github.com/repos/cython/cython/pulls/4575",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/pulls/comments/785419937/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "updated_at": "2022-01-16T10:31:57Z",
            "url": "https://api.github.com/repos/cython/cython/pulls/comments/785419937",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/cython/cython/pull/4575#discussion_r785420401"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/4575"
                },
                "self": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/comments/785420401"
                }
            },
            "author_association": "MEMBER",
            "body": "The name sounds like it returns something, but instead, it _does_ something. So there should be a verb in here.",
            "commit_id": "431b1608f2221d61c4b59f5608377a5087389fbc",
            "created_at": "2022-01-16T10:29:49Z",
            "diff_hunk": "@@ -2557,6 +2560,24 @@ def visit_CClassDefNode(self, node):\n         self.in_py_class = old_in_pyclass\n         return node\n \n+    def _body_without_directives(self, node, directives_to_remove):",
            "html_url": "https://github.com/cython/cython/pull/4575#discussion_r785420401",
            "id": 785420401,
            "line": null,
            "node_id": "PRRC_kwDOABDGAc4u0JBx",
            "original_commit_id": "5b1bb0f27acce071a8d03fd3d2fcbdd161594675",
            "original_line": 2563,
            "original_position": 28,
            "original_start_line": null,
            "path": "Cython/Compiler/ParseTreeTransforms.py",
            "position": null,
            "pull_request_review_id": 853656710,
            "pull_request_url": "https://api.github.com/repos/cython/cython/pulls/4575",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/pulls/comments/785420401/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "updated_at": "2022-01-16T10:31:57Z",
            "url": "https://api.github.com/repos/cython/cython/pulls/comments/785420401",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/cython/cython/pull/4575#discussion_r785420697"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/4575"
                },
                "self": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/comments/785420697"
                }
            },
            "author_association": "MEMBER",
            "body": "IMHO, they shouldn't be deleted but reset.\r\n\r\nDid you consider letting `copy_inherited_directives` do this? Maybe even in general?",
            "commit_id": "431b1608f2221d61c4b59f5608377a5087389fbc",
            "created_at": "2022-01-16T10:31:50Z",
            "diff_hunk": "@@ -2557,6 +2560,24 @@ def visit_CClassDefNode(self, node):\n         self.in_py_class = old_in_pyclass\n         return node\n \n+    def _body_without_directives(self, node, directives_to_remove):\n+        # For things like cclass, cfunc, etc the directives\n+        # should not keep propagating to nested funcs/classes\n+        # after they have been applied. This function creates\n+        # a CompilerDirectivesNode to ensure that\n+        new_directives = Options.copy_inherited_directives(self.directives)\n+        for d in directives_to_remove:\n+            del new_directives[d]",
            "html_url": "https://github.com/cython/cython/pull/4575#discussion_r785420697",
            "id": 785420697,
            "line": null,
            "node_id": "PRRC_kwDOABDGAc4u0JGZ",
            "original_commit_id": "5b1bb0f27acce071a8d03fd3d2fcbdd161594675",
            "original_line": 2570,
            "original_position": 35,
            "original_start_line": 2568,
            "path": "Cython/Compiler/ParseTreeTransforms.py",
            "position": null,
            "pull_request_review_id": 853656710,
            "pull_request_url": "https://api.github.com/repos/cython/cython/pulls/4575",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/pulls/comments/785420697/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "updated_at": "2022-01-16T10:31:57Z",
            "url": "https://api.github.com/repos/cython/cython/pulls/comments/785420697",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/cython/cython/pull/4575#discussion_r785420968"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/4575"
                },
                "self": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/comments/785420968"
                }
            },
            "author_association": "COLLABORATOR",
            "body": "The tree assertion looks to break it (since it creates a CompilerDirectivesNode, which has the old directives still attached).\r\n\r\nI think this is why I found this tricky last time I tried to look at this - `AdjustDefByDirectives` is too late because directives are already set up everywhere, but it's the logical place to do it since it's where you know that the `cclass/cfunc` compiler directives are being applied",
            "commit_id": "431b1608f2221d61c4b59f5608377a5087389fbc",
            "created_at": "2022-01-16T10:34:32Z",
            "diff_hunk": "@@ -319,6 +319,32 @@ def test_cdef_nogil(x):\n     return result\n \n \n+@cython.cfunc\n+@cython.inline\n+def has_inner_func1(x):\n+    # the inner function must remain a Python function\n+    # (and inline must not be applied to it)\n+    def inner():\n+        return x\n+    return inner\n+\n+\n+with cython.cfunc:\n+    def has_inner_func2(x):\n+        # cfunc is not applied to \"inner\"\n+        def inner():\n+            return x\n+        return inner",
            "html_url": "https://github.com/cython/cython/pull/4575#discussion_r785420968",
            "id": 785420968,
            "in_reply_to_id": 785417835,
            "line": null,
            "node_id": "PRRC_kwDOABDGAc4u0JKo",
            "original_commit_id": "5b1bb0f27acce071a8d03fd3d2fcbdd161594675",
            "original_line": 337,
            "original_position": 19,
            "original_start_line": 335,
            "path": "tests/run/pure_py.py",
            "position": null,
            "pull_request_review_id": 853657622,
            "pull_request_url": "https://api.github.com/repos/cython/cython/pulls/4575",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/pulls/comments/785420968/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "updated_at": "2022-01-16T10:34:32Z",
            "url": "https://api.github.com/repos/cython/cython/pulls/comments/785420968",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/cython/cython/pull/4575#discussion_r785421353"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/4575"
                },
                "self": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/comments/785421353"
                }
            },
            "author_association": "COLLABORATOR",
            "body": "This particular directives look to be distinguished by whether they exist or not (`if 'cclass' in self.directives`) so I think deletion is the right thing to do.\r\n\r\nThe trouble with `copy_inherited_directives` is that it completely breaks the \"with statement\" form (`with cython.cfunc`) because they're automatically removed from any function in the with statement.",
            "commit_id": "431b1608f2221d61c4b59f5608377a5087389fbc",
            "created_at": "2022-01-16T10:38:04Z",
            "diff_hunk": "@@ -2557,6 +2560,24 @@ def visit_CClassDefNode(self, node):\n         self.in_py_class = old_in_pyclass\n         return node\n \n+    def _body_without_directives(self, node, directives_to_remove):\n+        # For things like cclass, cfunc, etc the directives\n+        # should not keep propagating to nested funcs/classes\n+        # after they have been applied. This function creates\n+        # a CompilerDirectivesNode to ensure that\n+        new_directives = Options.copy_inherited_directives(self.directives)\n+        for d in directives_to_remove:\n+            del new_directives[d]",
            "html_url": "https://github.com/cython/cython/pull/4575#discussion_r785421353",
            "id": 785421353,
            "in_reply_to_id": 785420697,
            "line": null,
            "node_id": "PRRC_kwDOABDGAc4u0JQp",
            "original_commit_id": "5b1bb0f27acce071a8d03fd3d2fcbdd161594675",
            "original_line": 2570,
            "original_position": 35,
            "original_start_line": 2568,
            "path": "Cython/Compiler/ParseTreeTransforms.py",
            "position": null,
            "pull_request_review_id": 853657951,
            "pull_request_url": "https://api.github.com/repos/cython/cython/pulls/4575",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/pulls/comments/785421353/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "updated_at": "2022-01-16T10:38:04Z",
            "url": "https://api.github.com/repos/cython/cython/pulls/comments/785421353",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/cython/cython/pull/4575#discussion_r785421581"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/4575"
                },
                "self": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/comments/785421581"
                }
            },
            "author_association": "COLLABORATOR",
            "body": "I sort of agree here - the decorator clearly only applies to the function it's decorating, but the with statement feels more general.\r\n\r\nThe main reason not to do it is that it's hard to distinguish decorator from with statement",
            "commit_id": "431b1608f2221d61c4b59f5608377a5087389fbc",
            "created_at": "2022-01-16T10:39:50Z",
            "diff_hunk": "@@ -319,6 +319,32 @@ def test_cdef_nogil(x):\n     return result\n \n \n+@cython.cfunc\n+@cython.inline\n+def has_inner_func1(x):\n+    # the inner function must remain a Python function\n+    # (and inline must not be applied to it)\n+    def inner():\n+        return x\n+    return inner\n+\n+\n+with cython.cfunc:\n+    def has_inner_func2(x):\n+        # cfunc is not applied to \"inner\"",
            "html_url": "https://github.com/cython/cython/pull/4575#discussion_r785421581",
            "id": 785421581,
            "in_reply_to_id": 785419937,
            "line": null,
            "node_id": "PRRC_kwDOABDGAc4u0JUN",
            "original_commit_id": "5b1bb0f27acce071a8d03fd3d2fcbdd161594675",
            "original_line": 334,
            "original_position": 16,
            "original_start_line": 332,
            "path": "tests/run/pure_py.py",
            "position": null,
            "pull_request_review_id": 853658109,
            "pull_request_url": "https://api.github.com/repos/cython/cython/pulls/4575",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/pulls/comments/785421581/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "updated_at": "2022-01-16T10:39:50Z",
            "url": "https://api.github.com/repos/cython/cython/pulls/comments/785421581",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/cython/cython/pull/4575#discussion_r785429253"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/4575"
                },
                "self": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/comments/785429253"
                }
            },
            "author_association": "COLLABORATOR",
            "body": "This is obviously pretty unrelated to the PR but it did help me debug it. I can remove it if needed though.",
            "commit_id": "431b1608f2221d61c4b59f5608377a5087389fbc",
            "created_at": "2022-01-16T11:46:22Z",
            "diff_hunk": "@@ -844,6 +844,8 @@ def repr_of(self, node):\n                 result += \"(type=%s, name=\\\"%s\\\")\" % (repr(node.type), node.name)\n             elif isinstance(node, Nodes.DefNode):\n                 result += \"(name=\\\"%s\\\")\" % node.name\n+            elif isinstance(node, Nodes.CFuncDefNode):\n+                result += \"(name=\\\"%s\\\")\" % node.declared_name()",
            "html_url": "https://github.com/cython/cython/pull/4575#discussion_r785429253",
            "id": 785429253,
            "line": 848,
            "node_id": "PRRC_kwDOABDGAc4u0LMF",
            "original_commit_id": "431b1608f2221d61c4b59f5608377a5087389fbc",
            "original_line": 848,
            "original_position": 5,
            "original_start_line": 847,
            "path": "Cython/Compiler/Visitor.py",
            "position": 5,
            "pull_request_review_id": 853664640,
            "pull_request_url": "https://api.github.com/repos/cython/cython/pulls/4575",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/pulls/comments/785429253/reactions"
            },
            "side": "RIGHT",
            "start_line": 847,
            "start_side": "RIGHT",
            "updated_at": "2022-01-16T11:46:22Z",
            "url": "https://api.github.com/repos/cython/cython/pulls/comments/785429253",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/cython/cython/pull/4575#discussion_r785429585"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/4575"
                },
                "self": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/comments/785429585"
                }
            },
            "author_association": "COLLABORATOR",
            "body": "Having these here possibly removes the need for `copy_inherited_directives`. I don't know if it's worth going back and removing that to see if it genuinely isn't needed any more",
            "commit_id": "431b1608f2221d61c4b59f5608377a5087389fbc",
            "created_at": "2022-01-16T11:49:09Z",
            "diff_hunk": "@@ -376,6 +376,20 @@ def normalise_encoding_name(option_name, encoding):\n }\n \n \n+# a list of directives that (when used as a decorator) are only applied to\n+# the object they decorate and not to its children.\n+immediate_decorator_directives = (\n+    'cfunc', 'ccall', 'cclass',\n+    # function signature directives\n+    'inline', 'exceptval', 'returns',\n+    # class directives\n+    'freelist', 'no_gc', 'no_gc_clear', 'type_version_tag', 'final',\n+    'auto_pickle', 'internal',\n+    # testing directives\n+    'test_fail_if_path_exists', 'test_assert_path_exists',",
            "html_url": "https://github.com/cython/cython/pull/4575#discussion_r785429585",
            "id": 785429585,
            "line": 389,
            "node_id": "PRRC_kwDOABDGAc4u0LRR",
            "original_commit_id": "431b1608f2221d61c4b59f5608377a5087389fbc",
            "original_line": 389,
            "original_position": 14,
            "original_start_line": null,
            "path": "Cython/Compiler/Options.py",
            "position": 14,
            "pull_request_review_id": 853664906,
            "pull_request_url": "https://api.github.com/repos/cython/cython/pulls/4575",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/pulls/comments/785429585/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "updated_at": "2022-01-16T11:49:09Z",
            "url": "https://api.github.com/repos/cython/cython/pulls/comments/785429585",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/cython/cython/issues/4575/comments",
    "commit_data": [
        {
            "author": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "comments_url": "https://api.github.com/repos/cython/cython/commits/5b1bb0f27acce071a8d03fd3d2fcbdd161594675/comments",
            "commit": {
                "author": {
                    "date": "2022-01-16T09:47:14Z",
                    "email": "dw-git@d-woods.co.uk",
                    "name": "da-woods"
                },
                "comment_count": 0,
                "committer": {
                    "date": "2022-01-16T09:47:14Z",
                    "email": "dw-git@d-woods.co.uk",
                    "name": "da-woods"
                },
                "message": "Stop cfunc/ccall/class applying to inner funcs/classes\n\nFixes https://github.com/cython/cython/issues/4092\n\nInner classes isn't tested because they don't officially work\nat this stage (see https://github.com/cython/cython/issues/4572).\nIt should be tested if/when they're fully supported",
                "tree": {
                    "sha": "f27fda80682e84e13cb71a818fc223d3ea66cc3a",
                    "url": "https://api.github.com/repos/cython/cython/git/trees/f27fda80682e84e13cb71a818fc223d3ea66cc3a"
                },
                "url": "https://api.github.com/repos/cython/cython/git/commits/5b1bb0f27acce071a8d03fd3d2fcbdd161594675",
                "verification": {
                    "payload": null,
                    "reason": "unsigned",
                    "signature": null,
                    "verified": false
                }
            },
            "committer": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "html_url": "https://github.com/cython/cython/commit/5b1bb0f27acce071a8d03fd3d2fcbdd161594675",
            "node_id": "C_kwDOAhr4b9oAKDViMWJiMGYyN2FjY2UwNzFhOGQwM2ZkM2QyZmNiZGQxNjE1OTQ2NzU",
            "parents": [
                {
                    "html_url": "https://github.com/cython/cython/commit/ddaaa7b8bfe9885b7bed432cd0a5ab8191d112cd",
                    "sha": "ddaaa7b8bfe9885b7bed432cd0a5ab8191d112cd",
                    "url": "https://api.github.com/repos/cython/cython/commits/ddaaa7b8bfe9885b7bed432cd0a5ab8191d112cd"
                }
            ],
            "sha": "5b1bb0f27acce071a8d03fd3d2fcbdd161594675",
            "url": "https://api.github.com/repos/cython/cython/commits/5b1bb0f27acce071a8d03fd3d2fcbdd161594675"
        },
        {
            "author": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "comments_url": "https://api.github.com/repos/cython/cython/commits/649664d0558435b89333f529bae200d72f4e78cf/comments",
            "commit": {
                "author": {
                    "date": "2022-01-16T11:36:10Z",
                    "email": "dw-git@d-woods.co.uk",
                    "name": "da-woods"
                },
                "comment_count": 0,
                "committer": {
                    "date": "2022-01-16T11:36:10Z",
                    "email": "dw-git@d-woods.co.uk",
                    "name": "da-woods"
                },
                "message": "Change method, only apply to decorators\n\nNow wraps the function body in a CompilerDirectivesNode",
                "tree": {
                    "sha": "18aedb016bbf161a5c9cdbff6c3b3c92e670d976",
                    "url": "https://api.github.com/repos/cython/cython/git/trees/18aedb016bbf161a5c9cdbff6c3b3c92e670d976"
                },
                "url": "https://api.github.com/repos/cython/cython/git/commits/649664d0558435b89333f529bae200d72f4e78cf",
                "verification": {
                    "payload": null,
                    "reason": "unsigned",
                    "signature": null,
                    "verified": false
                }
            },
            "committer": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "html_url": "https://github.com/cython/cython/commit/649664d0558435b89333f529bae200d72f4e78cf",
            "node_id": "C_kwDOAhr4b9oAKDY0OTY2NGQwNTU4NDM1Yjg5MzMzZjUyOWJhZTIwMGQ3MmY0ZTc4Y2Y",
            "parents": [
                {
                    "html_url": "https://github.com/cython/cython/commit/5b1bb0f27acce071a8d03fd3d2fcbdd161594675",
                    "sha": "5b1bb0f27acce071a8d03fd3d2fcbdd161594675",
                    "url": "https://api.github.com/repos/cython/cython/commits/5b1bb0f27acce071a8d03fd3d2fcbdd161594675"
                }
            ],
            "sha": "649664d0558435b89333f529bae200d72f4e78cf",
            "url": "https://api.github.com/repos/cython/cython/commits/649664d0558435b89333f529bae200d72f4e78cf"
        },
        {
            "author": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "comments_url": "https://api.github.com/repos/cython/cython/commits/431b1608f2221d61c4b59f5608377a5087389fbc/comments",
            "commit": {
                "author": {
                    "date": "2022-01-16T11:45:14Z",
                    "email": "dw-git@d-woods.co.uk",
                    "name": "da-woods"
                },
                "comment_count": 0,
                "committer": {
                    "date": "2022-01-16T11:45:14Z",
                    "email": "dw-git@d-woods.co.uk",
                    "name": "da-woods"
                },
                "message": "Fix CVarDefNode",
                "tree": {
                    "sha": "9346c0961251d4a69bffc0cf304bf868c390e132",
                    "url": "https://api.github.com/repos/cython/cython/git/trees/9346c0961251d4a69bffc0cf304bf868c390e132"
                },
                "url": "https://api.github.com/repos/cython/cython/git/commits/431b1608f2221d61c4b59f5608377a5087389fbc",
                "verification": {
                    "payload": null,
                    "reason": "unsigned",
                    "signature": null,
                    "verified": false
                }
            },
            "committer": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "html_url": "https://github.com/cython/cython/commit/431b1608f2221d61c4b59f5608377a5087389fbc",
            "node_id": "C_kwDOAhr4b9oAKDQzMWIxNjA4ZjIyMjFkNjFjNGI1OWY1NjA4Mzc3YTUwODczODlmYmM",
            "parents": [
                {
                    "html_url": "https://github.com/cython/cython/commit/649664d0558435b89333f529bae200d72f4e78cf",
                    "sha": "649664d0558435b89333f529bae200d72f4e78cf",
                    "url": "https://api.github.com/repos/cython/cython/commits/649664d0558435b89333f529bae200d72f4e78cf"
                }
            ],
            "sha": "431b1608f2221d61c4b59f5608377a5087389fbc",
            "url": "https://api.github.com/repos/cython/cython/commits/431b1608f2221d61c4b59f5608377a5087389fbc"
        }
    ],
    "commits_url": "https://api.github.com/repos/cython/cython/pulls/4575/commits",
    "created_at": "2022-01-16T09:48:56Z",
    "diff_url": "https://github.com/cython/cython/pull/4575.diff",
    "draft": false,
    "head": {
        "label": "da-woods:nested_cfunc",
        "ref": "nested_cfunc",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/da-woods/cython/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/da-woods/cython/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/da-woods/cython/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/da-woods/cython/branches{/branch}",
            "clone_url": "https://github.com/da-woods/cython.git",
            "collaborators_url": "https://api.github.com/repos/da-woods/cython/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/da-woods/cython/comments{/number}",
            "commits_url": "https://api.github.com/repos/da-woods/cython/commits{/sha}",
            "compare_url": "https://api.github.com/repos/da-woods/cython/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/da-woods/cython/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/da-woods/cython/contributors",
            "created_at": "2015-05-09T08:55:00Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/da-woods/cython/deployments",
            "description": "A Python to C compiler",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/da-woods/cython/downloads",
            "events_url": "https://api.github.com/repos/da-woods/cython/events",
            "fork": true,
            "forks": 0,
            "forks_count": 0,
            "forks_url": "https://api.github.com/repos/da-woods/cython/forks",
            "full_name": "da-woods/cython",
            "git_commits_url": "https://api.github.com/repos/da-woods/cython/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/da-woods/cython/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/da-woods/cython/git/tags{/sha}",
            "git_url": "git://github.com/da-woods/cython.git",
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "http://cython.org",
            "hooks_url": "https://api.github.com/repos/da-woods/cython/hooks",
            "html_url": "https://github.com/da-woods/cython",
            "id": 35321967,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/da-woods/cython/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/da-woods/cython/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/da-woods/cython/issues{/number}",
            "keys_url": "https://api.github.com/repos/da-woods/cython/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/da-woods/cython/labels{/name}",
            "language": "Python",
            "languages_url": "https://api.github.com/repos/da-woods/cython/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/da-woods/cython/merges",
            "milestones_url": "https://api.github.com/repos/da-woods/cython/milestones{/number}",
            "mirror_url": null,
            "name": "cython",
            "node_id": "MDEwOlJlcG9zaXRvcnkzNTMyMTk2Nw==",
            "notifications_url": "https://api.github.com/repos/da-woods/cython/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/da-woods/cython/pulls{/number}",
            "pushed_at": "2022-01-27T22:43:59Z",
            "releases_url": "https://api.github.com/repos/da-woods/cython/releases{/id}",
            "size": 66672,
            "ssh_url": "git@github.com:da-woods/cython.git",
            "stargazers_count": 2,
            "stargazers_url": "https://api.github.com/repos/da-woods/cython/stargazers",
            "statuses_url": "https://api.github.com/repos/da-woods/cython/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/da-woods/cython/subscribers",
            "subscription_url": "https://api.github.com/repos/da-woods/cython/subscription",
            "svn_url": "https://github.com/da-woods/cython",
            "tags_url": "https://api.github.com/repos/da-woods/cython/tags",
            "teams_url": "https://api.github.com/repos/da-woods/cython/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/da-woods/cython/git/trees{/sha}",
            "updated_at": "2021-09-15T16:26:05Z",
            "url": "https://api.github.com/repos/da-woods/cython",
            "visibility": "public",
            "watchers": 2,
            "watchers_count": 2
        },
        "sha": "431b1608f2221d61c4b59f5608377a5087389fbc",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
            "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
            "followers_url": "https://api.github.com/users/da-woods/followers",
            "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
            "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/da-woods",
            "id": 10536947,
            "login": "da-woods",
            "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
            "organizations_url": "https://api.github.com/users/da-woods/orgs",
            "received_events_url": "https://api.github.com/users/da-woods/received_events",
            "repos_url": "https://api.github.com/users/da-woods/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/da-woods"
        }
    },
    "html_url": "https://github.com/cython/cython/pull/4575",
    "id": 823870427,
    "issue_url": "https://api.github.com/repos/cython/cython/issues/4575",
    "labels": [],
    "locked": false,
    "merge_commit_sha": "86d0cb3ad135faf5daf51090cccd349c8fdd4b06",
    "merged_at": null,
    "milestone": null,
    "node_id": "PR_kwDOABDGAc4xG0Pb",
    "number": 4575,
    "patch_url": "https://github.com/cython/cython/pull/4575.patch",
    "requested_reviewers": [],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/cython/cython/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/cython/cython/pulls/4575/comments",
    "state": "open",
    "statuses_url": "https://api.github.com/repos/cython/cython/statuses/431b1608f2221d61c4b59f5608377a5087389fbc",
    "title": "Stop cfunc/ccall/class applying to inner funcs/classes",
    "updated_at": "2022-01-27T20:14:46Z",
    "url": "https://api.github.com/repos/cython/cython/pulls/4575",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
        "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
        "followers_url": "https://api.github.com/users/da-woods/followers",
        "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
        "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/da-woods",
        "id": 10536947,
        "login": "da-woods",
        "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
        "organizations_url": "https://api.github.com/users/da-woods/orgs",
        "received_events_url": "https://api.github.com/users/da-woods/received_events",
        "repos_url": "https://api.github.com/users/da-woods/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/da-woods"
    }
}