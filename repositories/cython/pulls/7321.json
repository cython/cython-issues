{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/cython/cython/issues/7321/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/cython/cython/pulls/7321/commits"
        },
        "html": {
            "href": "https://github.com/cython/cython/pull/7321"
        },
        "issue": {
            "href": "https://api.github.com/repos/cython/cython/issues/7321"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/cython/cython/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/cython/cython/pulls/7321/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/cython/cython/pulls/7321"
        },
        "statuses": {
            "href": "https://api.github.com/repos/cython/cython/statuses/7cda47dcceac543e64fc4556504b340764e987c8"
        }
    },
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "auto_merge": {
        "commit_message": "The main reason it definitely doesn't work is that critical_sections are\nstrictly nested (so inner ones must be released before outer ones) which\nwe can't guarrantee in generators.\n\nCloses #7317\n",
        "commit_title": "Ban yield inside critical sections and allow it inside pymutex (#7321)",
        "enabled_by": {
            "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
            "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
            "followers_url": "https://api.github.com/users/da-woods/followers",
            "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
            "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/da-woods",
            "id": 10536947,
            "login": "da-woods",
            "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
            "organizations_url": "https://api.github.com/users/da-woods/orgs",
            "received_events_url": "https://api.github.com/users/da-woods/received_events",
            "repos_url": "https://api.github.com/users/da-woods/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/da-woods",
            "user_view_type": "public"
        },
        "merge_method": "squash"
    },
    "base": {
        "label": "cython:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/cython/cython/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/cython/cython/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/cython/cython/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/cython/cython/branches{/branch}",
            "clone_url": "https://github.com/cython/cython.git",
            "collaborators_url": "https://api.github.com/repos/cython/cython/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/cython/cython/comments{/number}",
            "commits_url": "https://api.github.com/repos/cython/cython/commits{/sha}",
            "compare_url": "https://api.github.com/repos/cython/cython/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/cython/cython/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/cython/cython/contributors",
            "created_at": "2010-11-21T07:44:20Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/cython/cython/deployments",
            "description": "The most widely used Python to C compiler",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/cython/cython/downloads",
            "events_url": "https://api.github.com/repos/cython/cython/events",
            "fork": false,
            "forks": 1597,
            "forks_count": 1597,
            "forks_url": "https://api.github.com/repos/cython/cython/forks",
            "full_name": "cython/cython",
            "git_commits_url": "https://api.github.com/repos/cython/cython/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/cython/cython/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/cython/cython/git/tags{/sha}",
            "git_url": "git://github.com/cython/cython.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": false,
            "has_wiki": true,
            "homepage": "https://cython.org",
            "hooks_url": "https://api.github.com/repos/cython/cython/hooks",
            "html_url": "https://github.com/cython/cython",
            "id": 1099265,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/cython/cython/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/cython/cython/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/cython/cython/issues{/number}",
            "keys_url": "https://api.github.com/repos/cython/cython/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/cython/cython/labels{/name}",
            "language": "Python",
            "languages_url": "https://api.github.com/repos/cython/cython/languages",
            "license": {
                "key": "apache-2.0",
                "name": "Apache License 2.0",
                "node_id": "MDc6TGljZW5zZTI=",
                "spdx_id": "Apache-2.0",
                "url": "https://api.github.com/licenses/apache-2.0"
            },
            "merges_url": "https://api.github.com/repos/cython/cython/merges",
            "milestones_url": "https://api.github.com/repos/cython/cython/milestones{/number}",
            "mirror_url": null,
            "name": "cython",
            "node_id": "MDEwOlJlcG9zaXRvcnkxMDk5MjY1",
            "notifications_url": "https://api.github.com/repos/cython/cython/notifications{?since,all,participating}",
            "open_issues": 1480,
            "open_issues_count": 1480,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/486082?v=4",
                "events_url": "https://api.github.com/users/cython/events{/privacy}",
                "followers_url": "https://api.github.com/users/cython/followers",
                "following_url": "https://api.github.com/users/cython/following{/other_user}",
                "gists_url": "https://api.github.com/users/cython/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/cython",
                "id": 486082,
                "login": "cython",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjQ4NjA4Mg==",
                "organizations_url": "https://api.github.com/users/cython/orgs",
                "received_events_url": "https://api.github.com/users/cython/received_events",
                "repos_url": "https://api.github.com/users/cython/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/cython/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/cython/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/cython",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/cython/cython/pulls{/number}",
            "pushed_at": "2025-11-17T07:52:45Z",
            "releases_url": "https://api.github.com/repos/cython/cython/releases{/id}",
            "size": 78372,
            "ssh_url": "git@github.com:cython/cython.git",
            "stargazers_count": 10447,
            "stargazers_url": "https://api.github.com/repos/cython/cython/stargazers",
            "statuses_url": "https://api.github.com/repos/cython/cython/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/cython/cython/subscribers",
            "subscription_url": "https://api.github.com/repos/cython/cython/subscription",
            "svn_url": "https://github.com/cython/cython",
            "tags_url": "https://api.github.com/repos/cython/cython/tags",
            "teams_url": "https://api.github.com/repos/cython/cython/teams",
            "topics": [
                "big-data",
                "c",
                "cpp",
                "cpython",
                "cpython-extensions",
                "cython",
                "performance",
                "python"
            ],
            "trees_url": "https://api.github.com/repos/cython/cython/git/trees{/sha}",
            "updated_at": "2025-11-17T07:52:49Z",
            "url": "https://api.github.com/repos/cython/cython",
            "visibility": "public",
            "watchers": 10447,
            "watchers_count": 10447,
            "web_commit_signoff_required": false
        },
        "sha": "e6c5615403bb4be456eefb658d3e059ea9a157af",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/486082?v=4",
            "events_url": "https://api.github.com/users/cython/events{/privacy}",
            "followers_url": "https://api.github.com/users/cython/followers",
            "following_url": "https://api.github.com/users/cython/following{/other_user}",
            "gists_url": "https://api.github.com/users/cython/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/cython",
            "id": 486082,
            "login": "cython",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjQ4NjA4Mg==",
            "organizations_url": "https://api.github.com/users/cython/orgs",
            "received_events_url": "https://api.github.com/users/cython/received_events",
            "repos_url": "https://api.github.com/users/cython/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/cython/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cython/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/cython",
            "user_view_type": "public"
        }
    },
    "body": "and tweak the error message for pymutex in similar situations (because it's not that they're banned in generators, they just can't be over the suspension point)\r\n\r\nThe main reason it definitely doesn't work is that critical_sections are strictly nested (so inner ones must be released before outer ones) which we can't guarrantee in generators.\r\n\r\nCloses #7317",
    "closed_at": "2025-11-16T23:30:15Z",
    "comment_data": [
        {
            "_links": {
                "html": {
                    "href": "https://github.com/cython/cython/pull/7321#discussion_r2519700908"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/7321"
                },
                "self": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/comments/2519700908"
                }
            },
            "author_association": "MEMBER",
            "body": "`state_temp` was only to try to handle generators. So a bit of code related to it could be removed",
            "commit_id": "7cda47dcceac543e64fc4556504b340764e987c8",
            "created_at": "2025-11-12T20:21:32Z",
            "diff_hunk": "@@ -8987,7 +8987,6 @@ class CriticalSectionStatNode(TryFinallyStatNode):\n     child_attrs = [\"args\"] + TryFinallyStatNode.child_attrs\n \n     var_type = None\n-    state_temp = None",
            "html_url": "https://github.com/cython/cython/pull/7321#discussion_r2519700908",
            "id": 2519700908,
            "line": 8991,
            "node_id": "PRRC_kwDOABDGAc6WL5Ws",
            "original_commit_id": "fc7571c3b38e2f515cefefefbf2f5c8298a8c9ac",
            "original_line": 8991,
            "original_position": 4,
            "original_start_line": null,
            "path": "Cython/Compiler/Nodes.py",
            "position": 4,
            "pull_request_review_id": 3455337971,
            "pull_request_url": "https://api.github.com/repos/cython/cython/pulls/7321",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/pulls/comments/2519700908/reactions"
            },
            "side": "LEFT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-11-12T20:23:04Z",
            "url": "https://api.github.com/repos/cython/cython/pulls/comments/2519700908",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/cython/cython/pull/7321#discussion_r2519704538"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/7321"
                },
                "self": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/comments/2519704538"
                }
            },
            "author_association": "MEMBER",
            "body": "I think this is probably simple enough to have got away with it (i.e. no other critical section got in between)",
            "commit_id": "7cda47dcceac543e64fc4556504b340764e987c8",
            "created_at": "2025-11-12T20:22:53Z",
            "diff_hunk": "@@ -86,34 +86,6 @@ def test_double_critical_section(n_loops):\n     assert b == expected, (b, expected)\n \n \n-def test_critical_section_in_generators(n_threads, n_loops):\n-    \"\"\"\n-    >>> test_critical_section_in_generators(4, 100)\n-    \"\"\"\n-    cdef int count = 0\n-    lock = object()\n-    barrier = threading.Barrier(n_threads)\n-\n-    def gen():\n-        nonlocal count\n-        barrier.wait()\n-        with cython.critical_section(lock):\n-            for i in range(n_loops):\n-                count += i\n-                yield\n-\n-    def make_and_run_generator():\n-        g = gen()\n-        for _ in g:",
            "html_url": "https://github.com/cython/cython/pull/7321#discussion_r2519704538",
            "id": 2519704538,
            "line": 107,
            "node_id": "PRRC_kwDOABDGAc6WL6Pa",
            "original_commit_id": "fc7571c3b38e2f515cefefefbf2f5c8298a8c9ac",
            "original_line": 107,
            "original_position": 22,
            "original_start_line": null,
            "path": "tests/run/critical_sections.pyx",
            "position": 22,
            "pull_request_review_id": 3455337971,
            "pull_request_url": "https://api.github.com/repos/cython/cython/pulls/7321",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/pulls/comments/2519704538/reactions"
            },
            "side": "LEFT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-11-12T20:23:04Z",
            "url": "https://api.github.com/repos/cython/cython/pulls/comments/2519704538",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/cython/cython/pull/7321#discussion_r2529525957"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/7321"
                },
                "self": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/comments/2529525957"
                }
            },
            "author_association": "MEMBER",
            "body": "I don't think this is important enough to merit 5 lines.\r\n```suggestion\r\n        if collector.yields:\r\n            error(self.pos, f\"Cannot yield while in a cython.critical_section.\")\r\n```",
            "commit_id": "fc7571c3b38e2f515cefefefbf2f5c8298a8c9ac",
            "created_at": "2025-11-15T04:05:33Z",
            "diff_hunk": "@@ -8997,35 +8996,34 @@ def __init__(self, pos, /, args, body, **kwds):\n         else:\n             self.var_type = PyrexTypes.c_py_critical_section_type\n \n-        self.create_state_temp_if_needed(pos, body)\n-\n         self.length_tag = str(len(args)) if len(args) > 1 else \"\"\n \n         super().__init__(\n             pos,\n             args=args,\n             body=body,\n             finally_clause=CriticalSectionExitNode(\n-                pos, length_tag=self.length_tag, critical_section=self),\n+                pos, length_tag=self.length_tag),\n             **kwds,\n         )\n \n-    def create_state_temp_if_needed(self, pos, body):\n+    def check_for_yields(self):\n         from .ParseTreeTransforms import YieldNodeCollector\n         collector = YieldNodeCollector()\n-        collector.visitchildren(body)\n-        if not collector.yields:\n-            return\n-\n-        from . import ExprNodes\n-        self.state_temp = ExprNodes.TempNode(pos, self.var_type)\n+        collector.visitchildren(self.body)\n+        if collector.yields:\n+            error(\n+                self.pos,\n+                f\"Cannot yield while in a cython.critical_section.\"\n+            )",
            "html_url": "https://github.com/cython/cython/pull/7321#discussion_r2529525957",
            "id": 2529525957,
            "line": null,
            "node_id": "PRRC_kwDOABDGAc6WxYDF",
            "original_commit_id": "fc7571c3b38e2f515cefefefbf2f5c8298a8c9ac",
            "original_line": 9018,
            "original_position": 41,
            "original_start_line": 9014,
            "path": "Cython/Compiler/Nodes.py",
            "position": 1,
            "pull_request_review_id": 3467628894,
            "pull_request_url": "https://api.github.com/repos/cython/cython/pulls/7321",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/pulls/comments/2529525957/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2025-11-15T04:19:02Z",
            "url": "https://api.github.com/repos/cython/cython/pulls/comments/2529525957",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/cython/cython/pull/7321#discussion_r2529529722"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/7321"
                },
                "self": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/comments/2529529722"
                }
            },
            "author_association": "MEMBER",
            "body": "This file should also be renamed to `pymutex.pyx` because that's what it tests.\r\n",
            "commit_id": "7cda47dcceac543e64fc4556504b340764e987c8",
            "created_at": "2025-11-15T04:09:48Z",
            "diff_hunk": "",
            "html_url": "https://github.com/cython/cython/pull/7321#discussion_r2529529722",
            "id": 2529529722,
            "line": 1,
            "node_id": "PRRC_kwDOABDGAc6WxY96",
            "original_commit_id": "fc7571c3b38e2f515cefefefbf2f5c8298a8c9ac",
            "original_line": 1,
            "original_position": 1,
            "original_start_line": null,
            "path": "tests/errors/pymutex.pyx",
            "position": 1,
            "pull_request_review_id": 3467628894,
            "pull_request_url": "https://api.github.com/repos/cython/cython/pulls/7321",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/pulls/comments/2529529722/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "file",
            "updated_at": "2025-11-15T04:19:02Z",
            "url": "https://api.github.com/repos/cython/cython/pulls/comments/2529529722",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/cython/cython/pull/7321#discussion_r2529537861"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/7321"
                },
                "self": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/comments/2529537861"
                }
            },
            "author_association": "MEMBER",
            "body": "I understand that critical sections are problematic, but why is it a problem when a `pymutex` is held around `yield` or `await`? It doesn't seem very widely useful, and yes, it _might_ lead to bugs (like lots of other code constructs might), but why ban it? I could imagine iterators that hold on to a resource while data is being yielded and processed, and release it afterwards. It's not insane to do that.",
            "commit_id": "8681a2c32ee7c5a5587f23814516ae5a69f65740",
            "created_at": "2025-11-15T04:18:38Z",
            "diff_hunk": "@@ -18,17 +18,16 @@ def no_yield():\n     with l:\n         yield  # banned due to very high possibility of deadlock\n \n-\n-cdef void misuse_the_gil() noexcept nogil:\n+async def no_await(hypothetical_awaitable):\n     cdef cython.pymutex l\n     with l:\n-        with gil:\n-            pass\n+        await hypothetical_awaitable()  # banned due to very high possibility of deadlock",
            "html_url": "https://github.com/cython/cython/pull/7321#discussion_r2529537861",
            "id": 2529537861,
            "line": null,
            "node_id": "PRRC_kwDOABDGAc6Wxa9F",
            "original_commit_id": "fc7571c3b38e2f515cefefefbf2f5c8298a8c9ac",
            "original_line": 24,
            "original_position": 11,
            "original_start_line": null,
            "path": "tests/errors/pymutex.pyx",
            "position": 1,
            "pull_request_review_id": 3467628894,
            "pull_request_url": "https://api.github.com/repos/cython/cython/pulls/7321",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/pulls/comments/2529537861/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-11-15T04:19:02Z",
            "url": "https://api.github.com/repos/cython/cython/pulls/comments/2529537861",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/cython/cython/pull/7321#discussion_r2529810756"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/7321"
                },
                "self": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/comments/2529810756"
                }
            },
            "author_association": "MEMBER",
            "body": "The reasoning was mostly that it was very likely to be misused and possibly accidentally.\r\nIn the error message I do say that they can manually use `acquire()` and `release()` to implement it if they want.\r\n\r\nI guess the options are:\r\n* leave it as is (note that this PR only changes the message and not the behaviour).\r\n* unconditionally allow it\r\n* allow it but with a warning. If we do that I think we should add a new class of warning (i.e. https://cython.readthedocs.io/en/latest/src/userguide/source_files_and_compilation.html#warnings) for thread-safety issues because people will likely want to turn it off? That might be useful anyway.",
            "commit_id": "8681a2c32ee7c5a5587f23814516ae5a69f65740",
            "created_at": "2025-11-15T11:14:43Z",
            "diff_hunk": "@@ -18,17 +18,16 @@ def no_yield():\n     with l:\n         yield  # banned due to very high possibility of deadlock\n \n-\n-cdef void misuse_the_gil() noexcept nogil:\n+async def no_await(hypothetical_awaitable):\n     cdef cython.pymutex l\n     with l:\n-        with gil:\n-            pass\n+        await hypothetical_awaitable()  # banned due to very high possibility of deadlock",
            "html_url": "https://github.com/cython/cython/pull/7321#discussion_r2529810756",
            "id": 2529810756,
            "in_reply_to_id": 2529537861,
            "line": null,
            "node_id": "PRRC_kwDOABDGAc6WydlE",
            "original_commit_id": "fc7571c3b38e2f515cefefefbf2f5c8298a8c9ac",
            "original_line": 24,
            "original_position": 11,
            "original_start_line": null,
            "path": "tests/errors/pymutex.pyx",
            "position": 1,
            "pull_request_review_id": 3467984768,
            "pull_request_url": "https://api.github.com/repos/cython/cython/pulls/7321",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/cython/cython/pulls/comments/2529810756/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-11-15T11:14:43Z",
            "url": "https://api.github.com/repos/cython/cython/pulls/comments/2529810756",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/cython/cython/pull/7321#discussion_r2529833847"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/7321"
                },
                "self": {
                    "href": "https://api.github.com/repos/cython/cython/pulls/comments/2529833847"
                }
            },
            "author_association": "MEMBER",
            "body": "I would allow it. Thread concurrency is inherently non-trivial with traps and gotchas all over the place. I don't see why this one is so much more special or much worse than others.",
            "commit_id": "8681a2c32ee7c5a5587f23814516ae5a69f65740",
            "created_at": "2025-11-15T11:39:10Z",
            "diff_hunk": "@@ -18,17 +18,16 @@ def no_yield():\n     with l:\n         yield  # banned due to very high possibility of deadlock\n \n-\n-cdef void misuse_the_gil() noexcept nogil:\n+async def no_await(hypothetical_awaitable):\n     cdef cython.pymutex l\n     with l:\n-        with gil:\n-            pass\n+        await hypothetical_awaitable()  # banned due to very high possibility of deadlock",
            "html_url": "https://github.com/cython/cython/pull/7321#discussion_r2529833847",
            "id": 2529833847,
            "in_reply_to_id": 2529537861,
            "line": null,
            "node_id": "PRRC_kwDOABDGAc6WyjN3",
            "original_commit_id": "fc7571c3b38e2f515cefefefbf2f5c8298a8c9ac",
            "original_line": 24,
            "original_position": 11,
            "original_start_line": null,
            "path": "tests/errors/pymutex.pyx",
            "position": 1,
            "pull_request_review_id": 3468015587,
            "pull_request_url": "https://api.github.com/repos/cython/cython/pulls/7321",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/cython/cython/pulls/comments/2529833847/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2025-11-15T11:39:10Z",
            "url": "https://api.github.com/repos/cython/cython/pulls/comments/2529833847",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder",
                "user_view_type": "public"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/cython/cython/issues/7321/comments",
    "commit_data": [
        {
            "author": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods",
                "user_view_type": "public"
            },
            "comments_url": "https://api.github.com/repos/cython/cython/commits/fc7571c3b38e2f515cefefefbf2f5c8298a8c9ac/comments",
            "commit": {
                "author": {
                    "date": "2025-11-12T20:17:38Z",
                    "email": "dw-git@d-woods.co.uk",
                    "name": "da-woods"
                },
                "comment_count": 0,
                "committer": {
                    "date": "2025-11-12T20:17:38Z",
                    "email": "dw-git@d-woods.co.uk",
                    "name": "da-woods"
                },
                "message": "Ban yield inside critical sections\n\nand tweak the error message for pymutex in similar situations\n(because it's not that they're banned in generators, they\njust can't be over the suspension point)\n\nThe main reason it definitely doesn't work is that critical_sections\nare strictly nested (so inner ones must be released before\nouter ones) which we can't guarrantee in generators.\n\nCloses #7317",
                "tree": {
                    "sha": "4152e6be97d043d8562f2699a824a1584fa1558e",
                    "url": "https://api.github.com/repos/cython/cython/git/trees/4152e6be97d043d8562f2699a824a1584fa1558e"
                },
                "url": "https://api.github.com/repos/cython/cython/git/commits/fc7571c3b38e2f515cefefefbf2f5c8298a8c9ac",
                "verification": {
                    "payload": null,
                    "reason": "unsigned",
                    "signature": null,
                    "verified": false,
                    "verified_at": null
                }
            },
            "committer": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods",
                "user_view_type": "public"
            },
            "html_url": "https://github.com/cython/cython/commit/fc7571c3b38e2f515cefefefbf2f5c8298a8c9ac",
            "node_id": "C_kwDOAhr4b9oAKGZjNzU3MWMzYjM4ZTJmNTE1Y2VmZWZlZmJmMmY1YzgyOThhOGM5YWM",
            "parents": [
                {
                    "html_url": "https://github.com/cython/cython/commit/9c032e1f3ae4949291815789722bd23ad90e77dd",
                    "sha": "9c032e1f3ae4949291815789722bd23ad90e77dd",
                    "url": "https://api.github.com/repos/cython/cython/commits/9c032e1f3ae4949291815789722bd23ad90e77dd"
                }
            ],
            "sha": "fc7571c3b38e2f515cefefefbf2f5c8298a8c9ac",
            "url": "https://api.github.com/repos/cython/cython/commits/fc7571c3b38e2f515cefefefbf2f5c8298a8c9ac"
        },
        {
            "author": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods",
                "user_view_type": "public"
            },
            "comments_url": "https://api.github.com/repos/cython/cython/commits/8dd3b4b1e24dcadb65575326c153e314f1b37ee2/comments",
            "commit": {
                "author": {
                    "date": "2025-11-15T11:17:42Z",
                    "email": "dw-git@d-woods.co.uk",
                    "name": "da-woods"
                },
                "comment_count": 0,
                "committer": {
                    "date": "2025-11-15T11:17:42Z",
                    "email": "noreply@github.com",
                    "name": "GitHub"
                },
                "message": "formatting\n\nCo-authored-by: scoder <stefan_ml@behnel.de>",
                "tree": {
                    "sha": "527c8e2dff4ffb7fb283a6c40390bd8519de7d52",
                    "url": "https://api.github.com/repos/cython/cython/git/trees/527c8e2dff4ffb7fb283a6c40390bd8519de7d52"
                },
                "url": "https://api.github.com/repos/cython/cython/git/commits/8dd3b4b1e24dcadb65575326c153e314f1b37ee2",
                "verification": {
                    "payload": "tree 527c8e2dff4ffb7fb283a6c40390bd8519de7d52\nparent fc7571c3b38e2f515cefefefbf2f5c8298a8c9ac\nauthor da-woods <dw-git@d-woods.co.uk> 1763205462 +0000\ncommitter GitHub <noreply@github.com> 1763205462 +0000\n\nformatting\n\nCo-authored-by: scoder <stefan_ml@behnel.de>",
                    "reason": "valid",
                    "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJpGGFXCRC1aQ7uu5UhlAAAiFIQADqIFqZXIWcxwW/DHcZ1uWbd\nKJD8w/Ocv2QdkCw+TjIlWWAtX8B6/GRx4LNTbwUCvRFald9UN4244WTwzP6CxJlv\n93uOlvR3fla710aUPINWRuIkJQsJLEe5gq/3x/vDNg9yYlA4VIrX32vEFo4w+lP1\nYs8tjXHaxFeXuv4FMofGLJutCXRsGajvJ/ACEQcp9lu3ZiKplIdsoQ1w3JBMmE3h\nkBpDLIrMP3r6UDmF6NjNpN7uqpsqPKo03RK8t+I79wtVDP0DZpFy+q1yU7MEJIh8\nWL/kEZOWyBDYaBNLgPgeDyOGIOiYH9eLTERdxMhApLG2WfgS/g3yWalOUnSJZ3QY\nJ2dJzagOGZAiI3o5h9KODTYxrAxHqH+cpAWcWu/FdfVyYeJlJLaV1ArrJjEQMbu6\nyEKzh7/m55P5wGkgf7MfIz5CoilAZUOr0NQ1pbqFk901uz/xkFP5vYA91ucI3SCn\nUtUhpQVgPtoqVIFgvaIAd0U7wsroiZnc5qvEpk01dr8B9pbtJxuA1zMTLtDHi0Fj\n1XgNf7kE+/FvXsRBM4S/7i4k5HJbOtb4FLIPPApvxNpDUDUWG899CJN/MzH852Fw\nrwGpJqIOW7d31P6DRrkr6lZ9cg4AgiWH2LA2tz/2t/0qQwuaZaEcCzC7I0C70NZD\nbqeJScGlG0z3n9yGYwvN\n=oSri\n-----END PGP SIGNATURE-----\n",
                    "verified": true,
                    "verified_at": "2025-11-15T11:17:43Z"
                }
            },
            "committer": {
                "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
                "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
                "followers_url": "https://api.github.com/users/web-flow/followers",
                "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
                "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/web-flow",
                "id": 19864447,
                "login": "web-flow",
                "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
                "organizations_url": "https://api.github.com/users/web-flow/orgs",
                "received_events_url": "https://api.github.com/users/web-flow/received_events",
                "repos_url": "https://api.github.com/users/web-flow/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/web-flow",
                "user_view_type": "public"
            },
            "html_url": "https://github.com/cython/cython/commit/8dd3b4b1e24dcadb65575326c153e314f1b37ee2",
            "node_id": "C_kwDOAhr4b9oAKDhkZDNiNGIxZTI0ZGNhZGI2NTU3NTMyNmMxNTNlMzE0ZjFiMzdlZTI",
            "parents": [
                {
                    "html_url": "https://github.com/cython/cython/commit/fc7571c3b38e2f515cefefefbf2f5c8298a8c9ac",
                    "sha": "fc7571c3b38e2f515cefefefbf2f5c8298a8c9ac",
                    "url": "https://api.github.com/repos/cython/cython/commits/fc7571c3b38e2f515cefefefbf2f5c8298a8c9ac"
                }
            ],
            "sha": "8dd3b4b1e24dcadb65575326c153e314f1b37ee2",
            "url": "https://api.github.com/repos/cython/cython/commits/8dd3b4b1e24dcadb65575326c153e314f1b37ee2"
        },
        {
            "author": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods",
                "user_view_type": "public"
            },
            "comments_url": "https://api.github.com/repos/cython/cython/commits/8681a2c32ee7c5a5587f23814516ae5a69f65740/comments",
            "commit": {
                "author": {
                    "date": "2025-11-15T11:33:32Z",
                    "email": "dw-git@d-woods.co.uk",
                    "name": "da-woods"
                },
                "comment_count": 0,
                "committer": {
                    "date": "2025-11-15T11:33:32Z",
                    "email": "dw-git@d-woods.co.uk",
                    "name": "da-woods"
                },
                "message": "Rename file",
                "tree": {
                    "sha": "967614763370f92fd2931cfd0faf95732fdd6d33",
                    "url": "https://api.github.com/repos/cython/cython/git/trees/967614763370f92fd2931cfd0faf95732fdd6d33"
                },
                "url": "https://api.github.com/repos/cython/cython/git/commits/8681a2c32ee7c5a5587f23814516ae5a69f65740",
                "verification": {
                    "payload": null,
                    "reason": "unsigned",
                    "signature": null,
                    "verified": false,
                    "verified_at": null
                }
            },
            "committer": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods",
                "user_view_type": "public"
            },
            "html_url": "https://github.com/cython/cython/commit/8681a2c32ee7c5a5587f23814516ae5a69f65740",
            "node_id": "C_kwDOAhr4b9oAKDg2ODFhMmMzMmVlN2M1YTU1ODdmMjM4MTQ1MTZhZTVhNjlmNjU3NDA",
            "parents": [
                {
                    "html_url": "https://github.com/cython/cython/commit/8dd3b4b1e24dcadb65575326c153e314f1b37ee2",
                    "sha": "8dd3b4b1e24dcadb65575326c153e314f1b37ee2",
                    "url": "https://api.github.com/repos/cython/cython/commits/8dd3b4b1e24dcadb65575326c153e314f1b37ee2"
                }
            ],
            "sha": "8681a2c32ee7c5a5587f23814516ae5a69f65740",
            "url": "https://api.github.com/repos/cython/cython/commits/8681a2c32ee7c5a5587f23814516ae5a69f65740"
        },
        {
            "author": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods",
                "user_view_type": "public"
            },
            "comments_url": "https://api.github.com/repos/cython/cython/commits/28617d352c4c17aa72762e054eb0d6e06c44edbb/comments",
            "commit": {
                "author": {
                    "date": "2025-11-15T13:43:40Z",
                    "email": "dw-git@d-woods.co.uk",
                    "name": "da-woods"
                },
                "comment_count": 0,
                "committer": {
                    "date": "2025-11-15T13:43:40Z",
                    "email": "dw-git@d-woods.co.uk",
                    "name": "da-woods"
                },
                "message": "Unban pymutex in generator and test it",
                "tree": {
                    "sha": "d032feaab0323f31bc3cabbbb9d7dcc5b634053e",
                    "url": "https://api.github.com/repos/cython/cython/git/trees/d032feaab0323f31bc3cabbbb9d7dcc5b634053e"
                },
                "url": "https://api.github.com/repos/cython/cython/git/commits/28617d352c4c17aa72762e054eb0d6e06c44edbb",
                "verification": {
                    "payload": null,
                    "reason": "unsigned",
                    "signature": null,
                    "verified": false,
                    "verified_at": null
                }
            },
            "committer": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods",
                "user_view_type": "public"
            },
            "html_url": "https://github.com/cython/cython/commit/28617d352c4c17aa72762e054eb0d6e06c44edbb",
            "node_id": "C_kwDOAhr4b9oAKDI4NjE3ZDM1MmM0YzE3YWE3Mjc2MmUwNTRlYjBkNmUwNmM0NGVkYmI",
            "parents": [
                {
                    "html_url": "https://github.com/cython/cython/commit/8681a2c32ee7c5a5587f23814516ae5a69f65740",
                    "sha": "8681a2c32ee7c5a5587f23814516ae5a69f65740",
                    "url": "https://api.github.com/repos/cython/cython/commits/8681a2c32ee7c5a5587f23814516ae5a69f65740"
                }
            ],
            "sha": "28617d352c4c17aa72762e054eb0d6e06c44edbb",
            "url": "https://api.github.com/repos/cython/cython/commits/28617d352c4c17aa72762e054eb0d6e06c44edbb"
        },
        {
            "author": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods",
                "user_view_type": "public"
            },
            "comments_url": "https://api.github.com/repos/cython/cython/commits/7cda47dcceac543e64fc4556504b340764e987c8/comments",
            "commit": {
                "author": {
                    "date": "2025-11-16T09:20:27Z",
                    "email": "dw-git@d-woods.co.uk",
                    "name": "da-woods"
                },
                "comment_count": 0,
                "committer": {
                    "date": "2025-11-16T09:20:27Z",
                    "email": "noreply@github.com",
                    "name": "GitHub"
                },
                "message": "Merge branch 'master' into critical_section_yield",
                "tree": {
                    "sha": "99c4c33a23e8792e7c7e2308c5706bfa3bfedc77",
                    "url": "https://api.github.com/repos/cython/cython/git/trees/99c4c33a23e8792e7c7e2308c5706bfa3bfedc77"
                },
                "url": "https://api.github.com/repos/cython/cython/git/commits/7cda47dcceac543e64fc4556504b340764e987c8",
                "verification": {
                    "payload": "tree 99c4c33a23e8792e7c7e2308c5706bfa3bfedc77\nparent 28617d352c4c17aa72762e054eb0d6e06c44edbb\nparent e6c5615403bb4be456eefb658d3e059ea9a157af\nauthor da-woods <dw-git@d-woods.co.uk> 1763284827 +0000\ncommitter GitHub <noreply@github.com> 1763284827 +0000\n\nMerge branch 'master' into critical_section_yield",
                    "reason": "valid",
                    "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJpGZdbCRC1aQ7uu5UhlAAAu18QAHFEwGucFmW3pjovpOvONEI1\n+9Z3b591Tl7qUoIxGjPTTzLV+vAq4Yu0k13N/CGYOKzSp4x73FL/EL15+NowcKyD\nXWxCTDZ53fubEfrEiudWiChDDENs0t9r6mRkPSPZNBmc9YsrtSu2BTNUDnc70a/j\nPvlzWyfygEF8c0vj5P4dbP8801TsXiHPxwTOQtfCUiI9SVh097D1SdRKnWtMEddK\ngh9ylvdjkRu2UuNjZchaWtqxPOTfmuewm1i/xs0N+tRtVrzGuS3O0qludldtd4s8\nzvH+8eiPW8aTZtYb2nmt861WwbiKnSwUHhAUb9PbLSAPTFwxEvQmp22TtbQt0fTa\ndV4VhByHiSxOXhSedhETx1qWCbvof1upUU5G5/fUel4JKTJ8ZV+MX/p/SjLI/7Yb\nMyJe83AXVFk6ke0tRad7RJgBB0KmcQheAmMENjT+xS1h40AubK6eEQFKdKRIR3dU\n7GLUT5Dwjnb4YS6u/0kEBABDrIIILKzFKzL/2RKpU6+9ouH0vgH+Vi5+KG/0WSvg\n7TwzniWE1IHKMbgF0MC9wJvP5JygfRohe/72DyemwZ/0OMMm6fqWToSzcvgPYDlR\no4WHdvlRnUu8e17br5Q9HegEl5fQ9YiBMJ418OH7cn6ysrDp3UT8nfTNvHJIS6y8\nMDJ7n62wMkrmj67P5bXF\n=nvae\n-----END PGP SIGNATURE-----\n",
                    "verified": true,
                    "verified_at": "2025-11-16T09:20:27Z"
                }
            },
            "committer": {
                "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
                "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
                "followers_url": "https://api.github.com/users/web-flow/followers",
                "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
                "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/web-flow",
                "id": 19864447,
                "login": "web-flow",
                "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
                "organizations_url": "https://api.github.com/users/web-flow/orgs",
                "received_events_url": "https://api.github.com/users/web-flow/received_events",
                "repos_url": "https://api.github.com/users/web-flow/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/web-flow",
                "user_view_type": "public"
            },
            "html_url": "https://github.com/cython/cython/commit/7cda47dcceac543e64fc4556504b340764e987c8",
            "node_id": "C_kwDOAhr4b9oAKDdjZGE0N2RjY2VhYzU0M2U2NGZjNDU1NjUwNGIzNDA3NjRlOTg3Yzg",
            "parents": [
                {
                    "html_url": "https://github.com/cython/cython/commit/28617d352c4c17aa72762e054eb0d6e06c44edbb",
                    "sha": "28617d352c4c17aa72762e054eb0d6e06c44edbb",
                    "url": "https://api.github.com/repos/cython/cython/commits/28617d352c4c17aa72762e054eb0d6e06c44edbb"
                },
                {
                    "html_url": "https://github.com/cython/cython/commit/e6c5615403bb4be456eefb658d3e059ea9a157af",
                    "sha": "e6c5615403bb4be456eefb658d3e059ea9a157af",
                    "url": "https://api.github.com/repos/cython/cython/commits/e6c5615403bb4be456eefb658d3e059ea9a157af"
                }
            ],
            "sha": "7cda47dcceac543e64fc4556504b340764e987c8",
            "url": "https://api.github.com/repos/cython/cython/commits/7cda47dcceac543e64fc4556504b340764e987c8"
        }
    ],
    "commits_url": "https://api.github.com/repos/cython/cython/pulls/7321/commits",
    "created_at": "2025-11-12T20:20:59Z",
    "diff_url": "https://github.com/cython/cython/pull/7321.diff",
    "draft": false,
    "head": {
        "label": "da-woods:critical_section_yield",
        "ref": "critical_section_yield",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/da-woods/cython/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/da-woods/cython/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/da-woods/cython/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/da-woods/cython/branches{/branch}",
            "clone_url": "https://github.com/da-woods/cython.git",
            "collaborators_url": "https://api.github.com/repos/da-woods/cython/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/da-woods/cython/comments{/number}",
            "commits_url": "https://api.github.com/repos/da-woods/cython/commits{/sha}",
            "compare_url": "https://api.github.com/repos/da-woods/cython/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/da-woods/cython/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/da-woods/cython/contributors",
            "created_at": "2015-05-09T08:55:00Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/da-woods/cython/deployments",
            "description": "A Python to C compiler",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/da-woods/cython/downloads",
            "events_url": "https://api.github.com/repos/da-woods/cython/events",
            "fork": true,
            "forks": 0,
            "forks_count": 0,
            "forks_url": "https://api.github.com/repos/da-woods/cython/forks",
            "full_name": "da-woods/cython",
            "git_commits_url": "https://api.github.com/repos/da-woods/cython/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/da-woods/cython/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/da-woods/cython/git/tags{/sha}",
            "git_url": "git://github.com/da-woods/cython.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "http://cython.org",
            "hooks_url": "https://api.github.com/repos/da-woods/cython/hooks",
            "html_url": "https://github.com/da-woods/cython",
            "id": 35321967,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/da-woods/cython/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/da-woods/cython/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/da-woods/cython/issues{/number}",
            "keys_url": "https://api.github.com/repos/da-woods/cython/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/da-woods/cython/labels{/name}",
            "language": "Python",
            "languages_url": "https://api.github.com/repos/da-woods/cython/languages",
            "license": {
                "key": "apache-2.0",
                "name": "Apache License 2.0",
                "node_id": "MDc6TGljZW5zZTI=",
                "spdx_id": "Apache-2.0",
                "url": "https://api.github.com/licenses/apache-2.0"
            },
            "merges_url": "https://api.github.com/repos/da-woods/cython/merges",
            "milestones_url": "https://api.github.com/repos/da-woods/cython/milestones{/number}",
            "mirror_url": null,
            "name": "cython",
            "node_id": "MDEwOlJlcG9zaXRvcnkzNTMyMTk2Nw==",
            "notifications_url": "https://api.github.com/repos/da-woods/cython/notifications{?since,all,participating}",
            "open_issues": 2,
            "open_issues_count": 2,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
                "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
                "followers_url": "https://api.github.com/users/da-woods/followers",
                "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
                "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/da-woods",
                "id": 10536947,
                "login": "da-woods",
                "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
                "organizations_url": "https://api.github.com/users/da-woods/orgs",
                "received_events_url": "https://api.github.com/users/da-woods/received_events",
                "repos_url": "https://api.github.com/users/da-woods/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/da-woods",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/da-woods/cython/pulls{/number}",
            "pushed_at": "2025-11-17T08:08:21Z",
            "releases_url": "https://api.github.com/repos/da-woods/cython/releases{/id}",
            "size": 82077,
            "ssh_url": "git@github.com:da-woods/cython.git",
            "stargazers_count": 2,
            "stargazers_url": "https://api.github.com/repos/da-woods/cython/stargazers",
            "statuses_url": "https://api.github.com/repos/da-woods/cython/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/da-woods/cython/subscribers",
            "subscription_url": "https://api.github.com/repos/da-woods/cython/subscription",
            "svn_url": "https://github.com/da-woods/cython",
            "tags_url": "https://api.github.com/repos/da-woods/cython/tags",
            "teams_url": "https://api.github.com/repos/da-woods/cython/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/da-woods/cython/git/trees{/sha}",
            "updated_at": "2025-11-11T21:15:17Z",
            "url": "https://api.github.com/repos/da-woods/cython",
            "visibility": "public",
            "watchers": 2,
            "watchers_count": 2,
            "web_commit_signoff_required": false
        },
        "sha": "7cda47dcceac543e64fc4556504b340764e987c8",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
            "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
            "followers_url": "https://api.github.com/users/da-woods/followers",
            "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
            "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/da-woods",
            "id": 10536947,
            "login": "da-woods",
            "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
            "organizations_url": "https://api.github.com/users/da-woods/orgs",
            "received_events_url": "https://api.github.com/users/da-woods/received_events",
            "repos_url": "https://api.github.com/users/da-woods/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/da-woods",
            "user_view_type": "public"
        }
    },
    "html_url": "https://github.com/cython/cython/pull/7321",
    "id": 3004181680,
    "issue_url": "https://api.github.com/repos/cython/cython/issues/7321",
    "labels": [
        {
            "color": "444444",
            "default": false,
            "description": null,
            "id": 425553654,
            "name": "defect",
            "node_id": "MDU6TGFiZWw0MjU1NTM2NTQ=",
            "url": "https://api.github.com/repos/cython/cython/labels/defect"
        }
    ],
    "locked": false,
    "merge_commit_sha": "df79169da210b28f17efc1f69f351c9a8c45cdd9",
    "merged_at": "2025-11-16T23:30:15Z",
    "milestone": {
        "closed_at": null,
        "closed_issues": 5,
        "created_at": "2025-11-12T19:55:39Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/491659?v=4",
            "events_url": "https://api.github.com/users/scoder/events{/privacy}",
            "followers_url": "https://api.github.com/users/scoder/followers",
            "following_url": "https://api.github.com/users/scoder/following{/other_user}",
            "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/scoder",
            "id": 491659,
            "login": "scoder",
            "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
            "organizations_url": "https://api.github.com/users/scoder/orgs",
            "received_events_url": "https://api.github.com/users/scoder/received_events",
            "repos_url": "https://api.github.com/users/scoder/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/scoder",
            "user_view_type": "public"
        },
        "description": "",
        "due_on": null,
        "html_url": "https://github.com/cython/cython/milestone/122",
        "id": 14113722,
        "labels_url": "https://api.github.com/repos/cython/cython/milestones/122/labels",
        "node_id": "MI_kwDOABDGAc4A11u6",
        "number": 122,
        "open_issues": 3,
        "state": "open",
        "title": "3.2.2",
        "updated_at": "2025-11-17T07:50:04Z",
        "url": "https://api.github.com/repos/cython/cython/milestones/122"
    },
    "node_id": "PR_kwDOABDGAc6zECyw",
    "number": 7321,
    "patch_url": "https://github.com/cython/cython/pull/7321.patch",
    "requested_reviewers": [],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/cython/cython/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/cython/cython/pulls/7321/comments",
    "state": "closed",
    "statuses_url": "https://api.github.com/repos/cython/cython/statuses/7cda47dcceac543e64fc4556504b340764e987c8",
    "title": "Ban yield inside critical sections",
    "updated_at": "2025-11-16T23:30:15Z",
    "url": "https://api.github.com/repos/cython/cython/pulls/7321",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/10536947?v=4",
        "events_url": "https://api.github.com/users/da-woods/events{/privacy}",
        "followers_url": "https://api.github.com/users/da-woods/followers",
        "following_url": "https://api.github.com/users/da-woods/following{/other_user}",
        "gists_url": "https://api.github.com/users/da-woods/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/da-woods",
        "id": 10536947,
        "login": "da-woods",
        "node_id": "MDQ6VXNlcjEwNTM2OTQ3",
        "organizations_url": "https://api.github.com/users/da-woods/orgs",
        "received_events_url": "https://api.github.com/users/da-woods/received_events",
        "repos_url": "https://api.github.com/users/da-woods/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/da-woods/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/da-woods/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/da-woods",
        "user_view_type": "public"
    }
}